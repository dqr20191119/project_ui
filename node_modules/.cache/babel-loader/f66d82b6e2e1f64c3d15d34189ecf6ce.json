{"remainingRequest":"D:\\work\\proj\\project_manage\\project-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\work\\proj\\project_manage\\project-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\work\\proj\\project_manage\\project-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\work\\proj\\project_manage\\project-ui\\src\\views\\information-search\\road-info3.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\work\\proj\\project_manage\\project-ui\\src\\views\\information-search\\road-info3.vue","mtime":1663479653281},{"path":"D:\\work\\proj\\project_manage\\project-ui\\babel.config.js","mtime":1663229169808},{"path":"D:\\work\\proj\\project_manage\\project-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1663230084016},{"path":"D:\\work\\proj\\project_manage\\project-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1663230086097},{"path":"D:\\work\\proj\\project_manage\\project-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1663230084016},{"path":"D:\\work\\proj\\project_manage\\project-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1663230087832}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZSgiRDovd29yay9wcm9qL3Byb2plY3RfbWFuYWdlL3Byb2plY3QtdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVXaWxkY2FyZC5qcyIpLmRlZmF1bHQ7Cgp2YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IHJlcXVpcmUoIkQ6L3dvcmsvcHJvai9wcm9qZWN0X21hbmFnZS9wcm9qZWN0LXVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdC5qcyIpLmRlZmF1bHQ7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyIpOwoKcmVxdWlyZSgib2wvb2wuY3NzIik7Cgp2YXIgX01hcCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgib2wvTWFwIikpOwoKdmFyIG9sQ29udHJvbCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoIm9sL2NvbnRyb2wiKSk7Cgp2YXIgX1ZpZXcgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIm9sL1ZpZXciKSk7Cgp2YXIgX2V4dGVudCA9IHJlcXVpcmUoIm9sL2V4dGVudCIpOwoKdmFyIF9UaWxlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJvbC9sYXllci9UaWxlIikpOwoKdmFyIF9XTVRTID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJvbC9zb3VyY2UvV01UUyIpKTsKCnZhciBfWFlaID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJvbC9zb3VyY2UvWFlaIikpOwoKdmFyIF9XTVRTMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgib2wvdGlsZWdyaWQvV01UUyIpKTsKCnZhciBfUHJvamVjdGlvbiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgib2wvcHJvai9Qcm9qZWN0aW9uIikpOwoKdmFyIF9wcm9qID0gcmVxdWlyZSgib2wvcHJvaiIpOwoKdmFyIF9wcm9qMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgicHJvajQiKSk7Cgp2YXIgX3Byb2ozID0gcmVxdWlyZSgib2wvcHJvai9wcm9qNCIpOwoKdmFyIF9WZWN0b3IgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIm9sL3NvdXJjZS9WZWN0b3IiKSk7Cgp2YXIgX3NvdXJjZSA9IHJlcXVpcmUoIm9sL3NvdXJjZSIpOwoKdmFyIF9WZWN0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJvbC9sYXllci9WZWN0b3IiKSk7Cgp2YXIgX0ZlYXR1cmUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIm9sL0ZlYXR1cmUiKSk7Cgp2YXIgX2ludGVyYWN0aW9uID0gcmVxdWlyZSgib2wvaW50ZXJhY3Rpb24iKTsKCnZhciBfc3R5bGUgPSByZXF1aXJlKCJvbC9zcmMvc3R5bGUiKTsKCnZhciBfV0tUID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJvbC9mb3JtYXQvV0tUIikpOwoKdmFyIF9HZW9KU09OID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJvbC9mb3JtYXQvR2VvSlNPTiIpKTsKCnZhciBfT3ZlcmxheSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgib2wvT3ZlcmxheSIpKTsKCnZhciBlY2hhcnRzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZSgiZWNoYXJ0cyIpKTsKCnZhciBfYXhpb3MgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoImF4aW9zIikpOwoKdmFyIF9Qb2ludCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgib2wvZ2VvbS9Qb2ludCIpKTsKCnZhciBfU3R5bGUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIm9sL3N0eWxlL1N0eWxlIikpOwoKdmFyIF9JY29uID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJvbC9zdHlsZS9JY29uIikpOwoKdmFyIF9UZXh0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJvbC9zdHlsZS9UZXh0IikpOwoKdmFyIF9uYXZfYmFyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIuLi9jb21wb25lbnRzL25hdl9iYXIudnVlIikpOwoKdmFyIF9jb21wb25lbnQgPSByZXF1aXJlKCJAL2FwaS9jb25maWcvY29tcG9uZW50Iik7Cgp2YXIgX3JlcXVlc3QgPSByZXF1aXJlKCJAL3V0aWxzL3JlcXVlc3QiKTsKCnZhciBfYmFyX2NoYXJ0X3YgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4uL3RyYWZmaWMtZGVjaXNpb24vY29tcG9uZW50cy9iYXJfY2hhcnRfdi52dWUiKSk7Cgp2YXIgX3BpZV9jaGFydCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi4vdHJhZmZpYy1kZWNpc2lvbi9jb21wb25lbnRzL3BpZV9jaGFydC52dWUiKSk7Cgp2YXIgX3Njb2xsRGl2ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIuLi90cmFmZmljLWRlY2lzaW9uL2NvbXBvbmVudHMvc2NvbGxEaXYudnVlIikpOwoKdmFyIF9iYXJfY2hhcnRfaCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi4vdHJhZmZpYy1kZWNpc2lvbi9jb21wb25lbnRzL2Jhcl9jaGFydF9oLnZ1ZSIpKTsKCnZhciBfdnVlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJ2dWUiKSk7CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovL+S4reW/g+WdkOaghwp2YXIgY2VudGVyQ29yZGluYXRlID0gWzY1NjgxMy40NDI1NiwgMzU2MDQzMi45ODI0NV07IC8v5Z2Q5qCH5a6a5LmJCgpfcHJvajIuZGVmYXVsdC5kZWZzKCJFUFNHOjQ1NDgiLCAiK3Byb2o9dG1lcmMgK2xhdF8wPTAgK2xvbl8wPTExNyAraz0xICt4XzA9NTAwMDAwICt5XzA9MCArZWxscHM9R1JTODAgK3VuaXRzPW0gK25vX2RlZnMiKTsKCigwLCBfcHJvajMucmVnaXN0ZXIpKF9wcm9qMi5kZWZhdWx0KTsgLy/mmK/lkKblsZXnpLrmgLvkvZPkv6Hmga/moIfor4YKCnZhciBzaG93U3VtbXJ5RmxhZyA9IHRydWU7IC8vIOmBk+i3r+exu+Wei+WbvuS+i+W4uOmHjwoKdmFyIGxheWVyTmFtZSA9ICJUZXN0OnBsYW5lMV92MiI7CnZhciB2ZWN0b3JMYXllcjsgLy/lnLDlm77liJ3lp4vljJYKCnZhciB2aWV3ID0gbmV3IF9WaWV3LmRlZmF1bHQoewogIGNlbnRlcjogKDAsIF9wcm9qLnRyYW5zZm9ybSkoY2VudGVyQ29yZGluYXRlLCAnRVBTRzo0NTQ4JywgJ0VQU0c6Mzg1NycpLAogIG1pblpvb206IDQsCiAgbWF4Wm9vbTogMTgsCiAgem9vbTogMTMuNiAvLyDlnLDlm77liJ3lp4vljJbnmoTnvKnmlL7nuqfliKsKCn0pOyAvL+mrmOW+t+WcsOWbvuWbvuWxggoKdmFyIGdhb2RlTWFwTGF5ZXIgPSBuZXcgX1RpbGUuZGVmYXVsdCh7CiAgc291cmNlOiBuZXcgX1hZWi5kZWZhdWx0KHsKICAgIHVybDogJ2h0dHA6Ly93ZWJzdDB7MS00fS5pcy5hdXRvbmF2aS5jb20vYXBwbWFwdGlsZT9sYW5nPXpoX2NuJnNpemU9MSZzY2FsZT0xJnN0eWxlPTcmeD17eH0meT17eX0mej17en0nCiAgfSkKfSk7CnZhciBfZGVmYXVsdCA9IHsKICBuYW1lOiAiUm9hZCIsCiAgY29tcG9uZW50czogewogICAgbmF2X2JhclZ1ZTogX25hdl9iYXIuZGVmYXVsdCwKICAgIGJhcl9jaGFydF92VnVlOiBfYmFyX2NoYXJ0X3YuZGVmYXVsdCwKICAgIHNjb2xsRGl2VnVlOiBfc2NvbGxEaXYuZGVmYXVsdCwKICAgIHBpZV9jaGFydFZ1ZTogX3BpZV9jaGFydC5kZWZhdWx0LAogICAgYmFyX2NoYXJ0X2hWdWU6IF9iYXJfY2hhcnRfaC5kZWZhdWx0CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbmF2TGlzdDogWyfkv6Hmga/mn6Xor6InLCAn6YGT6Lev5L+h5oGvJ10sCiAgICAgIHZhbHVlMTogJ3RydWUnLAogICAgICAvL+W8gOWFswogICAgICByb2FkVHlwZVJhZGlvOiBbIjEiLCAiMiIsICIzIiwgIjQiLCAiNSIsICI2IiwgIjciXSwKICAgICAgLy/pgZPot6/nrYnnuqcKICAgICAgcmFkaW8yOiBbIjEiLCAiMiIsICIzIl0sCiAgICAgIC8v5bu66K6+5L+h5oGvCiAgICAgIGdlb0pzb25MaXN0OiB7fSwKICAgICAgcm9hZEJhc2ljSW5mbzoge30sCiAgICAgIG1hcmtMYXllck5hbWU6ICdUZXN0JTNBcm9hZF9wb2ludHMnLAogICAgICBtYXJrTWluWm9vbTogMTQuNywKICAgICAgbWFya0ZsYWc6IGZhbHNlLAogICAgICBoaWRQb3A6IGZhbHNlLAogICAgICBzaG93UG9wOiB0cnVlLAogICAgICBtYXJrVmVjdG9yQXJyYXk6IFtdLAogICAgICB0YWJsZUFycmF5OiBbXSwKICAgICAgbWVudUlkOiBudWxsLAogICAgICBtYXJrRGF0YUNhY2hlOiBudWxsLAogICAgICBteUNoYXJ0OiB7fSwKICAgICAgLy8gc29ydERhdGE6IFtdLCAvL+WKqOaAgeaOkuW6j+aVsOaNrgogICAgICBteUNoYXJ0U3R5bGU6IHsKICAgICAgICB3aWR0aDogIjEwMCUiLAogICAgICAgIGhlaWdodDogIjI1MHB4IiwKICAgICAgICBkaXNwbGF5OiAiaW5saW5lLWJsb2NrIgogICAgICB9LAogICAgICByb2FkVHlwZUxlbmdlbmRMaXN0OiBbewogICAgICAgIGxlbmdlbmRUeXBlTmFtZTogIumrmOmAn+WFrOi3ryIsCiAgICAgICAgbGVuZ2VuZFR5cGVWYWx1ZTogIjUiLAogICAgICAgIGZpbHRlclByb3BlcnR5OiAibGF5ZXIiLAogICAgICAgIHN0cm9rZTogIiMwMEZGMDAiLAogICAgICAgIHN0cm9rZVdpZHRoOiAiNy4yIiwKICAgICAgICBlbmFibGVTZWxlY3Q6IHRydWUKICAgICAgfSwgewogICAgICAgIGxlbmdlbmRUeXBlTmFtZTogIuW/q+mAn+i3ryIsCiAgICAgICAgbGVuZ2VuZFR5cGVWYWx1ZTogIjEiLAogICAgICAgIGZpbHRlclByb3BlcnR5OiAibGF5ZXIiLAogICAgICAgIHN0cm9rZTogIiNmZjAwZmYiLAogICAgICAgIHN0cm9rZVdpZHRoOiAiNi4zIiwKICAgICAgICBlbmFibGVTZWxlY3Q6IHRydWUKICAgICAgfSwgewogICAgICAgIGxlbmdlbmRUeXBlTmFtZTogIuS4u+W5sui3ryIsCiAgICAgICAgbGVuZ2VuZFR5cGVWYWx1ZTogIjIiLAogICAgICAgIGZpbHRlclByb3BlcnR5OiAibGF5ZXIiLAogICAgICAgIHN0cm9rZTogIiNmZjAwMDAiLAogICAgICAgIHN0cm9rZVdpZHRoOiAiNS40IiwKICAgICAgICBlbmFibGVTZWxlY3Q6IHRydWUKICAgICAgfSwgewogICAgICAgIGxlbmdlbmRUeXBlTmFtZTogIuasoeW5sui3ryIsCiAgICAgICAgbGVuZ2VuZFR5cGVWYWx1ZTogIjMiLAogICAgICAgIGZpbHRlclByb3BlcnR5OiAibGF5ZXIiLAogICAgICAgIHN0cm9rZTogIiMwMDdmZmYiLAogICAgICAgIHN0cm9rZVdpZHRoOiAiMy42IiwKICAgICAgICBlbmFibGVTZWxlY3Q6IHRydWUKICAgICAgfSwgewogICAgICAgIGxlbmdlbmRUeXBlTmFtZTogIuaUr+i3ryIsCiAgICAgICAgbGVuZ2VuZFR5cGVWYWx1ZTogIjQiLAogICAgICAgIGZpbHRlclByb3BlcnR5OiAibGF5ZXIiLAogICAgICAgIHN0cm9rZTogIiMwMDk5NGMiLAogICAgICAgIHN0cm9rZVdpZHRoOiAiMi43IiwKICAgICAgICBlbmFibGVTZWxlY3Q6IHRydWUKICAgICAgfSwgewogICAgICAgIGxlbmdlbmRUeXBlTmFtZTogIuS9juetiee6p+mBk+i3ryIsCiAgICAgICAgbGVuZ2VuZFR5cGVWYWx1ZTogIjYiLAogICAgICAgIGZpbHRlclByb3BlcnR5OiAibGF5ZXIiLAogICAgICAgIHN0cm9rZTogIiM5OTk5MDAiLAogICAgICAgIHN0cm9rZVdpZHRoOiAiMS44IiwKICAgICAgICBlbmFibGVTZWxlY3Q6IHRydWUKICAgICAgfSwgewogICAgICAgIGxlbmdlbmRUeXBlTmFtZTogIuWMnemBkyIsCiAgICAgICAgbGVuZ2VuZFR5cGVWYWx1ZTogIjciLAogICAgICAgIGZpbHRlclByb3BlcnR5OiAibGF5ZXIiLAogICAgICAgIHN0cm9rZTogIiMwMEZGRkYiLAogICAgICAgIHN0cm9rZVdpZHRoOiAiMS44IiwKICAgICAgICBlbmFibGVTZWxlY3Q6IHRydWUKICAgICAgfSwgewogICAgICAgIGxlbmdlbmRUeXBlTmFtZTogIjAw6YGT6Lev57qi57q/IiwKICAgICAgICBsZW5nZW5kVHlwZVZhbHVlOiAiOCIsCiAgICAgICAgZmlsdGVyUHJvcGVydHk6ICJsYXllciIsCiAgICAgICAgc3Ryb2tlOiAiI2JiYmJiYiIsCiAgICAgICAgc3Ryb2tlV2lkdGg6ICIxLjYiLAogICAgICAgIGVuYWJsZVNlbGVjdDogZmFsc2UKICAgICAgfSwgewogICAgICAgIGxlbmdlbmRUeXBlTmFtZTogIjAw6KeE5YiS6L6555WMIiwKICAgICAgICBsZW5nZW5kVHlwZVZhbHVlOiAiOSIsCiAgICAgICAgZmlsdGVyUHJvcGVydHk6ICJsYXllciIsCiAgICAgICAgc3Ryb2tlOiAiI0ZGMDAwMCIsCiAgICAgICAgc3Ryb2tlV2lkdGg6ICIxLjgiLAogICAgICAgIGRhc2hPZmZzZXQ6ICIxMCIsCiAgICAgICAgZGFzaGFycmF5OiAiMTAgMTUiLAogICAgICAgIGVuYWJsZVNlbGVjdDogZmFsc2UKICAgICAgfV0sCiAgICAgIHJvYWRUeXBlRGlzcGFseUxlbmdlbmRMaXN0OiBbXSwKICAgICAgYnVpbGRTdGF0dXNMZW5nZW5kTGlzdDogW3sKICAgICAgICBsZW5nZW5kVHlwZU5hbWU6ICLlu7rmiJDkvb/nlKgiLAogICAgICAgIGxlbmdlbmRUeXBlVmFsdWU6ICIxIiwKICAgICAgICBmaWx0ZXJQcm9wZXJ0eTogInN0YXR1cyIsCiAgICAgICAgc3Ryb2tlOiAiI2IxZGIxNiIsCiAgICAgICAgc3Ryb2tlV2lkdGg6ICIzIiwKICAgICAgICBlbmFibGVTZWxlY3Q6IHRydWUKICAgICAgfSwgewogICAgICAgIGxlbmdlbmRUeXBlTmFtZTogIuaWveW3peW7uuiuvuS4rSIsCiAgICAgICAgbGVuZ2VuZFR5cGVWYWx1ZTogIjIiLAogICAgICAgIGZpbHRlclByb3BlcnR5OiAic3RhdHVzIiwKICAgICAgICBzdHJva2U6ICIjZWJjYzBjIiwKICAgICAgICBzdHJva2VXaWR0aDogIjQiLAogICAgICAgIGVuYWJsZVNlbGVjdDogdHJ1ZQogICAgICB9LCB7CiAgICAgICAgbGVuZ2VuZFR5cGVOYW1lOiAi6KeE5YiS6YGT6LevIiwKICAgICAgICBsZW5nZW5kVHlwZVZhbHVlOiAiMyIsCiAgICAgICAgZmlsdGVyUHJvcGVydHk6ICJzdGF0dXMiLAogICAgICAgIHN0cm9rZTogIiNlYjczMjMiLAogICAgICAgIHN0cm9rZVdpZHRoOiAiNSIsCiAgICAgICAgZW5hYmxlU2VsZWN0OiB0cnVlCiAgICAgIH1dLAogICAgICBsYXllclN0eWxlU2xkOiAiIgogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAvL+WIneWni+WMluiPnOWNlQogICAgdGhpcy5tZW51SWQgPSAoMCwgX3JlcXVlc3QuZ2V0VXJsS2V5KSgnbWVudUlkJyk7IC8v5p+l6K+i57uE5Lu25L+h5oGvCgogICAgdGhpcy5pbml0Q29tcG9uZW50SW5mbygpOyAvL+WIneWni+WbvuS+i+WxleekuuaVsOaNrgoKICAgIHRoaXMuaW5pdERpc3BsYXlMZW5nZW5kRGF0YSgpOyAvL+e7hOijheWbvuWxguagt+W8j+aVsOaNrgoKICAgIHRoaXMuaW5pdFN0eWxlKCk7IC8v5Yid5aeL5YyW5Zu+5bGCCgogICAgdGhpcy5pbml0TWFwKCk7CiAgICB0aGlzLnNob3dQb3AgPSBmYWxzZTsKICAgIHRoaXMuaGlkUG9wID0gdHJ1ZTsgLy/liqDovb3pgZPot6/mlbTkvZPkv6Hmga8KICAgIC8vdGhpcy5nZXRSb2FkSW5mbyh0aGlzKQoKICAgIHZhciBwb3BTdW1tcnkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9wLXN1bW1yeScpOwogICAgcG9wU3VtbXJ5LmFkZEV2ZW50TGlzdGVuZXIoIndlYmtpdEFuaW1hdGlvbkVuZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCFzaG93U3VtbXJ5RmxhZykgewogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwb3Atc3VtbXJ54oCUY29sbGFwc2UnKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgfQogICAgfSk7CiAgICBwb3BTdW1tcnkuYWRkRXZlbnRMaXN0ZW5lcigiYW5pbWF0aW9uZW5kIiwgZnVuY3Rpb24gKCkgewogICAgICBpZiAoIXNob3dTdW1tcnlGbGFnKSB7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BvcC1zdW1tcnnigJRjb2xsYXBzZScpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICB9CiAgICB9KTsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ29sLXBvcHVwJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXRMZWdlbmRJbmZvOiBmdW5jdGlvbiBpbml0TGVnZW5kSW5mbyhsZWdlbmRMaXN0LCBfdGhpcykgewogICAgICBpZiAobGVnZW5kTGlzdCAmJiBsZWdlbmRMaXN0Lmxlbmd0aCA+IDApIHsKICAgICAgICAvL+iuvue9ruagkeiKgueCueaVsOaNrgogICAgICAgIHZhciB0cmVlRGF0YV8gPSBsZWdlbmRMaXN0WzBdOwogICAgICAgIF90aGlzLnRyZWVEYXRhID0gdHJlZURhdGFfOyAvL+iuvue9rumhtue6p+iPnOWNlemAieS4rQoKICAgICAgICB2YXIgY2hlY2tlZElkc18gPSBbXTsKICAgICAgICB2YXIgZXhwYW5kSWRzID0gW107CgogICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdHJlZURhdGFfLmxlbmd0aDsgaysrKSB7CiAgICAgICAgICB2YXIgaXRlbSA9IHRyZWVEYXRhX1trXTsKCiAgICAgICAgICBpZiAoaXRlbS5wYXJlbnRJZCA9PSBudWxsKSB7CiAgICAgICAgICAgIGNoZWNrZWRJZHNfLnB1c2goaXRlbS5pZCk7CiAgICAgICAgICAgIHZhciBjaGlsZHJlbl8gPSBpdGVtLmNoaWxkcmVuOwoKICAgICAgICAgICAgaWYgKGNoaWxkcmVuXyAhPSBudWxsICYmIGNoaWxkcmVuXy5sZW5ndGggIT0gMCkgewogICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY2hpbGRyZW5fLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgICBleHBhbmRJZHMucHVzaChjaGlsZHJlbl9bal0uaWQpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBleHBhbmRJZHMucHVzaChpdGVtLmlkKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gLy/pu5jorqTlsZXlsZXlvIDkuoznuqfoj5zljZUKCgogICAgICAgIF90aGlzLmRlZmF1bHRFeHBhbmRJZHMgPSBleHBhbmRJZHM7CiAgICAgICAgX3RoaXMuZGVmYXVsdENoZWNrZWRJZHMgPSBjaGVja2VkSWRzXzsKICAgICAgfQogICAgfSwKICAgIGluaXRDb21wb25lbnRJbmZvOiBmdW5jdGlvbiBpbml0Q29tcG9uZW50SW5mbygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgKDAsIF9jb21wb25lbnQuZmluZENvbXBvbmVudEluZm8pKHRoaXMubWVudUlkLCBudWxsKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIC8v5Zu+5L6LCiAgICAgICAgdmFyIGxlZ2VuZENvbmZpZ0RhdGEgPSByZXNwb25zZS5kYXRhLmRlY0xlZ2VuZENvbmZpZ0xpc3Q7CgogICAgICAgIGlmIChsZWdlbmRDb25maWdEYXRhICYmIGxlZ2VuZENvbmZpZ0RhdGEubGVuZ3RoID4gMCkgewogICAgICAgICAgLy/orr7nva7moJHoioLngrnmlbDmja4KICAgICAgICAgIHZhciB0cmVlRGF0YV8gPSBsZWdlbmRDb25maWdEYXRhWzBdOwogICAgICAgICAgdmFyIHRyZWVEYXRhMl8gPSBsZWdlbmRDb25maWdEYXRhWzFdOyAvL+makOiXj+iuvue9rueahOiKgueCuQoKICAgICAgICAgIF90aGlzLnRyZWVEYXRhID0gdHJlZURhdGFfOwogICAgICAgICAgX3RoaXMudHJlZURhdGEyID0gdHJlZURhdGEyXzsKICAgICAgICAgIGRlYnVnZ2VyOyAvL+iuvue9rumhtue6p+iPnOWNlemAieS4rQoKICAgICAgICAgIHZhciBleHBhbmRJZHMgPSBbXTsKCiAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRyZWVEYXRhXy5sZW5ndGg7IGsrKykgewogICAgICAgICAgICB2YXIgaXRlbSA9IHRyZWVEYXRhX1trXTsKCiAgICAgICAgICAgIGlmIChpdGVtLnBhcmVudElkID09IG51bGwpIHsKICAgICAgICAgICAgICB2YXIgY2hpbGRyZW5fID0gaXRlbS5jaGlsZHJlbjsKCiAgICAgICAgICAgICAgaWYgKGNoaWxkcmVuXyAhPSBudWxsICYmIGNoaWxkcmVuXy5sZW5ndGggIT0gMCkgewogICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjaGlsZHJlbl8ubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgICAgICAgZXhwYW5kSWRzLnB1c2goY2hpbGRyZW5fW2pdLmlkKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZXhwYW5kSWRzLnB1c2goaXRlbS5pZCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9IC8v6buY6K6k5bGV5bGV5byA5LqM57qn6I+c5Y2VCgoKICAgICAgICAgIF90aGlzMi5kZWZhdWx0RXhwYW5kSWRzID0gZXhwYW5kSWRzOwogICAgICAgICAgX3RoaXMyLmRlZmF1bHRDaGVja2VkSWRzID0gX3RoaXMuZ2V0VHJlZWNoZWNrZWRJZCh0cmVlRGF0YV8pOwogICAgICAgIH0gLy/ooajmoLwKCgogICAgICAgIHZhciB0YWJsZUxpc3QgPSByZXNwb25zZS5kYXRhLnRhYmxlTGlzdDsKICAgICAgICBfdGhpcy50YWJsZUFycmF5ID0gdGFibGVMaXN0OwogICAgICB9KTsKICAgIH0sCiAgICAvL+mAkuW9kuiOt+iKgueCueS/oeaBrwogICAgZ2V0Q2hlY2tlZElkc1JlY3VyOiBmdW5jdGlvbiBnZXRDaGVja2VkSWRzUmVjdXIoaXRlbSwgaWRzXykgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGlmIChpdGVtLmlkICYmIGl0ZW0uY2hlY2tTdGF0dXMgPT0gJ1knKSB7CiAgICAgICAgaWRzXyA9IGlkc18gPT0gbnVsbCA/IFtdIDogaWRzXzsKICAgICAgICBpZHNfLnB1c2goaXRlbS5pZCk7CiAgICAgIH0gLy/lpoLmnpzlrZDoioLngrnpgInkuK3vvIzpnIDopoHlsIbniLboioLljYrpgInkuK3nirbmgIHoioLngrnliqDlhaUKCgogICAgICB2YXIgY3VycmVudExlbiA9IGlkc18ubGVuZ3RoOwoKICAgICAgaWYgKGl0ZW0uY2hpbGRyZW4gIT0gbnVsbCkgewogICAgICAgIGl0ZW0uY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgX3RoaXMzLmdldENoZWNrZWRJZHNSZWN1cihpdGVtLCBpZHNfKTsKICAgICAgICB9KTsKCiAgICAgICAgaWYgKGN1cnJlbnRMZW4gPCBpZHNfLmxlbmd0aCAmJiBpZHNfLmluZGV4T2YoaXRlbS5pZCkgPT0gLTEpIHsKICAgICAgICAgIGlkc18ucHVzaChpdGVtLmlkKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAvL+iOt+WPluagkeaJgOacieeahOiKgueCueS/oeaBrwogICAgZ2V0VHJlZWNoZWNrZWRJZDogZnVuY3Rpb24gZ2V0VHJlZWNoZWNrZWRJZCh0cmVlRGF0YSkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHZhciBpZHMgPSBbXTsKICAgICAgdHJlZURhdGEuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIF90aGlzNC5nZXRDaGVja2VkSWRzUmVjdXIoaXRlbSwgaWRzKTsKICAgICAgfSk7CiAgICAgIHJldHVybiBpZHM7CiAgICB9LAogICAgaW5pdERpc3BsYXlMZW5nZW5kRGF0YTogZnVuY3Rpb24gaW5pdERpc3BsYXlMZW5nZW5kRGF0YSgpIHsKICAgICAgdGhpcy5yb2FkVHlwZURpc3BhbHlMZW5nZW5kTGlzdCA9IHRoaXMucm9hZFR5cGVMZW5nZW5kTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5lbmFibGVTZWxlY3QgPT0gdHJ1ZTsKICAgICAgfSk7CiAgICB9LAogICAgLy/liJ3lp4vljJbmoLflvI8KICAgIGluaXRTdHlsZTogZnVuY3Rpb24gaW5pdFN0eWxlKCkgewogICAgICB2YXIgaW5pdFNsZCA9ICc8P3htbCB2ZXJzaW9uPSIxLjAiIGVuY29kaW5nPSJHQksiPz48U3R5bGVkTGF5ZXJEZXNjcmlwdG9yIHZlcnNpb249IjEuMC4wIiB4bWxucz0iaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9zbGQiIHhtbG5zOm9nYz0iaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9vZ2MiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWxuczp4c2k9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIiB4bWxuczpnbWw9Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sIiB4c2k6c2NoZW1hTG9jYXRpb249Imh0dHA6Ly93d3cub3Blbmdpcy5uZXQvc2xkIGh0dHA6Ly9zY2hlbWFzLm9wZW5naXMubmV0L3NsZC8xLjAuMC9TdHlsZWRMYXllckRlc2NyaXB0b3IueHNkIj48TmFtZWRMYXllcj48TmFtZT4nICsgbGF5ZXJOYW1lICsgJzwvTmFtZT48VXNlclN0eWxlPjxOYW1lPnJvYWRUeXBlPC9OYW1lPjxUaXRsZT5yb2FkVHlwZTwvVGl0bGU+PEFic3RyYWN0PnJvYWRUeXBlPC9BYnN0cmFjdD48RmVhdHVyZVR5cGVTdHlsZT4nOwogICAgICB0aGlzLnJvYWRUeXBlTGVuZ2VuZExpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHZhciB0eXBlTmFtZSA9IGl0ZW0ubGVuZ2VuZFR5cGVOYW1lOwogICAgICAgIHZhciBmaWx0ZXJQcm9wZXJ0eSA9IGl0ZW0uZmlsdGVyUHJvcGVydHk7CiAgICAgICAgdmFyIHN0cm9rZSA9IGl0ZW0uc3Ryb2tlOwogICAgICAgIHZhciBzdHJva2VXaWR0aCA9IGl0ZW0uc3Ryb2tlV2lkdGg7CiAgICAgICAgdmFyIGRhc2hPZmZzZXQgPSBpdGVtLmRhc2hPZmZzZXQ7CiAgICAgICAgdmFyIGRhc2hhcnJheSA9IGl0ZW0uZGFzaGFycmF5OwogICAgICAgIGluaXRTbGQgPSBpbml0U2xkICsgJzxSdWxlPjxUaXRsZT4nICsgdHlwZU5hbWUgKyAnPC9UaXRsZT48b2djOkZpbHRlcj48b2djOlByb3BlcnR5SXNFcXVhbFRvPjxvZ2M6UHJvcGVydHlOYW1lPicgKyBmaWx0ZXJQcm9wZXJ0eSArICc8L29nYzpQcm9wZXJ0eU5hbWU+PG9nYzpMaXRlcmFsPicgKyB0eXBlTmFtZSArICc8L29nYzpMaXRlcmFsPjwvb2djOlByb3BlcnR5SXNFcXVhbFRvPjwvb2djOkZpbHRlcj4nICsgJzxQb2x5Z29uU3ltYm9saXplcj48U3Ryb2tlPjxDc3NQYXJhbWV0ZXIgbmFtZT0ic3Ryb2tlIj4nICsgc3Ryb2tlICsgJzwvQ3NzUGFyYW1ldGVyPjxDc3NQYXJhbWV0ZXIgbmFtZT0ic3Ryb2tlLXdpZHRoIj4nICsgc3Ryb2tlV2lkdGggKyAnPC9Dc3NQYXJhbWV0ZXI+JzsKCiAgICAgICAgaWYgKGRhc2hPZmZzZXQpIHsKICAgICAgICAgIGluaXRTbGQgPSBpbml0U2xkICsgJzxDc3NQYXJhbWV0ZXIgbmFtZT0ic3Ryb2tlLWRhc2hvZmZzZXQiPicgKyBkYXNoT2Zmc2V0ICsgJzwvQ3NzUGFyYW1ldGVyPic7CiAgICAgICAgfQoKICAgICAgICBpZiAoZGFzaGFycmF5KSB7CiAgICAgICAgICBpbml0U2xkID0gaW5pdFNsZCArICc8Q3NzUGFyYW1ldGVyIG5hbWU9InN0cm9rZS1kYXNoYXJyYXkiPicgKyBkYXNoYXJyYXkgKyAnPC9Dc3NQYXJhbWV0ZXI+JzsKICAgICAgICB9CgogICAgICAgIGluaXRTbGQgPSBpbml0U2xkICsgJzwvU3Ryb2tlPjwvUG9seWdvblN5bWJvbGl6ZXI+PC9SdWxlPic7CiAgICAgIH0pOwogICAgICBpbml0U2xkID0gaW5pdFNsZCArICc8L0ZlYXR1cmVUeXBlU3R5bGU+PC9Vc2VyU3R5bGU+PC9OYW1lZExheWVyPjwvU3R5bGVkTGF5ZXJEZXNjcmlwdG9yPic7CiAgICAgIHRoaXMubGF5ZXJTdHlsZVNsZCA9IGluaXRTbGQ7CiAgICB9LAogICAgLy8g5Yid5aeL5YyW5Zyw5Zu+CiAgICBpbml0TWFwOiBmdW5jdGlvbiBpbml0TWFwKCkgewogICAgICB2YXIgbWFwQ29udGFpbmVyID0gdGhpcy4kcmVmcy5tYXA7IC8v6YCa6L+Hd21z5Yqg6L295pWw5o2uCgogICAgICB2YXIgd21zU291cmNlID0gbmV3IF9zb3VyY2UuVGlsZVdNUyh7CiAgICAgICAgdXJsOiBwcm9jZXNzLmVudi5WVUVfQVBQX0dJU19CQVNFX1VSTCArICcvd21zJywKICAgICAgICBwcm9qZWN0aW9uOiAnRVBTRzo0NTQ4JywKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICdMQVlFUlMnOiBsYXllck5hbWUsCiAgICAgICAgICAnVkVSU0lPTic6ICcxLjEuMCcsCiAgICAgICAgICAnU1RZTEVTJzogdW5kZWZpbmVkLAogICAgICAgICAgJ1NMRF9CT0RZJzogdGhpcy5sYXllclN0eWxlU2xkCiAgICAgICAgfSwKICAgICAgICBzZXJ2ZXJUeXBlOiAnZ2Vvc2VydmVyJwogICAgICB9KTsgLy/oh6rlrprkuYnlm77lsYIKCiAgICAgIHZlY3RvckxheWVyID0gbmV3IF9UaWxlLmRlZmF1bHQoewogICAgICAgIHNvdXJjZTogd21zU291cmNlCiAgICAgIH0pOyAvL+WwhuWbvuWxguWKoOWFpU1hcAoKICAgICAgdmFyIG1hcCA9IG5ldyBfTWFwLmRlZmF1bHQoewogICAgICAgIGxheWVyczogW2dhb2RlTWFwTGF5ZXIsIHZlY3RvckxheWVyXSwKICAgICAgICB0YXJnZXQ6IG1hcENvbnRhaW5lciwKICAgICAgICB2aWV3OiB2aWV3CiAgICAgIH0pOyAvLyDmt7vliqDpvKDmoIfngrnlh7vkuovku7YKCiAgICAgIG1hcC5vbignY2xpY2snLCB0aGlzLm1hcENsaWNrKTsKICAgICAgbWFwLm9uKCdtb3ZlZW5kJywgdGhpcy5tYXBNb3ZlZW5kKTsgLy8g5L+d5a2Y5Zyw5Zu+CgogICAgICB0aGlzLm1hcERhdGEgPSBtYXA7CiAgICB9LAogICAgY3JlYXRlTWFya1N0eWxlOiBmdW5jdGlvbiBjcmVhdGVNYXJrU3R5bGUoZmVhdHVyZSwgZm9udEFuZ2xlKSB7CiAgICAgIC8v6L+U5Zue5LiA5Liq5qC35byPCiAgICAgIHJldHVybiBuZXcgX1N0eWxlLmRlZmF1bHQoewogICAgICAgIC8v5paH5pys5qC35byPCiAgICAgICAgdGV4dDogbmV3IF9UZXh0LmRlZmF1bHQoewogICAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJywKICAgICAgICAgIHRleHRCYXNlbGluZTogJ21pZGRsZScsCiAgICAgICAgICBmb250OiAnbm9ybWFsIDEycHgg5b6u6L2v6ZuF6buRJywKICAgICAgICAgIHRleHQ6IGZlYXR1cmUuZ2V0KCduYW1lJyksCiAgICAgICAgICBmaWxsOiBuZXcgX3N0eWxlLkZpbGwoewogICAgICAgICAgICBjb2xvcjogJyNiYmJiYmInCiAgICAgICAgICB9KSwKICAgICAgICAgIHJvdGF0aW9uOiBmb250QW5nbGUgKiBNYXRoLlBJIC8gMTgwLAogICAgICAgICAgcGFkZGluZzogWzIsIDUsIDIsIDVdCiAgICAgICAgfSksCiAgICAgICAgLy8g6K6+572u5bGC57qnCiAgICAgICAgekluZGV4OiAxOTk5OTk5OTk5CiAgICAgIH0pOwogICAgfSwKICAgIGNyZWF0ZU1hcmtGZWF0dXJlOiBmdW5jdGlvbiBjcmVhdGVNYXJrRmVhdHVyZShmZWF0dXJlUGFyYW0pIHsKICAgICAgLy8g5Yid5aeL5YyW5qCH562+6KaB57SgCiAgICAgIHZhciBjb3JkaW5hdGUgPSAoMCwgX3Byb2oudHJhbnNmb3JtKShmZWF0dXJlUGFyYW0uZ2VvbWV0cnkuY29vcmRpbmF0ZXMsICJFUFNHOjQ1NDgiLCAiRVBTRzozODU3Iik7CiAgICAgIHZhciBmb250QW5nbGUgPSBmZWF0dXJlUGFyYW0ucHJvcGVydGllcy5mb250X2FuZ2xlOwogICAgICB2YXIgZmVhdHVyZSA9IG5ldyBfRmVhdHVyZS5kZWZhdWx0KHsKICAgICAgICBnZW9tZXRyeTogbmV3IF9Qb2ludC5kZWZhdWx0KGNvcmRpbmF0ZSksCiAgICAgICAgbmFtZTogZmVhdHVyZVBhcmFtLnByb3BlcnRpZXMubmFtZSAvLyBpbWc6IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pbWFnZXMvbWFyay5wbmcnKSwKCiAgICAgIH0pOwogICAgICBmZWF0dXJlLnNldElkKGZlYXR1cmVQYXJhbS5pZCk7CiAgICAgIGZlYXR1cmUuc2V0U3R5bGUodGhpcy5jcmVhdGVNYXJrU3R5bGUoZmVhdHVyZSwgZm9udEFuZ2xlKSk7CiAgICAgIHZhciBzb3VyY2UgPSBuZXcgX1ZlY3Rvci5kZWZhdWx0KHt9KTsKICAgICAgc291cmNlLmFkZEZlYXR1cmUoZmVhdHVyZSk7CiAgICAgIHZhciBsYXllciA9IG5ldyBfVmVjdG9yMi5kZWZhdWx0KHsKICAgICAgICBzb3VyY2U6IHNvdXJjZQogICAgICB9KTsKICAgICAgdGhpcy5tYXJrVmVjdG9yQXJyYXkucHVzaChsYXllcik7CiAgICAgIHRoaXMubWFwRGF0YS5hZGRMYXllcihsYXllcik7CiAgICB9LAogICAgYWRkUm9hZE1hcms6IGZ1bmN0aW9uIGFkZFJvYWRNYXJrKHZpZXdPYmopIHsKICAgICAgdHJ5IHsKICAgICAgICBpZiAodmlld09iai5tYXJrRGF0YUNhY2hlICE9IG51bGwpIHsKICAgICAgICAgIHZhciBmZWF0dXJlQXJyYXkgPSB2aWV3T2JqLm1hcmtEYXRhQ2FjaGUuZmVhdHVyZXM7CiAgICAgICAgICBmZWF0dXJlQXJyYXkuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICB2aWV3T2JqLmNyZWF0ZU1hcmtGZWF0dXJlKGl0ZW0pOwogICAgICAgICAgfSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICB2YXIgdXJsID0gcHJvY2Vzcy5lbnYuVlVFX0FQUF9HSVNfQkFTRV9VUkwgKyAnL1Rlc3Qvb3dzP3NlcnZpY2U9V0ZTJnZlcnNpb249MS4wLjAmcmVxdWVzdD1HZXRGZWF0dXJlJnR5cGVOYW1lPScgKyB0aGlzLm1hcmtMYXllck5hbWUgKyAnJm1heEZlYXR1cmVzPTUwMDAwMDAwMCZvdXRwdXRGb3JtYXQ9YXBwbGljYXRpb24lMkZqc29uJzsKCiAgICAgICAgX2F4aW9zLmRlZmF1bHQuZ2V0KHVybCwgbnVsbCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICB2YXIgbWFya1Jlc3BEYXRhID0gcmVzLmRhdGE7CiAgICAgICAgICB2aWV3T2JqLm1hcmtEYXRhQ2FjaGUgPSByZXMuZGF0YTsKCiAgICAgICAgICBpZiAobWFya1Jlc3BEYXRhKSB7CiAgICAgICAgICAgIHZhciBfZmVhdHVyZUFycmF5ID0gbWFya1Jlc3BEYXRhLmZlYXR1cmVzOwoKICAgICAgICAgICAgX2ZlYXR1cmVBcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgdmlld09iai5jcmVhdGVNYXJrRmVhdHVyZShpdGVtKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgIH0KICAgIH0sCiAgICAvLyDlvLnlh7rmoYYKICAgIGFkZFBvcHVwOiBmdW5jdGlvbiBhZGRQb3B1cChjb29yZGluYXRlLCBmZWF0dXJlKSB7CiAgICAgIHRoaXMucmVtb3ZlUG9wdXAoKTsgLy8g6I635Y+W5by55Ye65bGCRE9NCgogICAgICB2YXIgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BvcHVwJyk7CiAgICAgIHZhciBjb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BvcHVwLWNvbnRlbnQnKTsKCiAgICAgIGlmICh0aGlzLm92ZXJsYXkpIHt9IGVsc2UgewogICAgICAgIC8vIOWIm+W7uk92ZXJsYXnlvLnlh7rlsYLnu5HlrppET00KICAgICAgICB0aGlzLm92ZXJsYXkgPSBuZXcgX092ZXJsYXkuZGVmYXVsdCh7CiAgICAgICAgICBlbGVtZW50OiBjb250YWluZXIsCiAgICAgICAgICBhdXRvUGFuOiB7CiAgICAgICAgICAgIGFuaW1hdGlvbjogewogICAgICAgICAgICAgIGR1cmF0aW9uOiAyNTAKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOyAvLyDmt7vliqDliLBtYXAKCiAgICAgICAgdGhpcy5tYXBEYXRhLmFkZE92ZXJsYXkodGhpcy5vdmVybGF5KTsKICAgICAgfSAvLyDlvLnlh7rlsYLlhoXlrrkKCgogICAgICB2YXIgZmVhdHVyZVZhbCA9IGZlYXR1cmUucHJvcGVydGllczsKICAgICAgdmFyIGxheWVyID0gZmVhdHVyZVZhbC5sYXllciA9PSBudWxsID8gIiIgOiBmZWF0dXJlVmFsLmxheWVyOwogICAgICB2YXIgaGFuZGxlID0gZmVhdHVyZVZhbC5oYW5kbGUgPT0gbnVsbCA/ICIiIDogZmVhdHVyZVZhbC5oYW5kbGU7CiAgICAgIHZhciBsZW5ndGggPSBmZWF0dXJlVmFsLmxlbmd0aCA9PSBudWxsID8gIiIgOiBNYXRoLmZsb29yKGZlYXR1cmVWYWwubGVuZ3RoKSArICIgbSI7CiAgICAgIHZhciBjYXBhY2l0eSA9IGZlYXR1cmVWYWwuY2FwYWNpdHkgPT0gbnVsbCA/ICIiIDogZmVhdHVyZVZhbC5jYXBhY2l0eSArICcgcGN1L2gnOwogICAgICB2YXIgZGlyID0gZmVhdHVyZVZhbC5kaXIgPT0gMSA/ICLljZXlkJEiIDogZmVhdHVyZVZhbC5kaXIgPT0gLTEgPyAi5Y+N5ZCR5Y2V5ZCRIiA6IGZlYXR1cmVWYWwuZGlyID09IDAgPyAi5Y+M5ZCRIiA6ICcnOwogICAgICB2YXIgc3BlZWQgPSBmZWF0dXJlVmFsLnNwZWVkID09IG51bGwgPyAiIiA6IGZlYXR1cmVWYWwuc3BlZWQgKyAnIG0vaCc7CiAgICAgIHZhciBwb3BIdG1sID0gIlxuICAgICAgICAgICAgPGRpdiBzdHlsZT0nY29sb3I6IzEyMTkyNDtmb250LXdlaWdodDogYm9sZDt3aWR0aDoxMDAlO3otaW5kZXg6NDtoZWlnaHQ6NTBweDtwYWRkaW5nOjZweDtmb250LXNpemU6IDE1cHgnPiIgKyBsYXllciArICI8L2Rpdj5cbiAgXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPSdmb250LXNpemU6IDEwcHg7d2lkdGg6MTAwJScgaWQ9J2luZm8xJz5cbiI7CgogICAgICBpZiAoaGFuZGxlICE9ICcnKSB7CiAgICAgICAgcG9wSHRtbCA9IHBvcEh0bWwgKyAiXG4gICAgICAgIDxkaXYgc3R5bGU9XCJoZWlnaHQ6IDI4cHg7d2lkdGg6MTAwJVwiPlxuICAgICAgICAgIDxhIHN0eWxlPVwiY29sb3I6IzY0NjU2Njt3aWR0aDo0NSU7ZGlzcGxheTogaW5saW5lLWJsb2NrO1wiPlx1OTA1M1x1OERFRklEOjwvYT5cbiAgICAgICAgICA8YSBzdHlsZT1cInRleHQtYWxpZ246IHJpZ2h0O2ZvbnQtc2l6ZToxNHB4O3dpZHRoOjUwJTtkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XCI+IiArIGhhbmRsZSArICI8L2E+XG4gICAgICAgIDwvZGl2PiAiOwogICAgICB9CgogICAgICBpZiAobGF5ZXIgIT0gJycpIHsKICAgICAgICBwb3BIdG1sID0gcG9wSHRtbCArICJcbiAgICAgICAgPGRpdiBzdHlsZT1cImhlaWdodDogMjhweDt3aWR0aDoxMDAlXCI+XG4gICAgICAgICAgPGEgc3R5bGU9XCJjb2xvcjojNjQ2NTY2O3dpZHRoOjQ1JTtkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XCI+XHU5MDUzXHU4REVGXHU3QjQ5XHU3RUE3OjwvYT5cbiAgICAgICAgICA8YSBzdHlsZT1cInRleHQtYWxpZ246IHJpZ2h0O2ZvbnQtc2l6ZToxNHB4O3dpZHRoOjUwJTtkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XCI+IiArIGxheWVyICsgIjwvYT5cbiAgICAgICAgPC9kaXY+ICI7CiAgICAgIH0KCiAgICAgIGlmIChsZW5ndGggIT0gJycpIHsKICAgICAgICBwb3BIdG1sID0gcG9wSHRtbCArICJcbiAgICAgICAgPGRpdiBzdHlsZT1cImhlaWdodDogMjhweDt3aWR0aDoxMDAlXCI+XG4gICAgICAgICAgPGEgc3R5bGU9XCJjb2xvcjojNjQ2NTY2O3dpZHRoOjQ1JTtkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XCI+XHU5MDUzXHU4REVGXHU5NTdGXHU1RUE2OjwvYT5cbiAgICAgICAgICA8YSBzdHlsZT1cInRleHQtYWxpZ246IHJpZ2h0O2ZvbnQtc2l6ZToxNHB4O3dpZHRoOjUwJTtkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XCI+IiArIGxlbmd0aCArICI8L2E+XG4gICAgICAgIDwvZGl2PiAiOwogICAgICB9CgogICAgICBpZiAoZGlyICE9ICcnKSB7CiAgICAgICAgcG9wSHRtbCA9IHBvcEh0bWwgKyAiXG4gICAgICAgIDxkaXYgc3R5bGU9XCJoZWlnaHQ6IDI4cHg7d2lkdGg6MTAwJVwiPlxuICAgICAgICAgIDxhIHN0eWxlPVwiY29sb3I6IzY0NjU2Njt3aWR0aDo0NSU7ZGlzcGxheTogaW5saW5lLWJsb2NrO1wiPlx1NjVCOVx1NTQxMTo8L2E+XG4gICAgICAgICAgPGEgc3R5bGU9XCJ0ZXh0LWFsaWduOiByaWdodDtmb250LXNpemU6MTRweDt3aWR0aDo1MCU7ZGlzcGxheTogaW5saW5lLWJsb2NrO1wiPiIgKyBkaXIgKyAiPC9hPlxuICAgICAgICA8L2Rpdj4gIjsKICAgICAgfQoKICAgICAgaWYgKGNhcGFjaXR5ICE9ICcnKSB7CiAgICAgICAgcG9wSHRtbCA9IHBvcEh0bWwgKyAiXG4gICAgICAgIDxkaXYgc3R5bGU9XCJoZWlnaHQ6IDI4cHg7d2lkdGg6MTAwJVwiPlxuICAgICAgICAgIDxhIHN0eWxlPVwiY29sb3I6IzY0NjU2Njt3aWR0aDo0NSU7ZGlzcGxheTogaW5saW5lLWJsb2NrO1wiPlx1OTAxQVx1ODg0Q1x1ODBGRFx1NTI5Qjo8L2E+XG4gICAgICAgICAgPGEgc3R5bGU9XCJ0ZXh0LWFsaWduOiByaWdodDtmb250LXNpemU6MTRweDt3aWR0aDo1MCU7ZGlzcGxheTogaW5saW5lLWJsb2NrO1wiPiIgKyBjYXBhY2l0eSArICI8L2E+XG4gICAgICAgIDwvZGl2PiAiOwogICAgICB9CgogICAgICBpZiAoc3BlZWQgIT0gJycpIHsKICAgICAgICBwb3BIdG1sID0gcG9wSHRtbCArICJcbiAgICAgICAgPGRpdiBzdHlsZT1cImhlaWdodDogMjhweDt3aWR0aDoxMDAlXCI+XG4gICAgICAgICAgPGEgc3R5bGU9XCJjb2xvcjojNjQ2NTY2O3dpZHRoOjQ1JTtkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XCI+XHU4QkJFXHU4QkExXHU4RjY2XHU5MDFGOjwvYT5cbiAgICAgICAgICA8YSBzdHlsZT1cInRleHQtYWxpZ246IHJpZ2h0O2ZvbnQtc2l6ZToxNHB4O3dpZHRoOjUwJTtkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XCI+IiArIHNwZWVkICsgIjwvYT5cbiAgICAgICAgPC9kaXY+ICI7CiAgICAgIH0KCiAgICAgIHBvcEh0bWwgPSBwb3BIdG1sICsgIlxuICAgICAgICA8ZGl2IHN0eWxlPVwiaGVpZ2h0OiAyOHB4O3dpZHRoOjEwMCVcIj5cbiAgICAgICAgICA8YSBzdHlsZT1cImNvbG9yOiM2NDY1NjY7d2lkdGg6NDUlO2Rpc3BsYXk6IGlubGluZS1ibG9jaztcIj5cdTVFRkFcdThCQkVcdTRGRTFcdTYwNkY6PC9hPlxuICAgICAgICAgIDxhIHN0eWxlPVwidGV4dC1hbGlnbjogcmlnaHQ7Zm9udC1zaXplOjE0cHg7d2lkdGg6NTAlO2Rpc3BsYXk6IGlubGluZS1ibG9jaztcIj5cdTg5QzRcdTUyMTJcdTkwNTNcdThERUY8L2E+XG4gICAgICAgIDwvZGl2PiA8L2RpdiA+ICI7CiAgICAgIGNvbnRlbnQuaW5uZXJIVE1MID0gcG9wSHRtbDsgLy8g6K6+572u5by55Ye65bGC5L2N572u5Y2z5Y+v5Ye6546wCgogICAgICB0aGlzLm92ZXJsYXkuc2V0UG9zaXRpb24oY29vcmRpbmF0ZSk7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ29sLXBvcHVwJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICB9LAogICAgLy8g5riF6Zmk5by55Ye65qGGCiAgICByZW1vdmVQb3B1cDogZnVuY3Rpb24gcmVtb3ZlUG9wdXAoKSB7CiAgICAgIGlmICh0aGlzLm92ZXJsYXkpIHsKICAgICAgICAvLyDorr7nva7kvY3nva51bmRlZmluZWTlj6/ovr7liLDpmpDol4/muIXpmaTlvLnlh7rmoYYKICAgICAgICB0aGlzLm92ZXJsYXkuc2V0UG9zaXRpb24odW5kZWZpbmVkKTsKICAgICAgICB0aGlzLmNsZWFySGlnaGxpZ2h0KCk7CiAgICAgIH0KICAgIH0sCiAgICBzaG93U3VtbXJ5UG9wOiBmdW5jdGlvbiBzaG93U3VtbXJ5UG9wKCkgewogICAgICB0aGlzLnNob3dQb3AgPSBmYWxzZTsKICAgICAgdGhpcy5oaWRQb3AgPSB0cnVlOwogICAgfSwKICAgIGhpZGVTdW1tcnlQb3A6IGZ1bmN0aW9uIGhpZGVTdW1tcnlQb3AoKSB7CiAgICAgIHRoaXMuc2hvd1BvcCA9IHRydWU7CiAgICAgIHRoaXMuaGlkUG9wID0gZmFsc2U7CiAgICB9LAogICAgY2hhbmdlU3R5bGU6IGZ1bmN0aW9uIGNoYW5nZVN0eWxlKGxlbmdlbmRMaXN0LCBjaGVja2VkTGlzdCkgewogICAgICBpZiAoY2hlY2tlZExpc3QgPT0gbnVsbCB8fCBjaGVja2VkTGlzdC5sZW5ndGggPT0gMCkgewogICAgICAgIHZlY3RvckxheWVyLnNldFZpc2libGUoZmFsc2UpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmVjdG9yTGF5ZXIuc2V0VmlzaWJsZSh0cnVlKTsKICAgICAgdmFyIGNoYW5nZVN0eWxlID0gZmFsc2U7CiAgICAgIHZhciBpbml0U2xkID0gJzw/eG1sIHZlcnNpb249IjEuMCIgZW5jb2Rpbmc9IkdCSyI/PjxTdHlsZWRMYXllckRlc2NyaXB0b3IgdmVyc2lvbj0iMS4wLjAiIHhtbG5zPSJodHRwOi8vd3d3Lm9wZW5naXMubmV0L3NsZCIgeG1sbnM6b2djPSJodHRwOi8vd3d3Lm9wZW5naXMubmV0L29nYyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zOnhzaT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UiIHhtbG5zOmdtbD0iaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWwiIHhzaTpzY2hlbWFMb2NhdGlvbj0iaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9zbGQgaHR0cDovL3NjaGVtYXMub3Blbmdpcy5uZXQvc2xkLzEuMC4wL1N0eWxlZExheWVyRGVzY3JpcHRvci54c2QiPjxOYW1lZExheWVyPjxOYW1lPicgKyBsYXllck5hbWUgKyAnPC9OYW1lPjxVc2VyU3R5bGU+PE5hbWU+cm9hZFR5cGU8L05hbWU+PFRpdGxlPnJvYWRUeXBlPC9UaXRsZT48QWJzdHJhY3Q+cm9hZFR5cGU8L0Fic3RyYWN0PjxGZWF0dXJlVHlwZVN0eWxlPic7CiAgICAgIGxlbmdlbmRMaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICB2YXIgdHlwZU5hbWUgPSBpdGVtLmxlbmdlbmRUeXBlTmFtZTsKICAgICAgICB2YXIgbGVuZ2VuZFR5cGVWYWx1ZSA9IGl0ZW0ubGVuZ2VuZFR5cGVWYWx1ZTsKICAgICAgICB2YXIgZmlsdGVyUHJvcGVydHkgPSBpdGVtLmZpbHRlclByb3BlcnR5OwogICAgICAgIHZhciBzdHJva2UgPSBpdGVtLnN0cm9rZTsKICAgICAgICB2YXIgc3Ryb2tlV2lkdGggPSBpdGVtLnN0cm9rZVdpZHRoOwogICAgICAgIHZhciBkYXNoT2Zmc2V0ID0gaXRlbS5kYXNoT2Zmc2V0OwogICAgICAgIHZhciBkYXNoYXJyYXkgPSBpdGVtLmRhc2hhcnJheTsgLy8KCiAgICAgICAgdmFyIGluZGV4ID0gY2hlY2tlZExpc3QuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICByZXR1cm4gaXRlbSA9PT0gbGVuZ2VuZFR5cGVWYWx1ZTsKICAgICAgICB9KTsKICAgICAgICB2YXIgZW5hYmxlU2VsZWN0ID0gaXRlbS5lbmFibGVTZWxlY3Q7CgogICAgICAgIGlmICghZW5hYmxlU2VsZWN0IHx8IGluZGV4ICE9IC0xKSB7CiAgICAgICAgICBjaGFuZ2VTdHlsZSA9IHRydWU7CiAgICAgICAgICBpbml0U2xkID0gaW5pdFNsZCArICc8UnVsZT48VGl0bGU+JyArIHR5cGVOYW1lICsgJzwvVGl0bGU+PG9nYzpGaWx0ZXI+PG9nYzpQcm9wZXJ0eUlzRXF1YWxUbz48b2djOlByb3BlcnR5TmFtZT4nICsgZmlsdGVyUHJvcGVydHkgKyAnPC9vZ2M6UHJvcGVydHlOYW1lPjxvZ2M6TGl0ZXJhbD4nICsgdHlwZU5hbWUgKyAnPC9vZ2M6TGl0ZXJhbD48L29nYzpQcm9wZXJ0eUlzRXF1YWxUbz48L29nYzpGaWx0ZXI+JyArICc8UG9seWdvblN5bWJvbGl6ZXI+PFN0cm9rZT48Q3NzUGFyYW1ldGVyIG5hbWU9InN0cm9rZSI+JyArIHN0cm9rZSArICc8L0Nzc1BhcmFtZXRlcj48Q3NzUGFyYW1ldGVyIG5hbWU9InN0cm9rZS13aWR0aCI+JyArIHN0cm9rZVdpZHRoICsgJzwvQ3NzUGFyYW1ldGVyPic7CgogICAgICAgICAgaWYgKGRhc2hPZmZzZXQpIHsKICAgICAgICAgICAgaW5pdFNsZCA9IGluaXRTbGQgKyAnPENzc1BhcmFtZXRlciBuYW1lPSJzdHJva2UtZGFzaG9mZnNldCI+JyArIGRhc2hPZmZzZXQgKyAnPC9Dc3NQYXJhbWV0ZXI+JzsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoZGFzaGFycmF5KSB7CiAgICAgICAgICAgIGluaXRTbGQgPSBpbml0U2xkICsgJzxDc3NQYXJhbWV0ZXIgbmFtZT0ic3Ryb2tlLWRhc2hhcnJheSI+JyArIGRhc2hhcnJheSArICc8L0Nzc1BhcmFtZXRlcj4nOwogICAgICAgICAgfQoKICAgICAgICAgIGluaXRTbGQgPSBpbml0U2xkICsgJzwvU3Ryb2tlPjwvUG9seWdvblN5bWJvbGl6ZXI+PC9SdWxlPic7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgaW5pdFNsZCA9IGluaXRTbGQgKyAnPC9GZWF0dXJlVHlwZVN0eWxlPjwvVXNlclN0eWxlPjwvTmFtZWRMYXllcj48L1N0eWxlZExheWVyRGVzY3JpcHRvcj4nOwoKICAgICAgaWYgKGNoYW5nZVN0eWxlKSB7CiAgICAgICAgdmVjdG9yTGF5ZXIuZ2V0U291cmNlKCkudXBkYXRlUGFyYW1zKHsKICAgICAgICAgICdTVFlMRVMnOiB1bmRlZmluZWQsCiAgICAgICAgICAnU0xEX0JPRFknOiBpbml0U2xkCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICAvL+mBk+i3r+exu+Wei+agt+W8j+aUueWPmAogICAgcm9hZFR5cGVDaGFuZ2U6IGZ1bmN0aW9uIHJvYWRUeXBlQ2hhbmdlKCkgewogICAgICB0aGlzLnJlbW92ZVBvcHVwKCk7CiAgICAgIHRoaXMuY2xlYXJIaWdobGlnaHQoKTsKICAgICAgdGhpcy5jaGFuZ2VTdHlsZSh0aGlzLnJvYWRUeXBlTGVuZ2VuZExpc3QsIHRoaXMucm9hZFR5cGVSYWRpbyk7CiAgICB9LAogICAgLy/lu7rorr7nirbmgIHmoLflvI8KICAgIGJ1aWxkU3RhdHVzQ2hhbmdlOiBmdW5jdGlvbiBidWlsZFN0YXR1c0NoYW5nZSgpIHsKICAgICAgdGhpcy5jbGVhckhpZ2hsaWdodCgpOwogICAgICB0aGlzLnJlbW92ZVBvcHVwKCk7CiAgICAgIHRoaXMuY2hhbmdlU3R5bGUodGhpcy5idWlsZFN0YXR1c0xlbmdlbmRMaXN0LCB0aGlzLnJhZGlvMik7CiAgICB9LAogICAgc3dpdGNoQ2hhbmdlOiBmdW5jdGlvbiBzd2l0Y2hDaGFuZ2UoKSB7CiAgICAgIHZhciBjaGFuZ2VWYWwgPSB0aGlzLnZhbHVlMTsKICAgICAgY2hhbmdlVmFsID8gdGhpcy5idWlsZFN0YXR1c0NoYW5nZSgpIDogdGhpcy5yb2FkVHlwZUNoYW5nZSgpOwogICAgfSwKICAgIC8v5Yig6Zmk6auY5Lqu5Zu+5bGCCiAgICBjbGVhckhpZ2hsaWdodDogZnVuY3Rpb24gY2xlYXJIaWdobGlnaHQoKSB7CiAgICAgIHZhciBhcnIgPSB0aGlzLm1hcERhdGEuZ2V0TGF5ZXJzKCkuYXJyYXlfOwogICAgICB2YXIgaGlnaGxpZ2h0TGF5ZXIgPSB7fTsKICAgICAgYXJyLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBpZiAoaXRlbS5nZXQoImlkIikgPT0gImhpZ2hsaWdodExheWVyIikgewogICAgICAgICAgaGlnaGxpZ2h0TGF5ZXIgPSBpdGVtOwogICAgICAgIH0KICAgICAgfSk7CgogICAgICBpZiAoaGlnaGxpZ2h0TGF5ZXIgJiYgaGlnaGxpZ2h0TGF5ZXIuY2xhc3NOYW1lXykgewogICAgICAgIHRoaXMubWFwRGF0YS5yZW1vdmVMYXllcihoaWdobGlnaHRMYXllcik7CiAgICAgIH0KICAgIH0sCiAgICAvL+aWsOWinumrmOS6ruWbvuWxggogICAgYWRkSGlnaExpZ2h0U3R5bGU6IGZ1bmN0aW9uIGFkZEhpZ2hMaWdodFN0eWxlKGNsaWNrRmVhdHVyZSwgdGhpc09iaiwgY2xpY2tMYXllcikgewogICAgICB0aGlzLmNsZWFySGlnaGxpZ2h0KCk7CiAgICAgIHZhciBmZWF0dXJlT2JqID0gbmV3IF9HZW9KU09OLmRlZmF1bHQoewogICAgICAgIGZlYXR1cmVQcm9qZWN0aW9uOiAnRVBTRzozODU3JywKICAgICAgICBkYXRhUHJvamVjdGlvbjogJ0VQU0c6NDU0OCcKICAgICAgfSkucmVhZEZlYXR1cmVzKGNsaWNrRmVhdHVyZSk7CiAgICAgIHZhciBoaWdoTGlnaHRTdHlsZSA9IG5ldyBfc3R5bGUuU3R5bGUoewogICAgICAgIGZpbGw6IG5ldyBfc3R5bGUuRmlsbCh7CiAgICAgICAgICBjb2xvcjogIiNmZmZmMDAiCiAgICAgICAgfSksCiAgICAgICAgc3Ryb2tlOiBuZXcgX3N0eWxlLlN0cm9rZSh7CiAgICAgICAgICBjb2xvcjogIiNmZmZmMDAiLAogICAgICAgICAgd2lkdGg6IDYKICAgICAgICB9KQogICAgICB9KTsKICAgICAgZmVhdHVyZU9ialswXS5zZXRTdHlsZShoaWdoTGlnaHRTdHlsZSk7CiAgICAgIHRoaXNPYmouaGlnaExpZ2h0TGF5ZXIgPSBuZXcgX1ZlY3RvcjIuZGVmYXVsdCh7CiAgICAgICAgbmFtZTogImhpZ2hsaWdodExheWVyIiwKICAgICAgICBzb3VyY2U6IG5ldyBfVmVjdG9yLmRlZmF1bHQoewogICAgICAgICAgZmVhdHVyZXM6IGZlYXR1cmVPYmoKICAgICAgICB9KSwKICAgICAgICBzdHlsZTogZnVuY3Rpb24gc3R5bGUoZmVhdHVyZSwgc29sdXRpb24pIHsKICAgICAgICAgIHZhciBjdXJyZW50U3R5bGUgPSBmZWF0dXJlLmdldFNvdXJjZSgpLmdldFJlc29sdXRpb24oKS5zdHlsZTsKICAgICAgICAgIHJldHVybiBoaWdoTGlnaHRTdHlsZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzT2JqLmhpZ2hMaWdodExheWVyLnNldCgiaWQiLCAiaGlnaGxpZ2h0TGF5ZXIiKTsKICAgICAgdGhpcy5tYXBEYXRhLmFkZExheWVyKHRoaXNPYmouaGlnaExpZ2h0TGF5ZXIpOwogICAgfSwKICAgIC8v5Zyw5Zu+54K55Ye75LqL5Lu2CiAgICBtYXBDbGljazogZnVuY3Rpb24gbWFwQ2xpY2soZXZ0KSB7CiAgICAgIHRoaXMucmVtb3ZlUG9wdXAoKTsKICAgICAgdmFyIHRoaXNPYmogPSB0aGlzOwogICAgICB2YXIgdmlld1Jlc29sdXRpb24gPSB2aWV3LmdldFJlc29sdXRpb24oKTsKICAgICAgdmFyIGZlYXR1cmVVcmwgPSB2ZWN0b3JMYXllci5nZXRTb3VyY2UoKS5nZXRGZWF0dXJlSW5mb1VybChldnRbJ2Nvb3JkaW5hdGUnXSwgdmlld1Jlc29sdXRpb24sICdFUFNHOjM4NTcnLCB7CiAgICAgICAgJ0lORk9fRk9STUFUJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICAgIH0pOwoKICAgICAgaWYgKGZlYXR1cmVVcmwpIHsKICAgICAgICBmZXRjaChmZWF0dXJlVXJsKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKTsKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChpbmZvKSB7CiAgICAgICAgICB2YXIgb2JqRGF0YSA9IEpTT04ucGFyc2UoaW5mbyk7CgogICAgICAgICAgaWYgKG9iakRhdGEgJiYgb2JqRGF0YS5mZWF0dXJlc1swXSkgewogICAgICAgICAgICB0aGlzT2JqLmFkZFBvcHVwKGV2dC5jb29yZGluYXRlLCBvYmpEYXRhLmZlYXR1cmVzWzBdKTsKICAgICAgICAgICAgdGhpc09iai5hZGRIaWdoTGlnaHRTdHlsZShvYmpEYXRhLmZlYXR1cmVzWzBdLCB0aGlzT2JqLCB2ZWN0b3JMYXllcik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzT2JqLnJlbW92ZVBvcHVwKCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5yZW1vdmVQb3B1cCgpOwogICAgICB9CiAgICB9LAogICAgbWFwTW92ZWVuZDogZnVuY3Rpb24gbWFwTW92ZWVuZChldnQpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB2YXIgem9vbSA9IHRoaXMubWFwRGF0YS5nZXRWaWV3KCkuZ2V0Wm9vbSgpOwoKICAgICAgaWYgKHpvb20gPiB0aGlzLm1hcmtNaW5ab29tICYmIHRoaXMubWFya0ZsYWcgPT0gZmFsc2UpIHsKICAgICAgICB0aGlzLm1hcmtGbGFnID0gdHJ1ZTsKICAgICAgICB0aGlzLmFkZFJvYWRNYXJrKHRoaXMpOwogICAgICB9IGVsc2UgaWYgKHpvb20gPD0gdGhpcy5tYXJrTWluWm9vbSAmJiB0aGlzLm1hcmtGbGFnID09IHRydWUpIHsKICAgICAgICB0aGlzLm1hcmtGbGFnID0gZmFsc2U7CiAgICAgICAgdGhpcy5tYXJrVmVjdG9yQXJyYXkuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgX3RoaXM1Lm1hcERhdGEucmVtb3ZlTGF5ZXIoaXRlbSk7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5tYXJrVmVjdG9yQXJyYXkgPSBbXTsKICAgICAgfQogICAgfSwKICAgIGhhbmRsZUNoZWNrQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDaGVja0NoYW5nZShkYXRhXykgewogICAgICB0aGlzLmNsZWFySGlnaGxpZ2h0KCk7CiAgICAgIHRoaXMucmVtb3ZlUG9wdXAoKTsKICAgICAgdmFyIGhhbGZDaGVja05vZGUgPSB0aGlzLiRyZWZzLnRyZWUuZ2V0SGFsZkNoZWNrZWROb2RlcygpOwogICAgICB2YXIgaGFsZkNoZWNrSWRzID0gW107CiAgICAgIGhhbGZDaGVja05vZGUuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGhhbGZDaGVja0lkcy5wdXNoKGl0ZW0uaWQpOwogICAgICB9KTsgLy/ojrflj5bpgInkuK3ku6Xlj4rljYrpgInkuK3oioLngrkKCiAgICAgIHZhciBjaGVja2VkQXJyYXkgPSB0aGlzLiRyZWZzLnRyZWUuZ2V0Q2hlY2tlZEtleXMoZmFsc2UpOwogICAgICBjaGVja2VkQXJyYXkgPSBjaGVja2VkQXJyYXkuY29uY2F0KGhhbGZDaGVja0lkcyk7CiAgICAgIHZhciBjaGVja2VkTGF5ZXJBcnJheSA9IHRoaXMuZ2V0TGF5ZXJNYXAoY2hlY2tlZEFycmF5KTsKICAgICAgdmFyIGN1cnJlbnRMYXllcnMgPSB0aGlzLmxheWVyQXJyYXk7IC8v5aaC5p6c5b2T5YmN6YCJ5Lit5pWw57uE5Li656m677yM5b2T5YmN5omA5pyJ5Zu+5bGC6ZqQ6JePCgogICAgICBpZiAoY2hlY2tlZExheWVyQXJyYXkgPT0gbnVsbCB8fCBjaGVja2VkTGF5ZXJBcnJheS5sZW5ndGggPT0gMCkgewogICAgICAgIGN1cnJlbnRMYXllcnMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgaXRlbS5zZXRWaXNpYmxlKGZhbHNlKTsKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0gLy/ojrflj5blvoXmt7vliqDnmoTlm77lsYIo5Zu+5L6L5qCR5Yid5aeL5YyW6YOo5YiG6YCJ5LitKQoKCiAgICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKGkpIHsKICAgICAgICBpZiAoIWNoZWNrZWRMYXllckFycmF5W2ldLmxheWVyTmFtZSkgewogICAgICAgICAgcmV0dXJuICJjb250aW51ZSI7CiAgICAgICAgfQoKICAgICAgICB2YXIgdHJlZURhdGFJdGVtID0gY2hlY2tlZExheWVyQXJyYXlbaV0udHJlZURhdGFJdGVtOwoKICAgICAgICBpZiAoIXRyZWVEYXRhSXRlbSkgewogICAgICAgICAgY3VycmVudExheWVycy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIGlmIChpdGVtLnZhbHVlc18ubmFtZSA9PSBjaGVja2VkTGF5ZXJBcnJheVtpXS5sYXllck5hbWUpIHsKICAgICAgICAgICAgICBpdGVtLnNldFZpc2libGUoZmFsc2UpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybiAiY29udGludWUiOwogICAgICAgIH0KCiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0cmVlRGF0YUl0ZW0ubGVuZ3RoOyBqKyspIHsKICAgICAgICAgIHZhciBpdGVtID0gdHJlZURhdGFJdGVtW2pdOwogICAgICAgICAgdmFyIF9leGlzdCA9IGZhbHNlOwoKICAgICAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgY3VycmVudExheWVycy5sZW5ndGg7IG4rKykgewogICAgICAgICAgICB2YXIgbGF5ZXIgPSBjdXJyZW50TGF5ZXJzW25dOwoKICAgICAgICAgICAgaWYgKGxheWVyLnZhbHVlc18uZmlsdGVyVmFsID09IGl0ZW0uZmlsdGVyVmFsdWUgJiYgbGF5ZXIudmFsdWVzXy5uYW1lID09IGNoZWNrZWRMYXllckFycmF5W2ldLmxheWVyTmFtZSkgewogICAgICAgICAgICAgIF9leGlzdCA9IHRydWU7CiAgICAgICAgICAgICAgbGF5ZXIuc2V0VmlzaWJsZSh0cnVlKTsKICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hlY2tlZExheWVyQXJyYXkubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgX3JldCA9IF9sb29wKGkpOwoKICAgICAgICBpZiAoX3JldCA9PT0gImNvbnRpbnVlIikgY29udGludWU7CiAgICAgIH0gLy/pmpDol4/lj5bmtojli77pgInnmoTlm77lsYIKCgogICAgICBpZiAoIWN1cnJlbnRMYXllcnMgfHwgY3VycmVudExheWVycy5sZW5ndGggPT0gMCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIGV4aXN0TGF5ZXIgPSBbXTsKCiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgY3VycmVudExheWVycy5sZW5ndGg7IGsrKykgewogICAgICAgIHZhciBleGlzdCA9IGZhbHNlOwoKICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgY2hlY2tlZExheWVyQXJyYXkubGVuZ3RoOyBfaSsrKSB7CiAgICAgICAgICB2YXIgdGVtcEl0ZW1zID0gY2hlY2tlZExheWVyQXJyYXlbX2ldLnRyZWVEYXRhSXRlbTsKICAgICAgICAgIHZhciBsYXlBcnJheV8gPSB0aGlzLmdldEFyZWFMaW5lTGF5cyhjaGVja2VkTGF5ZXJBcnJheVtfaV0ubGF5ZXJOYW1lLCBjdXJyZW50TGF5ZXJzW2tdLnZhbHVlc18uZmlsdGVyVmFsKTsKCiAgICAgICAgICBmb3IgKHZhciBtID0gMDsgbSA8IHRlbXBJdGVtcy5sZW5ndGg7IG0rKykgewogICAgICAgICAgICBpZiAoY3VycmVudExheWVyc1trXS52YWx1ZXNfLmZpbHRlclZhbCA9PSB0ZW1wSXRlbXNbbV0uZmlsdGVyVmFsdWUgJiYgY3VycmVudExheWVyc1trXS52YWx1ZXNfLm5hbWUgPT0gY2hlY2tlZExheWVyQXJyYXlbX2ldLmxheWVyTmFtZSkgewogICAgICAgICAgICAgIGV4aXN0ID0gdHJ1ZTsKCiAgICAgICAgICAgICAgaWYgKGV4aXN0TGF5ZXIuaW5kZXhPZih0ZW1wSXRlbXNbbV0uZmlsdGVyVmFsdWUpID09IC0xICYmIGxheUFycmF5Xy5sZW5ndGggPiAxKSB7CiAgICAgICAgICAgICAgICBleGlzdExheWVyLnB1c2godGVtcEl0ZW1zW21dLmZpbHRlclZhbHVlKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGN1cnJlbnRMYXllcnNba10uc2V0VmlzaWJsZSh0cnVlKTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKCFleGlzdCkgewogICAgICAgICAgY3VycmVudExheWVyc1trXS5zZXRWaXNpYmxlKGZhbHNlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn07CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAmLA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;AACA,oD,CACA;;AACAA;;AACA,qC,CACA;;AACA,0B,CACA;;AAEA;AACA,gB,CACA;;AACA;EACAC,uEADA;EAEAC,UAFA;EAGAC,WAHA;EAIAC,UAJA,CAIA;;AAJA,G,CASA;;AACA;EACAC;IACAC;EADA;AADA;eAQA;EACAC,YADA;EAEAC;IACAC,4BADA;IACAC,oCADA;IACAC,8BADA;IACAC,gCADA;IACAC;EADA,CAFA;EAKAC,IALA,kBAKA;IACA;MACAC,yBADA;MAEAC,cAFA;MAEA;MACAC,kDAHA;MAGA;MACAC,uBAJA;MAIA;MACAC,eALA;MAMAC,iBANA;MAOAC,mCAPA;MAQAC,iBARA;MASAC,eATA;MAUAC,aAVA;MAWAC,aAXA;MAYAC,mBAZA;MAaAC,cAbA;MAcAC,YAdA;MAeAC,mBAfA;MAgBAC,WAhBA;MAiBA;MACAC;QACAC,aADA;QACAC,eADA;QACAC;MADA,CAlBA;MAqBAC,sBACA;QACAC,uBADA;QAEAC,qBAFA;QAGAC,uBAHA;QAIAC,iBAJA;QAKAC,kBALA;QAMAC;MANA,CADA,EASA;QACAL,sBADA;QAEAC,qBAFA;QAGAC,uBAHA;QAIAC,iBAJA;QAKAC,kBALA;QAMAC;MANA,CATA,EAkBA;QACAL,sBADA;QAEAC,qBAFA;QAGAC,uBAHA;QAIAC,iBAJA;QAKAC,kBALA;QAMAC;MANA,CAlBA,EA2BA;QACAL,sBADA;QAEAC,qBAFA;QAGAC,uBAHA;QAIAC,iBAJA;QAKAC,kBALA;QAMAC;MANA,CA3BA,EAmCA;QACAL,qBADA;QAEAC,qBAFA;QAGAC,uBAHA;QAIAC,iBAJA;QAKAC,kBALA;QAMAC;MANA,CAnCA,EA4CA;QACAL,wBADA;QAEAC,qBAFA;QAGAC,uBAHA;QAIAC,iBAJA;QAKAC,kBALA;QAMAC;MANA,CA5CA,EAoDA;QACAL,qBADA;QAEAC,qBAFA;QAGAC,uBAHA;QAIAC,iBAJA;QAKAC,kBALA;QAMAC;MANA,CApDA,EA6DA;QACAL,yBADA;QAEAC,qBAFA;QAGAC,uBAHA;QAIAC,iBAJA;QAKAC,kBALA;QAMAC;MANA,CA7DA,EAqEA;QACAL,yBADA;QAEAC,qBAFA;QAGAC,uBAHA;QAIAC,iBAJA;QAKAC,kBALA;QAMAE,gBANA;QAOAC,kBAPA;QAQAF;MARA,CArEA,CArBA;MAuGAG,8BAvGA;MAyGAC,yBACA;QACAT,uBADA;QAEAC,qBAFA;QAGAC,wBAHA;QAIAC,iBAJA;QAKAC,gBALA;QAMAC;MANA,CADA,EAUA;QACAL,wBADA;QAEAC,qBAFA;QAGAC,wBAHA;QAIAC,iBAJA;QAKAC,gBALA;QAMAC;MANA,CAVA,EAmBA;QACAL,uBADA;QAEAC,qBAFA;QAGAC,wBAHA;QAIAC,iBAJA;QAKAC,gBALA;QAMAC;MANA,CAnBA,CAzGA;MAsIAK;IAtIA;EAwIA,CA9IA;EA+IAC,OA/IA,qBA+IA;IAEA;IACA,gDAHA,CAIA;;IACA,yBALA,CAMA;;IACA,8BAPA,CAQA;;IACA,iBATA,CAUA;;IACA;IACA;IACA,mBAbA,CAcA;IACA;;IACA;IACAC;MACA;QACAC;MACA;IACA,CAJA;IAMAD;MACA;QACAC;MACA;IACA,CAJA;IAKAA;EACA,CA5KA;EAgLAC;IACAC,cADA,0BACAC,UADA,EACAC,KADA,EACA;MACA;QACA;QACA;QACAA,2BAHA,CAIA;;QACA;QACA;;QACA;UACA;;UACA;YACAC;YACA;;YACA;cACA;gBACAC;cACA;YACA,CAJA,MAIA;cACAA;YACA;UACA;QACA,CApBA,CAqBA;;;QACAF;QACAA;MACA;IAEA,CA5BA;IA8BAG,iBA9BA,+BA8BA;MAAA;;MACA;;MACA;QACA;QACA;;QACA;UACA;UACA;UACA,qCAHA,CAIA;;UACAH;UACAA;UACA,SAPA,CAQA;;UACA;;UACA;YACA;;YACA;cACA;;cACA;gBACA;kBACAE;gBACA;cACA,CAJA,MAIA;gBACAA;cACA;YACA;UACA,CAtBA,CAuBA;;;UACA;UACA;QACA,CA7BA,CA8BA;;;QACA;QACAF;MAGA,CAnCA;IAoCA,CApEA;IAqEA;IACAI,kBAtEA,8BAsEAC,IAtEA,EAsEAC,IAtEA,EAsEA;MAAA;;MACA;QACAA;QACAA;MACA,CAJA,CAKA;;;MACA;;MACA;QACAD;UACA;QACA,CAFA;;QAGA;UACAC;QACA;MACA;IACA,CArFA;IAsFA;IACAC,gBAvFA,4BAuFAC,QAvFA,EAuFA;MAAA;;MACA;MACAA;QACA;MACA,CAFA;MAGA;IACA,CA7FA;IA8FAC,sBA9FA,oCA8FA;MACA;QACA;MACA,CAFA;IAIA,CAnGA;IAoGA;IACAC,SArGA,uBAqGA;MACA;MACA;QACA;QACA;QACA;QACA;QACA;QACA;QACAC;;QACA;UACAA;QACA;;QACA;UACAA;QACA;;QACAA;MAEA,CAhBA;MAiBAA;MACA;IACA,CA1HA;IA4HA;IACAC,OA7HA,qBA6HA;MACA,kCADA,CAEA;;MACA;QACA3D,8CADA;QAEA4D,uBAFA;QAGAC;UACA,mBADA;UAEA,kBAFA;UAGA,mBAHA;UAIA;QAJA,CAHA;QASAC;MATA,GAHA,CAcA;;MACAC;QACAhE;MADA,GAfA,CAmBA;;MACA;QACAiE,oCADA;QAEAC,oBAFA;QAGAC;MAHA,GApBA,CA0BA;;MACAC;MACAA,mCA5BA,CA6BA;;MACA;IACA,CA5JA;IA6JAC,eA7JA,2BA6JAC,OA7JA,EA6JAC,SA7JA,EA6JA;MACA;MACA;QACA;QACAC;UACAC,mBADA;UAEAC,sBAFA;UAGAC,wBAHA;UAIAH,yBAJA;UAKAI;YACAC;UADA,EALA;UAQAC,mCARA;UASAC;QATA,EAFA;QAaA;QACAC;MAdA;IAgBA,CA/KA;IAiLAC,iBAjLA,6BAiLAC,YAjLA,EAiLA;MACA;MACA,qCACAA,iCADA,EAEA,WAFA,EAGA,WAHA;MAKA;MACA;QACAC,uCADA;QAEAjF,kCAFA,CAGA;;MAHA;MAKAoE;MACAA;MACA;MACAtE;MACA;QACAA;MADA;MAGA;MACA;IACA,CAvMA;IAyMAoF,WAzMA,uBAyMAC,OAzMA,EAyMA;MACA;QACA;UACA;UACAC;YACAD;UACA,CAFA;UAGA;QACA;;QACA;;QACAE;UACA;UACAF;;UACA;YACA;;YACAC;cACAD;YACA,CAFA;UAIA;QAEA,CAXA;MAYA,CArBA,CAqBA;QACAG;MACA;IACA,CAlOA;IAmOA;IACAC,QApOA,oBAoOAC,UApOA,EAoOApB,OApOA,EAoOA;MACA,mBADA,CAEA;;MACA;MACA;;MACA,mBACA,CADA,MACA;QACA;QACA;UACAqB,kBADA;UAEAC;YACAC;cACAC;YADA;UADA;QAFA,GAFA,CAUA;;QACA;MACA,CAlBA,CAmBA;;;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAGA,2IACAC,KADA;;MAKA;QACAC,gQAGAC,MAHA;MAKA;;MACA;QACAD,0QAGAD,KAHA;MAKA;;MACA;QACAC,0QAGAE,MAHA;MAKA;;MACA;QACAF,8PAGAG,GAHA;MAKA;;MACA;QACAH,0QAGAI,QAHA;MAKA;;MACA;QACAJ,0QAGAK,KAHA;MAKA;;MAEAL;MAKAM,4BAlFA,CAmFA;;MACA;MACA1D;IACA,CA1TA;IA4TA;IACA2D,WA7TA,yBA6TA;MACA;QACA;QACA;QACA;MACA;IACA,CAnUA;IAoUAC,aApUA,2BAoUA;MACA;MACA;IACA,CAvUA;IAyUAC,aAzUA,2BAyUA;MACA;MACA;IACA,CA5UA;IA6UAC,WA7UA,uBA6UAC,WA7UA,EA6UAC,WA7UA,EA6UA;MACA;QACA5C;QACA;MACA;;MACAA;MACA;MACA;MACA2C;QACA;QACA;QACA;QACA;QACA;QACA;QACA,+BAPA,CAQA;;QACA;UACA;QACA,CAFA;QAGA;;QACA;UACAD;UACA/C;;UACA;YACAA;UACA;;UACA;YACAA;UACA;;UACAA;QACA;MACA,CAxBA;MAyBAA;;MACA;QACAK;UAAA;UAAA;QAAA;MACA;IAEA,CAnXA;IAwXA;IACA6C,cAzXA,4BAyXA;MACA;MACA;MACA;IACA,CA7XA;IA+XA;IACAC,iBAhYA,+BAgYA;MACA;MACA;MACA;IACA,CApYA;IAsYAC,YAtYA,0BAsYA;MACA;MACAC;IACA,CAzYA;IA2YA;IACAC,cA5YA,4BA4YA;MACA;MACA;MACAC;QACA;UACAC;QACA;MACA,CAJA;;MAKA;QACA;MACA;IACA,CAvZA;IAyZA;IACAC,iBA1ZA,6BA0ZAC,YA1ZA,EA0ZAC,OA1ZA,EA0ZAC,UA1ZA,EA0ZA;MACA;MACA;QAAAC;QAAAC;MAAA;MACA;QACA7C;UACAC;QADA,EADA;QAIA3C;UACA2C,gBADA;UAGAlD;QAHA;MAJA;MAWA+F;MACAJ;QACApH,sBADA;QAEAF;UACA2H;QADA,EAFA;QAKAC;UACA;UACA;QACA;MARA;MAUAN;MACA;IAGA,CAvbA;IA0bA;IACAO,QA3bA,oBA2bAC,GA3bA,EA2bA;MACA;MACA;MACA;MACA,2DACAA,iBADA,EAEAC,cAFA,EAGA,WAHA,EAIA;QAAA;MAAA,CAJA;;MAMA;QACAC,kBACAC,IADA,CACA;UACA;QACA,CAHA,EAIAA,IAJA,CAIA;UACA;;UACA;YACAX;YACAA;UAEA,CAJA,MAIA;YACAA;UACA;QAEA,CAdA;MAeA,CAhBA,MAgBA;QACA;MACA;IACA,CAxdA;IA0dAY,UA1dA,sBA0dAJ,GA1dA,EA0dA;MAAA;;MACA;;MACA;QACA;QACA;MACA,CAHA,MAGA;QACA;QACA;UACA;QACA,CAFA;QAGA;MACA;IACA,CAteA;IAueAK,iBAveA,6BAueAC,KAveA,EAueA;MACA;MACA;MACA;MACA;MACAC;QACAC;MACA,CAFA,EALA,CAQA;;MACA;MACAC;MACA;MACA,oCAZA,CAaA;;MACA;QACAC;UACAnF;QACA,CAFA;QAGA;MACA,CAnBA,CAoBA;;;MApBA,2BAqBAoF,CArBA;QAsBA;UACA;QACA;;QACA;;QACA;UACAD;YACA;cACAnF;YAEA;UACA,CALA;UAMA;QACA;;QACA;UACA;UACA;;UACA;YACA;;YACA,mDACA0C,oDADA,EACA;cACA2C;cACA3C;cACA;YACA;UAEA;QACA;MAhDA;;MAqBA;QAAA;;QAAA,yBAYA;MAgBA,CAjDA,CAmDA;;;MACA;QACA;MACA;;MACA;;MACA;QACA;;QACA;UACA;UACA;;UACA;YACA,sEACAyC,gEADA,EACA;cACAE;;cACA;gBACAC;cACA;;cACAH;cACA;YACA;UACA;QACA;;QACA;UACAA;QAEA;MACA;IACA;EArjBA;AAhLA,C","names":["proj4","center","minZoom","maxZoom","zoom","source","url","name","components","nav_barVue","bar_chart_vVue","scollDivVue","pie_chartVue","bar_chart_hVue","data","navList","value1","roadTypeRadio","radio2","geoJsonList","roadBasicInfo","markLayerName","markMinZoom","markFlag","hidPop","showPop","markVectorArray","tableArray","menuId","markDataCache","myChart","myChartStyle","width","height","display","roadTypeLengendList","lengendTypeName","lengendTypeValue","filterProperty","stroke","strokeWidth","enableSelect","dashOffset","dasharray","roadTypeDispalyLengendList","buildStatusLengendList","layerStyleSld","mounted","popSummry","document","methods","initLegendInfo","legendList","_this","checkedIds_","expandIds","initComponentInfo","getCheckedIdsRecur","item","ids_","getTreecheckedId","treeData","initDisplayLengendData","initStyle","initSld","initMap","projection","params","serverType","vectorLayer","layers","target","view","map","createMarkStyle","feature","fontAngle","text","textAlign","textBaseline","font","fill","color","rotation","padding","zIndex","createMarkFeature","featureParam","geometry","addRoadMark","viewObj","featureArray","axios","console","addPopup","coordinate","element","autoPan","animation","duration","layer","popHtml","handle","length","dir","capacity","speed","content","removePopup","showSummryPop","hideSummryPop","changeStyle","lengendList","checkedList","roadTypeChange","buildStatusChange","switchChange","changeVal","clearHighlight","arr","highlightLayer","addHighLightStyle","clickFeature","thisObj","clickLayer","featureProjection","dataProjection","featureObj","features","style","mapClick","evt","viewResolution","fetch","then","mapMoveend","handleCheckChange","data_","halfCheckNode","halfCheckIds","checkedArray","currentLayers","i","exist","existLayer"],"sourceRoot":"src/views/information-search","sources":["road-info3.vue"],"sourcesContent":["<template>\r\n  <div id=\"map\" ref=\"map\">\r\n    <!--点击查看详情弹框-->\r\n    <div id=\"popup\" class=\"ol-popup\">\r\n      <a\r\n        href=\"#\"\r\n        id=\"popup-closer\"\r\n        class=\"ol-popup-closer\"\r\n        @click=\"removePopup\"\r\n      />\r\n      <div id=\"popup-content\"></div>\r\n    </div>\r\n    <!--道路选择器-->\r\n    <!-- <div id=\"pop-road-selector\" class=\"ol-layer\">\r\n      <div class=\"road-selector-pop\">\r\n        <div class=\"pop-title\">地块颜色</div>\r\n        <el-switch\r\n        class=\"div-switch\"\r\n          v-model=\"value1\"\r\n          active-color=\"#004AB3\"\r\n          inactive-color=\"#004AB3\"\r\n          active-text=\"建设信息\"\r\n          inactive-text=\"道路等级\"\r\n          @change=\"switchChange\"\r\n        >\r\n        </el-switch>\r\n        <div ref=\"roadTypeColorDiv\" class=\"road-selector-color\">\r\n          <el-tree\r\n            ref=\"tree\"\r\n            :data=\"treeData\"\r\n            show-checkbox\r\n            node-key=\"id\"\r\n            :default-checked-keys=\"defaultCheckedIds\"\r\n            :default-expanded-keys=\"defaultExpandIds\"\r\n            :props=\"defaultProps\"\r\n            @check=\"handleCheckChange\"\r\n            v-show=\"value1 == false\"\r\n          >\r\n            <div class=\"custom-tree-node\" slot-scope=\"{ node, data }\">\r\n              <span>\r\n                {{ node.label }}\r\n              </span>\r\n              <span\r\n                class=\"dot\"\r\n                :style=\"{ background: data.lengendColor }\"\r\n              ></span>\r\n            </div>\r\n          </el-tree>\r\n          <el-tree\r\n            style=\"height: 200px; overflow: auto\"\r\n            ref=\"tree\"\r\n            :data=\"treeData2\"\r\n            show-checkbox\r\n            node-key=\"id\"\r\n            default-expand-all\r\n            :default-checked-keys=\"defaultCheckedIds\"\r\n            :default-expanded-keys=\"defaultExpandIds\"\r\n            :props=\"defaultProps\"\r\n            @check=\"handleCheckChange\"\r\n            v-show=\"value1 == true\"\r\n          >\r\n            <div class=\"custom-tree-node\" slot-scope=\"{ node, data }\">\r\n              <span>\r\n                {{ node.label }}\r\n              </span>\r\n              <span\r\n                class=\"dot\"\r\n                :style=\"{ background: data.lengendColor }\"\r\n              ></span>\r\n            </div>\r\n          </el-tree>\r\n        </div>\r\n      </div>\r\n    </div> -->\r\n    <div id=\"pop-road-selector\" class=\"ol-layer\">\r\n      <div class=\"road-selector-pop\">\r\n        <div class=\"pop-title\">道路颜色</div>\r\n        <el-switch\r\n          class=\"div-switch\"\r\n          v-model=\"value1\"\r\n          active-color=\"#004AB3\"\r\n          inactive-color=\"#004AB3\"\r\n          active-text=\"建设信息\"\r\n          inactive-text=\"道路等级\"\r\n          @change=\"switchChange\"\r\n        >\r\n        </el-switch>\r\n        <div ref=\"roadTypeColorDiv\" class=\"road-selector-color\">\r\n          <el-checkbox-group v-model=\"roadTypeRadio\" v-show=\"value1 == false\">\r\n            <el-checkbox\r\n              v-for=\"(item, index) in roadTypeDispalyLengendList\"\r\n              :label=\"item.lengendTypeValue\"\r\n              @change=\"roadTypeChange\"\r\n              :key=\"index\"\r\n              >{{ item.lengendTypeName\r\n              }}<span\r\n                class=\"colorBox\"\r\n                :style=\"{ background: item.stroke }\"\r\n              ></span\r\n            ></el-checkbox>\r\n          </el-checkbox-group>\r\n\r\n          <el-checkbox-group v-model=\"radio2\" v-show=\"value1 == true\">\r\n            <el-checkbox\r\n              v-for=\"(item, index) in buildStatusLengendList\"\r\n              :label=\"item.lengendTypeValue\"\r\n              @change=\"buildStatusChange\"\r\n              :key=\"index\"\r\n              >{{ item.lengendTypeName\r\n              }}<span\r\n                class=\"colorBox\"\r\n                :style=\"{ background: item.stroke }\"\r\n              ></span\r\n            ></el-checkbox>\r\n          </el-checkbox-group>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!--总体信息折叠控制层-->\r\n    <transition name=\"move\">\r\n      <!--总体信息浮动框-->\r\n      <div id=\"pop-summry\" class=\"ol-layer\" v-if=\"hidPop\">\r\n        <div class=\"mbg\"></div>\r\n        <!--总体信息控制图层(上)-->\r\n        <div class=\"pop-summry-control\" @click=\"hideSummryPop\">\r\n          <div>\r\n            <div class=\"pop-summry-control-title\">\r\n              <span>总体信息</span>\r\n              <img src=\"~@/assets/images/arrow-down.png\" class=\"jt-icon\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <scoll-div-vue style=\"padding: 25px\">\r\n          <!--总体信息表格-->\r\n          <div class=\"div-bg\" v-for=\"(item, index) in tableArray\" :key=\"index\">\r\n            <table\r\n              class=\"ol-popsummry-detail-table\"\r\n              v-if=\"item.cptType == 'TABLE'\"\r\n            >\r\n              <span class=\"table-title\">{{ item.title }}</span>\r\n              <tr v-for=\"(item2, index2) in item.tableData\" :key=\"index2\">\r\n                <th>{{ item2.label }}</th>\r\n                <td>{{ item2.value }}</td>\r\n              </tr>\r\n            </table>\r\n            <bar_chart_vVue\r\n              :barData=\"item\"\r\n              v-if=\"item.cptType == 'BAR' && item.tableDirection == 'H'\"\r\n            ></bar_chart_vVue>\r\n            <pie_chartVue\r\n              :pieData=\"item\"\r\n              v-if=\"item.cptType == 'PIE'\"\r\n            ></pie_chartVue>\r\n            <bar_chart_hVue\r\n              :barData=\"item\"\r\n              v-if=\"item.cptType == 'BAR' && item.tableDirection == 'V'\"\r\n            ></bar_chart_hVue>\r\n          </div>\r\n        </scoll-div-vue>\r\n      </div>\r\n    </transition>\r\n    <!--总体信息折叠控制层-->\r\n    <transition name=\"move\">\r\n      <div id=\"pop-summry—collapse\" class=\"ol-layer\" v-show=\"showPop\">\r\n        <div class=\"pop-summry-control\" @click=\"showSummryPop\">\r\n          <div>\r\n            <div class=\"pop-summry-control-title blue-title\">\r\n              <span>总体信息</span>\r\n              <img src=\"~@/assets/images/arrow-up.png\" class=\"jt-icon\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n    <nav_barVue :navList=\"navList\"></nav_barVue>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport 'ol/ol.css'\r\nimport Map from 'ol/Map'\r\nimport * as olControl from 'ol/control'\r\nimport View from 'ol/View'\r\nimport { getWidth, getCenter } from 'ol/extent'\r\nimport TileLayer from 'ol/layer/Tile'\r\nimport WMTS from 'ol/source/WMTS'\r\nimport XYZ from 'ol/source/XYZ'\r\nimport WMTSTileGrid from 'ol/tilegrid/WMTS'\r\nimport Projection from 'ol/proj/Projection'\r\nimport { transform, fromLonLat } from 'ol/proj'\r\nimport proj4 from 'proj4'\r\nimport { register } from 'ol/proj/proj4';\r\nimport VectorSource from 'ol/source/Vector'\r\nimport { TileWMS } from 'ol/source'\r\nimport VectorLayer from 'ol/layer/Vector'\r\nimport Feature from 'ol/Feature'\r\nimport { Draw } from 'ol/interaction'\r\nimport { Style, Circle, Stroke, Fill } from 'ol/src/style'\r\nimport WKT from 'ol/format/WKT'\r\nimport GeoJSON from 'ol/format/GeoJSON'\r\nimport Overlay from 'ol/Overlay'\r\nimport * as echarts from \"echarts\";\r\nimport axios from 'axios'\r\nimport OlGeomPoint from 'ol/geom/Point'\r\nimport OlStyleStyle from 'ol/style/Style'\r\nimport OlStyleIcon from 'ol/style/Icon'\r\nimport Text from 'ol/style/Text'\r\nimport nav_barVue from '../components/nav_bar.vue'\r\nimport { findComponentInfo } from \"@/api/config/component\";\r\nimport { getUrlKey, request } from '@/utils/request'\r\nimport bar_chart_vVue from '../traffic-decision/components/bar_chart_v.vue'\r\nimport pie_chartVue from '../traffic-decision/components/pie_chart.vue'\r\nimport scollDivVue from '../traffic-decision/components/scollDiv.vue'\r\nimport bar_chart_hVue from '../traffic-decision/components/bar_chart_h.vue'\r\nimport Vue from 'vue'\r\n//中心坐标\r\nconst centerCordinate = [656813.44256, 3560432.98245]\r\n//坐标定义\r\nproj4.defs(\"EPSG:4548\", \"+proj=tmerc +lat_0=0 +lon_0=117 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs\");\r\nregister(proj4);\r\n//是否展示总体信息标识\r\nvar showSummryFlag = true;\r\n// 道路类型图例常量\r\n\r\nconst layerName = \"Test:plane1_v2\";\r\nvar vectorLayer;\r\n//地图初始化\r\nconst view = new View({\r\n  center: transform(centerCordinate, 'EPSG:4548', 'EPSG:3857'),\r\n  minZoom: 4,\r\n  maxZoom: 18,\r\n  zoom: 13.6 // 地图初始化的缩放级别\r\n})\r\n\r\n\r\n\r\n//高德地图图层\r\nconst gaodeMapLayer = new TileLayer({\r\n  source: new XYZ({\r\n    url: 'http://webst0{1-4}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}'\r\n  })\r\n});\r\n\r\n\r\n\r\nexport default {\r\n  name: \"Road\",\r\n  components: {\r\n    nav_barVue, bar_chart_vVue, scollDivVue, pie_chartVue, bar_chart_hVue\r\n  },\r\n  data () {\r\n    return {\r\n      navList: ['信息查询', '道路信息'],\r\n      value1: 'true',   //开关\r\n      roadTypeRadio: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\"],        //道路等级\r\n      radio2: [\"1\", \"2\", \"3\"],       //建设信息\r\n      geoJsonList: {},\r\n      roadBasicInfo: {},\r\n      markLayerName: 'Test%3Aroad_points',\r\n      markMinZoom: 14.7,\r\n      markFlag: false,\r\n      hidPop: false,\r\n      showPop: true,\r\n      markVectorArray: [],\r\n      tableArray: [],\r\n      menuId: null,\r\n      markDataCache: null,\r\n      myChart: {},\r\n      // sortData: [], //动态排序数据\r\n      myChartStyle: {\r\n        width: \"100%\", height: \"250px\", display: \"inline-block\"\r\n      },\r\n      roadTypeLengendList: [\r\n        {\r\n          lengendTypeName: \"高速公路\",\r\n          lengendTypeValue: \"5\",\r\n          filterProperty: \"layer\",\r\n          stroke: \"#00FF00\",\r\n          strokeWidth: \"7.2\",\r\n          enableSelect: true\r\n        },\r\n        {\r\n          lengendTypeName: \"快速路\",\r\n          lengendTypeValue: \"1\",\r\n          filterProperty: \"layer\",\r\n          stroke: \"#ff00ff\",\r\n          strokeWidth: \"6.3\",\r\n          enableSelect: true\r\n\r\n        },\r\n        {\r\n          lengendTypeName: \"主干路\",\r\n          lengendTypeValue: \"2\",\r\n          filterProperty: \"layer\",\r\n          stroke: \"#ff0000\",\r\n          strokeWidth: \"5.4\",\r\n          enableSelect: true\r\n        },\r\n\r\n        {\r\n          lengendTypeName: \"次干路\",\r\n          lengendTypeValue: \"3\",\r\n          filterProperty: \"layer\",\r\n          stroke: \"#007fff\",\r\n          strokeWidth: \"3.6\",\r\n          enableSelect: true\r\n        },\r\n        {\r\n          lengendTypeName: \"支路\",\r\n          lengendTypeValue: \"4\",\r\n          filterProperty: \"layer\",\r\n          stroke: \"#00994c\",\r\n          strokeWidth: \"2.7\",\r\n          enableSelect: true\r\n        },\r\n\r\n        {\r\n          lengendTypeName: \"低等级道路\",\r\n          lengendTypeValue: \"6\",\r\n          filterProperty: \"layer\",\r\n          stroke: \"#999900\",\r\n          strokeWidth: \"1.8\",\r\n          enableSelect: true\r\n        },\r\n        {\r\n          lengendTypeName: \"匝道\",\r\n          lengendTypeValue: \"7\",\r\n          filterProperty: \"layer\",\r\n          stroke: \"#00FFFF\",\r\n          strokeWidth: \"1.8\",\r\n          enableSelect: true\r\n        },\r\n\r\n        {\r\n          lengendTypeName: \"00道路红线\",\r\n          lengendTypeValue: \"8\",\r\n          filterProperty: \"layer\",\r\n          stroke: \"#bbbbbb\",\r\n          strokeWidth: \"1.6\",\r\n          enableSelect: false\r\n        },\r\n        {\r\n          lengendTypeName: \"00规划边界\",\r\n          lengendTypeValue: \"9\",\r\n          filterProperty: \"layer\",\r\n          stroke: \"#FF0000\",\r\n          strokeWidth: \"1.8\",\r\n          dashOffset: \"10\",\r\n          dasharray: \"10 15\",\r\n          enableSelect: false\r\n\r\n        },\r\n\r\n      ],\r\n      roadTypeDispalyLengendList: [],\r\n\r\n      buildStatusLengendList: [\r\n        {\r\n          lengendTypeName: \"建成使用\",\r\n          lengendTypeValue: \"1\",\r\n          filterProperty: \"status\",\r\n          stroke: \"#b1db16\",\r\n          strokeWidth: \"3\",\r\n          enableSelect: true\r\n\r\n        },\r\n        {\r\n          lengendTypeName: \"施工建设中\",\r\n          lengendTypeValue: \"2\",\r\n          filterProperty: \"status\",\r\n          stroke: \"#ebcc0c\",\r\n          strokeWidth: \"4\",\r\n          enableSelect: true\r\n        },\r\n\r\n        {\r\n          lengendTypeName: \"规划道路\",\r\n          lengendTypeValue: \"3\",\r\n          filterProperty: \"status\",\r\n          stroke: \"#eb7323\",\r\n          strokeWidth: \"5\",\r\n          enableSelect: true\r\n        }],\r\n\r\n\r\n      layerStyleSld: \"\"\r\n    }\r\n  },\r\n  mounted () {\r\n\r\n    //初始化菜单\r\n    this.menuId = getUrlKey('menuId');\r\n    //查询组件信息\r\n    this.initComponentInfo();\r\n    //初始图例展示数据\r\n    this.initDisplayLengendData()\r\n    //组装图层样式数据\r\n    this.initStyle();\r\n    //初始化图层\r\n    this.initMap();\r\n    this.showPop = false\r\n    this.hidPop = true\r\n    //加载道路整体信息\r\n    //this.getRoadInfo(this)\r\n    var popSummry = document.getElementById('pop-summry')\r\n    popSummry.addEventListener(\"webkitAnimationEnd\", function () {\r\n      if (!showSummryFlag) {\r\n        document.getElementById('pop-summry—collapse').style.display = 'block';\r\n      }\r\n    })\r\n\r\n    popSummry.addEventListener(\"animationend\", function () {\r\n      if (!showSummryFlag) {\r\n        document.getElementById('pop-summry—collapse').style.display = 'block';\r\n      }\r\n    })\r\n    document.getElementsByClassName('ol-popup').style.display = 'none';\r\n  },\r\n\r\n\r\n\r\n  methods: {\r\n    initLegendInfo (legendList, _this) {\r\n      if (legendList && legendList.length > 0) {\r\n        //设置树节点数据\r\n        let treeData_ = legendList[0];\r\n        _this.treeData = treeData_;\r\n        //设置顶级菜单选中\r\n        let checkedIds_ = [];\r\n        let expandIds = [];\r\n        for (let k = 0; k < treeData_.length; k++) {\r\n          let item = treeData_[k];\r\n          if (item.parentId == null) {\r\n            checkedIds_.push(item.id);\r\n            let children_ = item.children;\r\n            if (children_ != null && children_.length != 0) {\r\n              for (let j = 0; j < children_.length; j++) {\r\n                expandIds.push(children_[j].id);\r\n              }\r\n            } else {\r\n              expandIds.push(item.id);\r\n            }\r\n          }\r\n        }\r\n        //默认展展开二级菜单\r\n        _this.defaultExpandIds = expandIds;\r\n        _this.defaultCheckedIds = checkedIds_;\r\n      }\r\n\r\n    },\r\n\r\n    initComponentInfo () {\r\n      let _this = this;\r\n      findComponentInfo(this.menuId, null).then(response => {\r\n        //图例\r\n        let legendConfigData = response.data.decLegendConfigList;\r\n        if (legendConfigData && legendConfigData.length > 0) {\r\n          //设置树节点数据\r\n          let treeData_ = legendConfigData[0];\r\n          let treeData2_ = legendConfigData[1];\r\n          //隐藏设置的节点\r\n          _this.treeData = treeData_;\r\n          _this.treeData2 = treeData2_;\r\n          debugger\r\n          //设置顶级菜单选中\r\n          let expandIds = [];\r\n          for (let k = 0; k < treeData_.length; k++) {\r\n            let item = treeData_[k];\r\n            if (item.parentId == null) {\r\n              let children_ = item.children;\r\n              if (children_ != null && children_.length != 0) {\r\n                for (let j = 0; j < children_.length; j++) {\r\n                  expandIds.push(children_[j].id);\r\n                }\r\n              } else {\r\n                expandIds.push(item.id);\r\n              }\r\n            }\r\n          }\r\n          //默认展展开二级菜单\r\n          this.defaultExpandIds = expandIds;\r\n          this.defaultCheckedIds = _this.getTreecheckedId(treeData_);\r\n        }\r\n        //表格\r\n        let tableList = response.data.tableList;\r\n        _this.tableArray = tableList;\r\n\r\n\r\n      });\r\n    },\r\n    //递归获节点信息\r\n    getCheckedIdsRecur (item, ids_) {\r\n      if (item.id && item.checkStatus == 'Y') {\r\n        ids_ = (ids_ == null ? [] : ids_);\r\n        ids_.push(item.id);\r\n      }\r\n      //如果子节点选中，需要将父节半选中状态节点加入\r\n      let currentLen = ids_.length;\r\n      if (item.children != null) {\r\n        item.children.forEach(item => {\r\n          this.getCheckedIdsRecur(item, ids_)\r\n        })\r\n        if (currentLen < ids_.length && ids_.indexOf(item.id) == -1) {\r\n          ids_.push(item.id);\r\n        }\r\n      }\r\n    },\r\n    //获取树所有的节点信息\r\n    getTreecheckedId (treeData) {\r\n      let ids = [];\r\n      treeData.forEach(item => {\r\n        this.getCheckedIdsRecur(item, ids);\r\n      })\r\n      return ids;\r\n    },\r\n    initDisplayLengendData () {\r\n      this.roadTypeDispalyLengendList = this.roadTypeLengendList.filter((item) => {\r\n        return item.enableSelect == true;\r\n      })\r\n\r\n    },\r\n    //初始化样式\r\n    initStyle () {\r\n      var initSld = '<?xml version=\"1.0\" encoding=\"GBK\"?><StyledLayerDescriptor version=\"1.0.0\" xmlns=\"http://www.opengis.net/sld\" xmlns:ogc=\"http://www.opengis.net/ogc\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:gml=\"http://www.opengis.net/gml\" xsi:schemaLocation=\"http://www.opengis.net/sld http://schemas.opengis.net/sld/1.0.0/StyledLayerDescriptor.xsd\"><NamedLayer><Name>' + layerName + '</Name><UserStyle><Name>roadType</Name><Title>roadType</Title><Abstract>roadType</Abstract><FeatureTypeStyle>';\r\n      this.roadTypeLengendList.forEach((item) => {\r\n        var typeName = item.lengendTypeName;\r\n        var filterProperty = item.filterProperty;\r\n        var stroke = item.stroke;\r\n        var strokeWidth = item.strokeWidth;\r\n        var dashOffset = item.dashOffset;\r\n        var dasharray = item.dasharray;\r\n        initSld = initSld + '<Rule><Title>' + typeName + '</Title><ogc:Filter><ogc:PropertyIsEqualTo><ogc:PropertyName>' + filterProperty + '</ogc:PropertyName><ogc:Literal>' + typeName + '</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>' + '<PolygonSymbolizer><Stroke><CssParameter name=\"stroke\">' + stroke + '</CssParameter><CssParameter name=\"stroke-width\">' + strokeWidth + '</CssParameter>';\r\n        if (dashOffset) {\r\n          initSld = initSld + '<CssParameter name=\"stroke-dashoffset\">' + dashOffset + '</CssParameter>'\r\n        }\r\n        if (dasharray) {\r\n          initSld = initSld + '<CssParameter name=\"stroke-dasharray\">' + dasharray + '</CssParameter>'\r\n        }\r\n        initSld = initSld + '</Stroke></PolygonSymbolizer></Rule>'\r\n\r\n      });\r\n      initSld = initSld + '</FeatureTypeStyle></UserStyle></NamedLayer></StyledLayerDescriptor>';\r\n      this.layerStyleSld = initSld;\r\n    },\r\n\r\n    // 初始化地图\r\n    initMap () {\r\n      const mapContainer = this.$refs.map\r\n      //通过wms加载数据\r\n      const wmsSource = new TileWMS({\r\n        url: process.env.VUE_APP_GIS_BASE_URL + '/wms',\r\n        projection: 'EPSG:4548',\r\n        params: {\r\n          'LAYERS': layerName,\r\n          'VERSION': '1.1.0',\r\n          'STYLES': undefined,\r\n          'SLD_BODY': this.layerStyleSld\r\n        },\r\n        serverType: 'geoserver'\r\n      });\r\n      //自定义图层\r\n      vectorLayer = new TileLayer({\r\n        source: wmsSource\r\n      });\r\n\r\n      //将图层加入Map\r\n      const map = new Map({\r\n        layers: [gaodeMapLayer, vectorLayer],\r\n        target: mapContainer,\r\n        view: view\r\n      });\r\n\r\n      // 添加鼠标点击事件\r\n      map.on('click', this.mapClick);\r\n      map.on('moveend', this.mapMoveend);\r\n      // 保存地图\r\n      this.mapData = map\r\n    },\r\n    createMarkStyle (feature, fontAngle) {\r\n      //返回一个样式\r\n      return new OlStyleStyle({\r\n        //文本样式\r\n        text: new Text({\r\n          textAlign: 'center',\r\n          textBaseline: 'middle',\r\n          font: 'normal 12px 微软雅黑',\r\n          text: feature.get('name'),\r\n          fill: new Fill({\r\n            color: '#bbbbbb'\r\n          }),\r\n          rotation: fontAngle * Math.PI / 180,\r\n          padding: [2, 5, 2, 5],\r\n        }),\r\n        // 设置层级\r\n        zIndex: 1999999999\r\n      });\r\n    },\r\n\r\n    createMarkFeature (featureParam) {\r\n      // 初始化标签要素\r\n      let cordinate = transform(\r\n        featureParam.geometry.coordinates,\r\n        \"EPSG:4548\",\r\n        \"EPSG:3857\"\r\n      )\r\n      let fontAngle = featureParam.properties.font_angle;\r\n      let feature = new Feature({\r\n        geometry: new OlGeomPoint(cordinate),\r\n        name: featureParam.properties.name,\r\n        // img: require('../../assets/images/mark.png'),\r\n      })\r\n      feature.setId(featureParam.id)\r\n      feature.setStyle(this.createMarkStyle(feature, fontAngle))\r\n      let source = new VectorSource({})\r\n      source.addFeature(feature)\r\n      let layer = new VectorLayer({\r\n        source: source\r\n      })\r\n      this.markVectorArray.push(layer);\r\n      this.mapData.addLayer(layer);\r\n    },\r\n\r\n    addRoadMark (viewObj) {\r\n      try {\r\n        if (viewObj.markDataCache != null) {\r\n          let featureArray = viewObj.markDataCache.features;\r\n          featureArray.forEach(item => {\r\n            viewObj.createMarkFeature(item);\r\n          })\r\n          return;\r\n        }\r\n        let url = process.env.VUE_APP_GIS_BASE_URL + '/Test/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=' + this.markLayerName + '&maxFeatures=500000000&outputFormat=application%2Fjson';\r\n        axios.get(url, null).then(function (res) {\r\n          let markRespData = res.data;\r\n          viewObj.markDataCache = res.data;\r\n          if (markRespData) {\r\n            let featureArray = markRespData.features;\r\n            featureArray.forEach(item => {\r\n              viewObj.createMarkFeature(item);\r\n            })\r\n\r\n          }\r\n\r\n        });\r\n      } catch (error) {\r\n        console.error(error)\r\n      }\r\n    },\r\n    // 弹出框\r\n    addPopup (coordinate, feature) {\r\n      this.removePopup()\r\n      // 获取弹出层DOM\r\n      let container = document.getElementById('popup')\r\n      let content = document.getElementById('popup-content')\r\n      if (this.overlay) {\r\n      } else {\r\n        // 创建Overlay弹出层绑定DOM\r\n        this.overlay = new Overlay({\r\n          element: container,\r\n          autoPan: {\r\n            animation: {\r\n              duration: 250\r\n            }\r\n          }\r\n        })\r\n        // 添加到map\r\n        this.mapData.addOverlay(this.overlay)\r\n      }\r\n      // 弹出层内容\r\n      let featureVal = feature.properties;\r\n      let layer = featureVal.layer == null ? \"\" : featureVal.layer;\r\n      let handle = featureVal.handle == null ? \"\" : featureVal.handle;\r\n      let length = featureVal.length == null ? \"\" : Math.floor(featureVal.length) + \" m\";\r\n      let capacity = featureVal.capacity == null ? \"\" : featureVal.capacity + ' pcu/h';\r\n      let dir = featureVal.dir == 1 ? \"单向\" : featureVal.dir == -1 ? \"反向单向\" : featureVal.dir == 0 ? \"双向\" : '';\r\n      let speed = featureVal.speed == null ? \"\" : featureVal.speed + ' m/h';\r\n\r\n\r\n      let popHtml = `\r\n            <div style='color:#121924;font-weight: bold;width:100%;z-index:4;height:50px;padding:6px;font-size: 15px'>`+ layer + `</div>\r\n  \r\n            <div style='font-size: 10px;width:100%' id='info1'>\r\n`\r\n      if (handle != '') {\r\n        popHtml = popHtml + `\r\n        <div style=\"height: 28px;width:100%\">\r\n          <a style=\"color:#646566;width:45%;display: inline-block;\">道路ID:</a>\r\n          <a style=\"text-align: right;font-size:14px;width:50%;display: inline-block;\">`+ handle + `</a>\r\n        </div> `\r\n      }\r\n      if (layer != '') {\r\n        popHtml = popHtml + `\r\n        <div style=\"height: 28px;width:100%\">\r\n          <a style=\"color:#646566;width:45%;display: inline-block;\">道路等级:</a>\r\n          <a style=\"text-align: right;font-size:14px;width:50%;display: inline-block;\">`+ layer + `</a>\r\n        </div> `\r\n      }\r\n      if (length != '') {\r\n        popHtml = popHtml + `\r\n        <div style=\"height: 28px;width:100%\">\r\n          <a style=\"color:#646566;width:45%;display: inline-block;\">道路长度:</a>\r\n          <a style=\"text-align: right;font-size:14px;width:50%;display: inline-block;\">`+ length + `</a>\r\n        </div> `\r\n      }\r\n      if (dir != '') {\r\n        popHtml = popHtml + `\r\n        <div style=\"height: 28px;width:100%\">\r\n          <a style=\"color:#646566;width:45%;display: inline-block;\">方向:</a>\r\n          <a style=\"text-align: right;font-size:14px;width:50%;display: inline-block;\">`+ dir + `</a>\r\n        </div> `\r\n      }\r\n      if (capacity != '') {\r\n        popHtml = popHtml + `\r\n        <div style=\"height: 28px;width:100%\">\r\n          <a style=\"color:#646566;width:45%;display: inline-block;\">通行能力:</a>\r\n          <a style=\"text-align: right;font-size:14px;width:50%;display: inline-block;\">`+ capacity + `</a>\r\n        </div> `\r\n      }\r\n      if (speed != '') {\r\n        popHtml = popHtml + `\r\n        <div style=\"height: 28px;width:100%\">\r\n          <a style=\"color:#646566;width:45%;display: inline-block;\">设计车速:</a>\r\n          <a style=\"text-align: right;font-size:14px;width:50%;display: inline-block;\">`+ speed + `</a>\r\n        </div> `\r\n      }\r\n\r\n      popHtml = popHtml + `\r\n        <div style=\"height: 28px;width:100%\">\r\n          <a style=\"color:#646566;width:45%;display: inline-block;\">建设信息:</a>\r\n          <a style=\"text-align: right;font-size:14px;width:50%;display: inline-block;\">规划道路</a>\r\n        </div> </div > `\r\n      content.innerHTML = popHtml;\r\n      // 设置弹出层位置即可出现\r\n      this.overlay.setPosition(coordinate)\r\n      document.getElementsByClassName('ol-popup').style.display = 'block';\r\n    },\r\n\r\n    // 清除弹出框\r\n    removePopup () {\r\n      if (this.overlay) {\r\n        // 设置位置undefined可达到隐藏清除弹出框\r\n        this.overlay.setPosition(undefined)\r\n        this.clearHighlight()\r\n      }\r\n    },\r\n    showSummryPop () {\r\n      this.showPop = false\r\n      this.hidPop = true\r\n    },\r\n\r\n    hideSummryPop () {\r\n      this.showPop = true\r\n      this.hidPop = false\r\n    },\r\n    changeStyle (lengendList, checkedList) {\r\n      if (checkedList == null || checkedList.length == 0) {\r\n        vectorLayer.setVisible(false);\r\n        return;\r\n      }\r\n      vectorLayer.setVisible(true);\r\n      var changeStyle = false;\r\n      var initSld = '<?xml version=\"1.0\" encoding=\"GBK\"?><StyledLayerDescriptor version=\"1.0.0\" xmlns=\"http://www.opengis.net/sld\" xmlns:ogc=\"http://www.opengis.net/ogc\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:gml=\"http://www.opengis.net/gml\" xsi:schemaLocation=\"http://www.opengis.net/sld http://schemas.opengis.net/sld/1.0.0/StyledLayerDescriptor.xsd\"><NamedLayer><Name>' + layerName + '</Name><UserStyle><Name>roadType</Name><Title>roadType</Title><Abstract>roadType</Abstract><FeatureTypeStyle>';\r\n      lengendList.forEach((item) => {\r\n        var typeName = item.lengendTypeName;\r\n        var lengendTypeValue = item.lengendTypeValue;\r\n        var filterProperty = item.filterProperty;\r\n        var stroke = item.stroke;\r\n        var strokeWidth = item.strokeWidth;\r\n        var dashOffset = item.dashOffset;\r\n        var dasharray = item.dasharray;\r\n        //\r\n        var index = checkedList.findIndex(item => {\r\n          return item === lengendTypeValue;\r\n        })\r\n        var enableSelect = item.enableSelect\r\n        if (!enableSelect || index != -1) {\r\n          changeStyle = true;\r\n          initSld = initSld + '<Rule><Title>' + typeName + '</Title><ogc:Filter><ogc:PropertyIsEqualTo><ogc:PropertyName>' + filterProperty + '</ogc:PropertyName><ogc:Literal>' + typeName + '</ogc:Literal></ogc:PropertyIsEqualTo></ogc:Filter>' + '<PolygonSymbolizer><Stroke><CssParameter name=\"stroke\">' + stroke + '</CssParameter><CssParameter name=\"stroke-width\">' + strokeWidth + '</CssParameter>';\r\n          if (dashOffset) {\r\n            initSld = initSld + '<CssParameter name=\"stroke-dashoffset\">' + dashOffset + '</CssParameter>'\r\n          }\r\n          if (dasharray) {\r\n            initSld = initSld + '<CssParameter name=\"stroke-dasharray\">' + dasharray + '</CssParameter>'\r\n          }\r\n          initSld = initSld + '</Stroke></PolygonSymbolizer></Rule>'\r\n        }\r\n      });\r\n      initSld = initSld + '</FeatureTypeStyle></UserStyle></NamedLayer></StyledLayerDescriptor>';\r\n      if (changeStyle) {\r\n        vectorLayer.getSource().updateParams({ 'STYLES': undefined, 'SLD_BODY': initSld });\r\n      }\r\n\r\n    },\r\n\r\n\r\n\r\n\r\n    //道路类型样式改变\r\n    roadTypeChange () {\r\n      this.removePopup();\r\n      this.clearHighlight();\r\n      this.changeStyle(this.roadTypeLengendList, this.roadTypeRadio);\r\n    },\r\n\r\n    //建设状态样式\r\n    buildStatusChange () {\r\n      this.clearHighlight();\r\n      this.removePopup();\r\n      this.changeStyle(this.buildStatusLengendList, this.radio2);\r\n    },\r\n\r\n    switchChange () {\r\n      var changeVal = this.value1;\r\n      changeVal ? this.buildStatusChange() : this.roadTypeChange();\r\n    },\r\n\r\n    //删除高亮图层\r\n    clearHighlight () {\r\n      let arr = this.mapData.getLayers().array_\r\n      let highlightLayer = {}\r\n      arr.forEach(item => {\r\n        if (item.get(\"id\") == \"highlightLayer\") {\r\n          highlightLayer = item\r\n        }\r\n      })\r\n      if (highlightLayer && highlightLayer.className_) {\r\n        this.mapData.removeLayer(highlightLayer)\r\n      }\r\n    },\r\n\r\n    //新增高亮图层\r\n    addHighLightStyle (clickFeature, thisObj, clickLayer) {\r\n      this.clearHighlight();\r\n      let featureObj = new GeoJSON({ featureProjection: 'EPSG:3857', dataProjection: 'EPSG:4548' }).readFeatures(clickFeature)\r\n      let highLightStyle = new Style({\r\n        fill: new Fill({\r\n          color: \"#ffff00\"\r\n        }),\r\n        stroke: new Stroke({\r\n          color: \"#ffff00\",\r\n\r\n          width: 6\r\n        }),\r\n\r\n      })\r\n      featureObj[0].setStyle(highLightStyle);\r\n      thisObj.highLightLayer = new VectorLayer({\r\n        name: \"highlightLayer\",\r\n        source: new VectorSource({\r\n          features: featureObj,\r\n        }),\r\n        style: (feature, solution) => {\r\n          let currentStyle = feature.getSource().getResolution().style;\r\n          return highLightStyle;\r\n        }\r\n      })\r\n      thisObj.highLightLayer.set(\"id\", \"highlightLayer\")\r\n      this.mapData.addLayer(thisObj.highLightLayer)\r\n\r\n\r\n    },\r\n\r\n\r\n    //地图点击事件\r\n    mapClick (evt) {\r\n      this.removePopup();\r\n      let thisObj = this;\r\n      var viewResolution = view.getResolution();\r\n      var featureUrl = vectorLayer.getSource().getFeatureInfoUrl(\r\n        evt['coordinate'],\r\n        viewResolution,\r\n        'EPSG:3857',\r\n        { 'INFO_FORMAT': 'application/json' }\r\n      );\r\n      if (featureUrl) {\r\n        fetch(featureUrl)\r\n          .then(function (response) {\r\n            return response.text();\r\n          })\r\n          .then(function (info) {\r\n            var objData = JSON.parse(info);\r\n            if (objData && objData.features[0]) {\r\n              thisObj.addPopup(evt.coordinate, objData.features[0]);\r\n              thisObj.addHighLightStyle(objData.features[0], thisObj, vectorLayer)\r\n\r\n            } else {\r\n              thisObj.removePopup();\r\n            }\r\n\r\n          });\r\n      } else {\r\n        this.removePopup();\r\n      }\r\n    },\r\n\r\n    mapMoveend (evt) {\r\n      var zoom = this.mapData.getView().getZoom();\r\n      if (zoom > this.markMinZoom && this.markFlag == false) {\r\n        this.markFlag = true;\r\n        this.addRoadMark(this);\r\n      } else if (zoom <= this.markMinZoom && this.markFlag == true) {\r\n        this.markFlag = false;\r\n        this.markVectorArray.forEach(item => {\r\n          this.mapData.removeLayer(item);\r\n        })\r\n        this.markVectorArray = [];\r\n      }\r\n    },\r\n    handleCheckChange (data_) {\r\n      this.clearHighlight();\r\n      this.removePopup();\r\n      let halfCheckNode = this.$refs.tree.getHalfCheckedNodes();\r\n      let halfCheckIds = [];\r\n      halfCheckNode.forEach(item => {\r\n        halfCheckIds.push(item.id)\r\n      });\r\n      //获取选中以及半选中节点\r\n      var checkedArray = this.$refs.tree.getCheckedKeys(false);\r\n      checkedArray = checkedArray.concat(halfCheckIds);\r\n      let checkedLayerArray = this.getLayerMap(checkedArray);\r\n      let currentLayers = this.layerArray;\r\n      //如果当前选中数组为空，当前所有图层隐藏\r\n      if (checkedLayerArray == null || checkedLayerArray.length == 0) {\r\n        currentLayers.forEach(item => {\r\n          item.setVisible(false)\r\n        })\r\n        return;\r\n      }\r\n      //获取待添加的图层(图例树初始化部分选中)\r\n      for (let i = 0; i < checkedLayerArray.length; i++) {\r\n        if (!checkedLayerArray[i].layerName) {\r\n          continue;\r\n        }\r\n        let treeDataItem = checkedLayerArray[i].treeDataItem;\r\n        if (!treeDataItem) {\r\n          currentLayers.forEach(item => {\r\n            if (item.values_.name == checkedLayerArray[i].layerName) {\r\n              item.setVisible(false)\r\n\r\n            }\r\n          })\r\n          continue;\r\n        }\r\n        for (let j = 0; j < treeDataItem.length; j++) {\r\n          let item = treeDataItem[j];\r\n          let exist = false;\r\n          for (let n = 0; n < currentLayers.length; n++) {\r\n            let layer = currentLayers[n];\r\n            if (layer.values_.filterVal == item.filterValue &&\r\n              layer.values_.name == checkedLayerArray[i].layerName) {\r\n              exist = true;\r\n              layer.setVisible(true)\r\n              continue;\r\n            }\r\n\r\n          }\r\n        }\r\n      }\r\n\r\n      //隐藏取消勾选的图层\r\n      if (!currentLayers || currentLayers.length == 0) {\r\n        return;\r\n      }\r\n      let existLayer = [];\r\n      for (let k = 0; k < currentLayers.length; k++) {\r\n        let exist = false;\r\n        for (let i = 0; i < checkedLayerArray.length; i++) {\r\n          let tempItems = checkedLayerArray[i].treeDataItem;\r\n          let layArray_ = this.getAreaLineLays(checkedLayerArray[i].layerName, currentLayers[k].values_.filterVal);\r\n          for (let m = 0; m < tempItems.length; m++) {\r\n            if (currentLayers[k].values_.filterVal == tempItems[m].filterValue &&\r\n              currentLayers[k].values_.name == checkedLayerArray[i].layerName) {\r\n              exist = true;\r\n              if (existLayer.indexOf(tempItems[m].filterValue) == -1 && layArray_.length > 1) {\r\n                existLayer.push(tempItems[m].filterValue);\r\n              }\r\n              currentLayers[k].setVisible(true);\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        if (!exist) {\r\n          currentLayers[k].setVisible(false);\r\n\r\n        }\r\n      }\r\n    },\r\n\r\n  }\r\n\r\n}\r\n\r\n\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@import '~@/assets/styles/draws.scss';\r\n@import '~@/assets/styles/popup.scss';\r\n@import '~@/assets/styles/switch.scss';\r\n.el-checkbox-group {\r\n  width: 100%;\r\n}\r\n.colorBox {\r\n  width: 48px;\r\n  display: inline-block;\r\n  border-radius: 2px;\r\n  position: absolute;\r\n  right: 10px;\r\n  top: 6px;\r\n}\r\n.el-checkbox-group .el-checkbox:nth-child(1) .colorBox {\r\n  height: 12px;\r\n}\r\n.el-checkbox-group .el-checkbox:nth-child(2) .colorBox {\r\n  height: 11px;\r\n}\r\n.el-checkbox-group .el-checkbox:nth-child(3) .colorBox {\r\n  height: 10px;\r\n}\r\n.el-checkbox-group .el-checkbox:nth-child(4) .colorBox {\r\n  height: 9px;\r\n}\r\n.el-checkbox-group .el-checkbox:nth-child(5) .colorBox {\r\n  height: 8px;\r\n}\r\n.el-checkbox-group .el-checkbox:nth-child(6) .colorBox {\r\n  height: 7px;\r\n}\r\n.el-checkbox-group .el-checkbox:nth-child(7) .colorBox {\r\n  height: 6px;\r\n}\r\n.road-selector-color {\r\n  width: 100%;\r\n}\r\n::v-deep .el-checkbox {\r\n  position: relative;\r\n  display: block;\r\n  height: 26px;\r\n  // line-height: 26px;\r\n  width: 100%;\r\n}\r\n</style>\r\n"]}]}