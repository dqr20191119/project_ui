{"remainingRequest":"D:\\work\\proj\\project_manage\\project-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\work\\proj\\project_manage\\project-ui\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\work\\proj\\project_manage\\project-ui\\src\\plugins\\tab.js","dependencies":[{"path":"D:\\work\\proj\\project_manage\\project-ui\\src\\plugins\\tab.js","mtime":1663229169942},{"path":"D:\\work\\proj\\project_manage\\project-ui\\babel.config.js","mtime":1663229169808},{"path":"D:\\work\\proj\\project_manage\\project-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1663230084016},{"path":"D:\\work\\proj\\project_manage\\project-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1663230086097},{"path":"D:\\work\\proj\\project_manage\\project-ui\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js","mtime":1663230084575}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJEOi93b3JrL3Byb2ovcHJvamVjdF9tYW5hZ2UvcHJvamVjdC11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQuanMiKS5kZWZhdWx0OwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyIpOwoKdmFyIF9zdG9yZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQC9zdG9yZSIpKTsKCnZhciBfcm91dGVyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJAL3JvdXRlciIpKTsKCnZhciBfZGVmYXVsdCA9IHsKICAvLyDliLfmlrDlvZPliY10YWLpobXnrb4KICByZWZyZXNoUGFnZTogZnVuY3Rpb24gcmVmcmVzaFBhZ2Uob2JqKSB7CiAgICB2YXIgX3JvdXRlciRjdXJyZW50Um91dGUgPSBfcm91dGVyLmRlZmF1bHQuY3VycmVudFJvdXRlLAogICAgICAgIHBhdGggPSBfcm91dGVyJGN1cnJlbnRSb3V0ZS5wYXRoLAogICAgICAgIHF1ZXJ5ID0gX3JvdXRlciRjdXJyZW50Um91dGUucXVlcnksCiAgICAgICAgbWF0Y2hlZCA9IF9yb3V0ZXIkY3VycmVudFJvdXRlLm1hdGNoZWQ7CgogICAgaWYgKG9iaiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIG1hdGNoZWQuZm9yRWFjaChmdW5jdGlvbiAobSkgewogICAgICAgIGlmIChtLmNvbXBvbmVudHMgJiYgbS5jb21wb25lbnRzLmRlZmF1bHQgJiYgbS5jb21wb25lbnRzLmRlZmF1bHQubmFtZSkgewogICAgICAgICAgaWYgKCFbJ0xheW91dCcsICdQYXJlbnRWaWV3J10uaW5jbHVkZXMobS5jb21wb25lbnRzLmRlZmF1bHQubmFtZSkpIHsKICAgICAgICAgICAgb2JqID0gewogICAgICAgICAgICAgIG5hbWU6IG0uY29tcG9uZW50cy5kZWZhdWx0Lm5hbWUsCiAgICAgICAgICAgICAgcGF0aDogcGF0aCwKICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgfTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfQoKICAgIHJldHVybiBfc3RvcmUuZGVmYXVsdC5kaXNwYXRjaCgndGFnc1ZpZXcvZGVsQ2FjaGVkVmlldycsIG9iaikudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfb2JqID0gb2JqLAogICAgICAgICAgcGF0aCA9IF9vYmoucGF0aCwKICAgICAgICAgIHF1ZXJ5ID0gX29iai5xdWVyeTsKCiAgICAgIF9yb3V0ZXIuZGVmYXVsdC5yZXBsYWNlKHsKICAgICAgICBwYXRoOiAnL3JlZGlyZWN0JyArIHBhdGgsCiAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgIH0pOwogICAgfSk7CiAgfSwKICAvLyDlhbPpl63lvZPliY10YWLpobXnrb7vvIzmiZPlvIDmlrDpobXnrb4KICBjbG9zZU9wZW5QYWdlOiBmdW5jdGlvbiBjbG9zZU9wZW5QYWdlKG9iaikgewogICAgX3N0b3JlLmRlZmF1bHQuZGlzcGF0Y2goInRhZ3NWaWV3L2RlbFZpZXciLCBfcm91dGVyLmRlZmF1bHQuY3VycmVudFJvdXRlKTsKCiAgICBpZiAob2JqICE9PSB1bmRlZmluZWQpIHsKICAgICAgcmV0dXJuIF9yb3V0ZXIuZGVmYXVsdC5wdXNoKG9iaik7CiAgICB9CiAgfSwKICAvLyDlhbPpl63mjIflrpp0YWLpobXnrb4KICBjbG9zZVBhZ2U6IGZ1bmN0aW9uIGNsb3NlUGFnZShvYmopIHsKICAgIGlmIChvYmogPT09IHVuZGVmaW5lZCkgewogICAgICByZXR1cm4gX3N0b3JlLmRlZmF1bHQuZGlzcGF0Y2goJ3RhZ3NWaWV3L2RlbFZpZXcnLCBfcm91dGVyLmRlZmF1bHQuY3VycmVudFJvdXRlKS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgdmFyIGxhc3RQYXRoID0gX3JlZi5sYXN0UGF0aDsKICAgICAgICByZXR1cm4gX3JvdXRlci5kZWZhdWx0LnB1c2gobGFzdFBhdGggfHwgJy8nKTsKICAgICAgfSk7CiAgICB9CgogICAgcmV0dXJuIF9zdG9yZS5kZWZhdWx0LmRpc3BhdGNoKCd0YWdzVmlldy9kZWxWaWV3Jywgb2JqKTsKICB9LAogIC8vIOWFs+mXreaJgOaciXRhYumhteetvgogIGNsb3NlQWxsUGFnZTogZnVuY3Rpb24gY2xvc2VBbGxQYWdlKCkgewogICAgcmV0dXJuIF9zdG9yZS5kZWZhdWx0LmRpc3BhdGNoKCd0YWdzVmlldy9kZWxBbGxWaWV3cycpOwogIH0sCiAgLy8g5YWz6Zet5bem5L6ndGFi6aG1562+CiAgY2xvc2VMZWZ0UGFnZTogZnVuY3Rpb24gY2xvc2VMZWZ0UGFnZShvYmopIHsKICAgIHJldHVybiBfc3RvcmUuZGVmYXVsdC5kaXNwYXRjaCgndGFnc1ZpZXcvZGVsTGVmdFRhZ3MnLCBvYmogfHwgX3JvdXRlci5kZWZhdWx0LmN1cnJlbnRSb3V0ZSk7CiAgfSwKICAvLyDlhbPpl63lj7Pkvqd0YWLpobXnrb4KICBjbG9zZVJpZ2h0UGFnZTogZnVuY3Rpb24gY2xvc2VSaWdodFBhZ2Uob2JqKSB7CiAgICByZXR1cm4gX3N0b3JlLmRlZmF1bHQuZGlzcGF0Y2goJ3RhZ3NWaWV3L2RlbFJpZ2h0VGFncycsIG9iaiB8fCBfcm91dGVyLmRlZmF1bHQuY3VycmVudFJvdXRlKTsKICB9LAogIC8vIOWFs+mXreWFtuS7lnRhYumhteetvgogIGNsb3NlT3RoZXJQYWdlOiBmdW5jdGlvbiBjbG9zZU90aGVyUGFnZShvYmopIHsKICAgIHJldHVybiBfc3RvcmUuZGVmYXVsdC5kaXNwYXRjaCgndGFnc1ZpZXcvZGVsT3RoZXJzVmlld3MnLCBvYmogfHwgX3JvdXRlci5kZWZhdWx0LmN1cnJlbnRSb3V0ZSk7CiAgfSwKICAvLyDmt7vliqB0YWLpobXnrb4KICBvcGVuUGFnZTogZnVuY3Rpb24gb3BlblBhZ2UodGl0bGUsIHVybCwgcGFyYW1zKSB7CiAgICB2YXIgb2JqID0gewogICAgICBwYXRoOiB1cmwsCiAgICAgIG1ldGE6IHsKICAgICAgICB0aXRsZTogdGl0bGUKICAgICAgfQogICAgfTsKCiAgICBfc3RvcmUuZGVmYXVsdC5kaXNwYXRjaCgndGFnc1ZpZXcvYWRkVmlldycsIG9iaik7CgogICAgcmV0dXJuIF9yb3V0ZXIuZGVmYXVsdC5wdXNoKHsKICAgICAgcGF0aDogdXJsLAogICAgICBxdWVyeTogcGFyYW1zCiAgICB9KTsKICB9LAogIC8vIOS/ruaUuXRhYumhteetvgogIHVwZGF0ZVBhZ2U6IGZ1bmN0aW9uIHVwZGF0ZVBhZ2Uob2JqKSB7CiAgICByZXR1cm4gX3N0b3JlLmRlZmF1bHQuZGlzcGF0Y2goJ3RhZ3NWaWV3L3VwZGF0ZVZpc2l0ZWRWaWV3Jywgb2JqKTsKICB9Cn07CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"names":["refreshPage","obj","router","currentRoute","path","query","matched","undefined","forEach","m","components","default","name","includes","store","dispatch","then","replace","closeOpenPage","push","closePage","lastPath","closeAllPage","closeLeftPage","closeRightPage","closeOtherPage","openPage","title","url","params","meta","updatePage"],"sources":["D:/work/proj/project_manage/project-ui/src/plugins/tab.js"],"sourcesContent":["import store from '@/store'\r\nimport router from '@/router';\r\n\r\nexport default {\r\n  // 刷新当前tab页签\r\n  refreshPage(obj) {\r\n    const { path, query, matched } = router.currentRoute;\r\n    if (obj === undefined) {\r\n      matched.forEach((m) => {\r\n        if (m.components && m.components.default && m.components.default.name) {\r\n          if (!['Layout', 'ParentView'].includes(m.components.default.name)) {\r\n            obj = { name: m.components.default.name, path: path, query: query };\r\n          }\r\n        }\r\n      });\r\n    }\r\n    return store.dispatch('tagsView/delCachedView', obj).then(() => {\r\n      const { path, query } = obj\r\n      router.replace({\r\n        path: '/redirect' + path,\r\n        query: query\r\n      })\r\n    })\r\n  },\r\n  // 关闭当前tab页签，打开新页签\r\n  closeOpenPage(obj) {\r\n    store.dispatch(\"tagsView/delView\", router.currentRoute);\r\n    if (obj !== undefined) {\r\n      return router.push(obj);\r\n    }\r\n  },\r\n  // 关闭指定tab页签\r\n  closePage(obj) {\r\n    if (obj === undefined) {\r\n      return store.dispatch('tagsView/delView', router.currentRoute).then(({ lastPath }) => {\r\n        return router.push(lastPath || '/');\r\n      });\r\n    }\r\n    return store.dispatch('tagsView/delView', obj);\r\n  },\r\n  // 关闭所有tab页签\r\n  closeAllPage() {\r\n    return store.dispatch('tagsView/delAllViews');\r\n  },\r\n  // 关闭左侧tab页签\r\n  closeLeftPage(obj) {\r\n    return store.dispatch('tagsView/delLeftTags', obj || router.currentRoute);\r\n  },\r\n  // 关闭右侧tab页签\r\n  closeRightPage(obj) {\r\n    return store.dispatch('tagsView/delRightTags', obj || router.currentRoute);\r\n  },\r\n  // 关闭其他tab页签\r\n  closeOtherPage(obj) {\r\n    return store.dispatch('tagsView/delOthersViews', obj || router.currentRoute);\r\n  },\r\n  // 添加tab页签\r\n  openPage(title, url, params) {\r\n    var obj = { path: url, meta: { title: title } }\r\n    store.dispatch('tagsView/addView', obj);\r\n    return router.push({ path: url, query: params });\r\n  },\r\n  // 修改tab页签\r\n  updatePage(obj) {\r\n    return store.dispatch('tagsView/updateVisitedView', obj);\r\n  }\r\n}\r\n"],"mappings":"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"}]}