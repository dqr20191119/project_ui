{"remainingRequest":"D:\\work\\proj\\project_manage\\project-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\work\\proj\\project_manage\\project-ui\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\work\\proj\\project_manage\\project-ui\\src\\utils\\request.js","dependencies":[{"path":"D:\\work\\proj\\project_manage\\project-ui\\src\\utils\\request.js","mtime":1663479653274},{"path":"D:\\work\\proj\\project_manage\\project-ui\\babel.config.js","mtime":1663229169808},{"path":"D:\\work\\proj\\project_manage\\project-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1663230084016},{"path":"D:\\work\\proj\\project_manage\\project-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1663230086097},{"path":"D:\\work\\proj\\project_manage\\project-ui\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js","mtime":1663230084575}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJEOi93b3JrL3Byb2ovcHJvamVjdF9tYW5hZ2UvcHJvamVjdC11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQuanMiKS5kZWZhdWx0OwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CmV4cG9ydHMuZG93bmxvYWQgPSBkb3dubG9hZDsKZXhwb3J0cy5nZXRVcmxLZXkgPSBnZXRVcmxLZXk7CmV4cG9ydHMuaXNSZWxvZ2luID0gdm9pZCAwOwoKdmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJEOi93b3JrL3Byb2ovcHJvamVjdF9tYW5hZ2UvcHJvamVjdC11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9yZWdlbmVyYXRvclJ1bnRpbWUuanMiKSk7Cgp2YXIgX2FzeW5jVG9HZW5lcmF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJEOi93b3JrL3Byb2ovcHJvamVjdF9tYW5hZ2UvcHJvamVjdC11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3luY1RvR2VuZXJhdG9yLmpzIikpOwoKdmFyIF90eXBlb2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJEOi93b3JrL3Byb2ovcHJvamVjdF9tYW5hZ2UvcHJvamVjdC11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy90eXBlb2YuanMiKSk7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5lcnJvci5jYXVzZS5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5jb25zdHJ1Y3Rvci5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5kb3QtYWxsLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnN0aWNreS5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiKTsKCnZhciBfYXhpb3MgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoImF4aW9zIikpOwoKdmFyIF9lbGVtZW50VWkgPSByZXF1aXJlKCJlbGVtZW50LXVpIik7Cgp2YXIgX3N0b3JlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJAL3N0b3JlIikpOwoKdmFyIF9hdXRoID0gcmVxdWlyZSgiQC91dGlscy9hdXRoIik7Cgp2YXIgX2Vycm9yQ29kZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQC91dGlscy9lcnJvckNvZGUiKSk7Cgp2YXIgX3J1b3lpID0gcmVxdWlyZSgiQC91dGlscy9ydW95aSIpOwoKdmFyIF9jYWNoZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQC9wbHVnaW5zL2NhY2hlIikpOwoKdmFyIF9maWxlU2F2ZXIgPSByZXF1aXJlKCJmaWxlLXNhdmVyIik7Cgp2YXIgZG93bmxvYWRMb2FkaW5nSW5zdGFuY2U7IC8vIOaYr+WQpuaYvuekuumHjeaWsOeZu+W9lQoKdmFyIGlzUmVsb2dpbiA9IHsKICBzaG93OiBmYWxzZQp9OwpleHBvcnRzLmlzUmVsb2dpbiA9IGlzUmVsb2dpbjsKX2F4aW9zLmRlZmF1bHQuZGVmYXVsdHMuaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSAnYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04JzsgLy8g5Yib5bu6YXhpb3Plrp7kvosKCnZhciBzZXJ2aWNlID0gX2F4aW9zLmRlZmF1bHQuY3JlYXRlKHsKICAvLyBheGlvc+S4reivt+axgumFjee9ruaciWJhc2VVUkzpgInpobnvvIzooajnpLror7fmsYJVUkzlhazlhbHpg6jliIYKICBiYXNlVVJMOiBwcm9jZXNzLmVudi5WVUVfQVBQX0JBU0VfQVBJLAogIC8vIOi2heaXtgogIHRpbWVvdXQ6IDEwMDAwCn0pOyAvLyByZXF1ZXN05oum5oiq5ZmoCgoKc2VydmljZS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIC8vIOaYr+WQpumcgOimgeiuvue9riB0b2tlbgogIHZhciBpc1Rva2VuID0gKGNvbmZpZy5oZWFkZXJzIHx8IHt9KS5pc1Rva2VuID09PSBmYWxzZTsgLy8g5piv5ZCm6ZyA6KaB6Ziy5q2i5pWw5o2u6YeN5aSN5o+Q5LqkCgogIHZhciBpc1JlcGVhdFN1Ym1pdCA9IChjb25maWcuaGVhZGVycyB8fCB7fSkucmVwZWF0U3VibWl0ID09PSBmYWxzZTsKCiAgaWYgKCgwLCBfYXV0aC5nZXRUb2tlbikoKSAmJiAhaXNUb2tlbikgewogICAgY29uZmlnLmhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXSA9ICdCZWFyZXIgJyArICgwLCBfYXV0aC5nZXRUb2tlbikoKTsgLy8g6K6p5q+P5Liq6K+35rGC5pC65bim6Ieq5a6a5LmJdG9rZW4g6K+35qC55o2u5a6e6ZmF5oOF5Ya16Ieq6KGM5L+u5pS5CiAgfSAvLyBnZXTor7fmsYLmmKDlsIRwYXJhbXPlj4LmlbAKCgogIGlmIChjb25maWcubWV0aG9kID09PSAnZ2V0JyAmJiBjb25maWcucGFyYW1zKSB7CiAgICB2YXIgdXJsID0gY29uZmlnLnVybCArICc/JyArICgwLCBfcnVveWkudGFuc1BhcmFtcykoY29uZmlnLnBhcmFtcyk7CiAgICB1cmwgPSB1cmwuc2xpY2UoMCwgLTEpOwogICAgY29uZmlnLnBhcmFtcyA9IHt9OwogICAgY29uZmlnLnVybCA9IHVybDsKICB9CgogIGlmICghaXNSZXBlYXRTdWJtaXQgJiYgKGNvbmZpZy5tZXRob2QgPT09ICdwb3N0JyB8fCBjb25maWcubWV0aG9kID09PSAncHV0JykpIHsKICAgIHZhciByZXF1ZXN0T2JqID0gewogICAgICB1cmw6IGNvbmZpZy51cmwsCiAgICAgIGRhdGE6ICgwLCBfdHlwZW9mMi5kZWZhdWx0KShjb25maWcuZGF0YSkgPT09ICdvYmplY3QnID8gSlNPTi5zdHJpbmdpZnkoY29uZmlnLmRhdGEpIDogY29uZmlnLmRhdGEsCiAgICAgIHRpbWU6IG5ldyBEYXRlKCkuZ2V0VGltZSgpCiAgICB9OwoKICAgIHZhciBzZXNzaW9uT2JqID0gX2NhY2hlLmRlZmF1bHQuc2Vzc2lvbi5nZXRKU09OKCdzZXNzaW9uT2JqJyk7CgogICAgaWYgKHNlc3Npb25PYmogPT09IHVuZGVmaW5lZCB8fCBzZXNzaW9uT2JqID09PSBudWxsIHx8IHNlc3Npb25PYmogPT09ICcnKSB7CiAgICAgIF9jYWNoZS5kZWZhdWx0LnNlc3Npb24uc2V0SlNPTignc2Vzc2lvbk9iaicsIHJlcXVlc3RPYmopOwogICAgfSBlbHNlIHsKICAgICAgdmFyIHNfdXJsID0gc2Vzc2lvbk9iai51cmw7IC8vIOivt+axguWcsOWdgAoKICAgICAgdmFyIHNfZGF0YSA9IHNlc3Npb25PYmouZGF0YTsgLy8g6K+35rGC5pWw5o2uCgogICAgICB2YXIgc190aW1lID0gc2Vzc2lvbk9iai50aW1lOyAvLyDor7fmsYLml7bpl7QKCiAgICAgIHZhciBpbnRlcnZhbCA9IDEwMDA7IC8vIOmXtOmalOaXtumXtChtcynvvIzlsI/kuo7mraTml7bpl7Top4bkuLrph43lpI3mj5DkuqQKCiAgICAgIGlmIChzX2RhdGEgPT09IHJlcXVlc3RPYmouZGF0YSAmJiByZXF1ZXN0T2JqLnRpbWUgLSBzX3RpbWUgPCBpbnRlcnZhbCAmJiBzX3VybCA9PT0gcmVxdWVzdE9iai51cmwpIHsKICAgICAgICB2YXIgbWVzc2FnZSA9ICfmlbDmja7mraPlnKjlpITnkIbvvIzor7fli7/ph43lpI3mj5DkuqQnOwogICAgICAgIGNvbnNvbGUud2FybigiWyIuY29uY2F0KHNfdXJsLCAiXTogIikgKyBtZXNzYWdlKTsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKG1lc3NhZ2UpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBfY2FjaGUuZGVmYXVsdC5zZXNzaW9uLnNldEpTT04oJ3Nlc3Npb25PYmonLCByZXF1ZXN0T2JqKTsKICAgICAgfQogICAgfQogIH0KCiAgcmV0dXJuIGNvbmZpZzsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgY29uc29sZS5sb2coZXJyb3IpOwogIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7IC8vIOWTjeW6lOaLpuaIquWZqAoKc2VydmljZS5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXMpIHsKICAvLyDmnKrorr7nva7nirbmgIHnoIHliJnpu5jorqTmiJDlip/nirbmgIEKICB2YXIgY29kZSA9IHJlcy5kYXRhLmNvZGUgfHwgMjAwOyAvLyDojrflj5bplJnor6/kv6Hmga8KCiAgdmFyIG1zZyA9IF9lcnJvckNvZGUuZGVmYXVsdFtjb2RlXSB8fCByZXMuZGF0YS5tc2cgfHwgX2Vycm9yQ29kZS5kZWZhdWx0WydkZWZhdWx0J107IC8vIOS6jOi/m+WItuaVsOaNruWImeebtOaOpei/lOWbngoKICBpZiAocmVzLnJlcXVlc3QucmVzcG9uc2VUeXBlID09PSAnYmxvYicgfHwgcmVzLnJlcXVlc3QucmVzcG9uc2VUeXBlID09PSAnYXJyYXlidWZmZXInKSB7CiAgICByZXR1cm4gcmVzLmRhdGE7CiAgfQoKICBpZiAoY29kZSA9PT0gNDAxKSB7CiAgICBpZiAoIWlzUmVsb2dpbi5zaG93KSB7CiAgICAgIGlzUmVsb2dpbi5zaG93ID0gdHJ1ZTsKCiAgICAgIF9lbGVtZW50VWkuTWVzc2FnZUJveC5jb25maXJtKCfnmbvlvZXnirbmgIHlt7Lov4fmnJ/vvIzmgqjlj6/ku6Xnu6fnu63nlZnlnKjor6XpobXpnaLvvIzmiJbogIXph43mlrDnmbvlvZUnLCAn57O757uf5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn6YeN5paw55m75b2VJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgaXNSZWxvZ2luLnNob3cgPSBmYWxzZTsKCiAgICAgICAgX3N0b3JlLmRlZmF1bHQuZGlzcGF0Y2goJ0xvZ091dCcpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgbG9jYXRpb24uaHJlZiA9ICcvaW5kZXgnOwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgaXNSZWxvZ2luLnNob3cgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9CgogICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCfml6DmlYjnmoTkvJror53vvIzmiJbogIXkvJror53lt7Lov4fmnJ/vvIzor7fph43mlrDnmbvlvZXjgIInKTsKICB9IGVsc2UgaWYgKGNvZGUgPT09IDUwMCkgewogICAgKDAsIF9lbGVtZW50VWkuTWVzc2FnZSkoewogICAgICBtZXNzYWdlOiBtc2csCiAgICAgIHR5cGU6ICdlcnJvcicKICAgIH0pOwogICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihtc2cpKTsKICB9IGVsc2UgaWYgKGNvZGUgIT09IDIwMCkgewogICAgX2VsZW1lbnRVaS5Ob3RpZmljYXRpb24uZXJyb3IoewogICAgICB0aXRsZTogbXNnCiAgICB9KTsKCiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ2Vycm9yJyk7CiAgfSBlbHNlIHsKICAgIHJldHVybiByZXMuZGF0YTsKICB9Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIGNvbnNvbGUubG9nKCdlcnInICsgZXJyb3IpOwogIHZhciBtZXNzYWdlID0gZXJyb3IubWVzc2FnZTsKCiAgaWYgKG1lc3NhZ2UgPT0gIk5ldHdvcmsgRXJyb3IiKSB7CiAgICBtZXNzYWdlID0gIuWQjuerr+aOpeWPo+i/nuaOpeW8guW4uCI7CiAgfSBlbHNlIGlmIChtZXNzYWdlLmluY2x1ZGVzKCJ0aW1lb3V0IikpIHsKICAgIG1lc3NhZ2UgPSAi57O757uf5o6l5Y+j6K+35rGC6LaF5pe2IjsKICB9IGVsc2UgaWYgKG1lc3NhZ2UuaW5jbHVkZXMoIlJlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGUiKSkgewogICAgbWVzc2FnZSA9ICLns7vnu5/mjqXlj6MiICsgbWVzc2FnZS5zdWJzdHIobWVzc2FnZS5sZW5ndGggLSAzKSArICLlvILluLgiOwogIH0KCiAgKDAsIF9lbGVtZW50VWkuTWVzc2FnZSkoewogICAgbWVzc2FnZTogbWVzc2FnZSwKICAgIHR5cGU6ICdlcnJvcicsCiAgICBkdXJhdGlvbjogNSAqIDEwMDAKICB9KTsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsgLy8g6YCa55So5LiL6L295pa55rOVCgpmdW5jdGlvbiBkb3dubG9hZCh1cmwsIHBhcmFtcywgZmlsZW5hbWUpIHsKICBkb3dubG9hZExvYWRpbmdJbnN0YW5jZSA9IF9lbGVtZW50VWkuTG9hZGluZy5zZXJ2aWNlKHsKICAgIHRleHQ6ICLmraPlnKjkuIvovb3mlbDmja7vvIzor7fnqI3lgJkiLAogICAgc3Bpbm5lcjogImVsLWljb24tbG9hZGluZyIsCiAgICBiYWNrZ3JvdW5kOiAicmdiYSgwLCAwLCAwLCAwLjcpIgogIH0pOwogIHJldHVybiBzZXJ2aWNlLnBvc3QodXJsLCBwYXJhbXMsIHsKICAgIHRyYW5zZm9ybVJlcXVlc3Q6IFtmdW5jdGlvbiAocGFyYW1zKSB7CiAgICAgIHJldHVybiAoMCwgX3J1b3lpLnRhbnNQYXJhbXMpKHBhcmFtcyk7CiAgICB9XSwKICAgIGhlYWRlcnM6IHsKICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnCiAgICB9LAogICAgcmVzcG9uc2VUeXBlOiAnYmxvYicKICB9KS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgdmFyIF9yZWYgPSAoMCwgX2FzeW5jVG9HZW5lcmF0b3IyLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovKDAsIF9yZWdlbmVyYXRvclJ1bnRpbWUyLmRlZmF1bHQpKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKGRhdGEpIHsKICAgICAgdmFyIGlzTG9naW4sIGJsb2IsIHJlc1RleHQsIHJzcE9iaiwgZXJyTXNnOwogICAgICByZXR1cm4gKDAsIF9yZWdlbmVyYXRvclJ1bnRpbWUyLmRlZmF1bHQpKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gKDAsIF9ydW95aS5ibG9iVmFsaWRhdGUpKGRhdGEpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGlzTG9naW4gPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICBpZiAoIWlzTG9naW4pIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBibG9iID0gbmV3IEJsb2IoW2RhdGFdKTsKICAgICAgICAgICAgICAoMCwgX2ZpbGVTYXZlci5zYXZlQXMpKGJsb2IsIGZpbGVuYW1lKTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgIHJldHVybiBkYXRhLnRleHQoKTsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgcmVzVGV4dCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgcnNwT2JqID0gSlNPTi5wYXJzZShyZXNUZXh0KTsKICAgICAgICAgICAgICBlcnJNc2cgPSBfZXJyb3JDb2RlLmRlZmF1bHRbcnNwT2JqLmNvZGVdIHx8IHJzcE9iai5tc2cgfHwgX2Vycm9yQ29kZS5kZWZhdWx0WydkZWZhdWx0J107CgogICAgICAgICAgICAgIF9lbGVtZW50VWkuTWVzc2FnZS5lcnJvcihlcnJNc2cpOwoKICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICBkb3dubG9hZExvYWRpbmdJbnN0YW5jZS5jbG9zZSgpOwoKICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSk7CgogICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfTsKICB9KCkpLmNhdGNoKGZ1bmN0aW9uIChyKSB7CiAgICBjb25zb2xlLmVycm9yKHIpOwoKICAgIF9lbGVtZW50VWkuTWVzc2FnZS5lcnJvcign5LiL6L295paH5Lu25Ye6546w6ZSZ6K+v77yM6K+36IGU57O7566h55CG5ZGY77yBJyk7CgogICAgZG93bmxvYWRMb2FkaW5nSW5zdGFuY2UuY2xvc2UoKTsKICB9KTsKfQoKZnVuY3Rpb24gZ2V0VXJsS2V5KG5hbWUpIHsKICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KChuZXcgUmVnRXhwKCdbP3wmXScgKyBuYW1lICsgJz0nICsgJyhbXiY7XSs/KSgmfCN8O3wkKScpLmV4ZWMobG9jYXRpb24uaHJlZikgfHwgWywgIiJdKVsxXS5yZXBsYWNlKC9cKy9nLCAnJTIwJykpIHx8IG51bGw7Cn0KCnZhciBfZGVmYXVsdCA9IHNlcnZpY2U7CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"names":["downloadLoadingInstance","isRelogin","show","axios","defaults","headers","service","create","baseURL","process","env","VUE_APP_BASE_API","timeout","interceptors","request","use","config","isToken","isRepeatSubmit","repeatSubmit","getToken","method","params","url","tansParams","slice","requestObj","data","JSON","stringify","time","Date","getTime","sessionObj","cache","session","getJSON","undefined","setJSON","s_url","s_data","s_time","interval","message","console","warn","Promise","reject","Error","error","log","response","res","code","msg","errorCode","responseType","MessageBox","confirm","confirmButtonText","cancelButtonText","type","then","store","dispatch","location","href","catch","Message","Notification","title","includes","substr","length","duration","download","filename","Loading","text","spinner","background","post","transformRequest","blobValidate","isLogin","blob","Blob","saveAs","resText","rspObj","parse","errMsg","close","r","getUrlKey","name","decodeURIComponent","RegExp","exec","replace"],"sources":["D:/work/proj/project_manage/project-ui/src/utils/request.js"],"sourcesContent":["import axios from 'axios'\r\nimport { Notification, MessageBox, Message, Loading } from 'element-ui'\r\nimport store from '@/store'\r\nimport { getToken } from '@/utils/auth'\r\nimport errorCode from '@/utils/errorCode'\r\nimport { tansParams, blobValidate } from \"@/utils/ruoyi\";\r\nimport cache from '@/plugins/cache'\r\nimport { saveAs } from 'file-saver'\r\n\r\nlet downloadLoadingInstance;\r\n// 是否显示重新登录\r\nexport let isRelogin = { show: false };\r\n\r\naxios.defaults.headers['Content-Type'] = 'application/json;charset=utf-8'\r\n// 创建axios实例\r\nconst service = axios.create({\r\n  // axios中请求配置有baseURL选项，表示请求URL公共部分\r\n  baseURL: process.env.VUE_APP_BASE_API,\r\n  // 超时\r\n  timeout: 10000\r\n})\r\n\r\n// request拦截器\r\nservice.interceptors.request.use(config => {\r\n  // 是否需要设置 token\r\n  const isToken = (config.headers || {}).isToken === false\r\n  // 是否需要防止数据重复提交\r\n  const isRepeatSubmit = (config.headers || {}).repeatSubmit === false\r\n  if (getToken() && !isToken) {\r\n    config.headers['Authorization'] = 'Bearer ' + getToken() // 让每个请求携带自定义token 请根据实际情况自行修改\r\n  }\r\n  // get请求映射params参数\r\n  if (config.method === 'get' && config.params) {\r\n    let url = config.url + '?' + tansParams(config.params);\r\n    url = url.slice(0, -1);\r\n    config.params = {};\r\n    config.url = url;\r\n  }\r\n  if (!isRepeatSubmit && (config.method === 'post' || config.method === 'put')) {\r\n    const requestObj = {\r\n      url: config.url,\r\n      data: typeof config.data === 'object' ? JSON.stringify(config.data) : config.data,\r\n      time: new Date().getTime()\r\n    }\r\n    const sessionObj = cache.session.getJSON('sessionObj')\r\n    if (sessionObj === undefined || sessionObj === null || sessionObj === '') {\r\n      cache.session.setJSON('sessionObj', requestObj)\r\n    } else {\r\n      const s_url = sessionObj.url;                  // 请求地址\r\n      const s_data = sessionObj.data;                // 请求数据\r\n      const s_time = sessionObj.time;                // 请求时间\r\n      const interval = 1000;                         // 间隔时间(ms)，小于此时间视为重复提交\r\n      if (s_data === requestObj.data && requestObj.time - s_time < interval && s_url === requestObj.url) {\r\n        const message = '数据正在处理，请勿重复提交';\r\n        console.warn(`[${s_url}]: ` + message)\r\n        return Promise.reject(new Error(message))\r\n      } else {\r\n        cache.session.setJSON('sessionObj', requestObj)\r\n      }\r\n    }\r\n  }\r\n  return config\r\n}, error => {\r\n    console.log(error)\r\n    Promise.reject(error)\r\n})\r\n\r\n// 响应拦截器\r\nservice.interceptors.response.use(res => {\r\n    // 未设置状态码则默认成功状态\r\n    const code = res.data.code || 200;\r\n    // 获取错误信息\r\n    const msg = errorCode[code] || res.data.msg || errorCode['default']\r\n    // 二进制数据则直接返回\r\n    if(res.request.responseType ===  'blob' || res.request.responseType ===  'arraybuffer'){\r\n      return res.data\r\n    }\r\n    if (code === 401) {\r\n      if (!isRelogin.show) {\r\n        isRelogin.show = true;\r\n        MessageBox.confirm('登录状态已过期，您可以继续留在该页面，或者重新登录', '系统提示', {\r\n          confirmButtonText: '重新登录',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }\r\n      ).then(() => {\r\n        isRelogin.show = false;\r\n        store.dispatch('LogOut').then(() => {\r\n          location.href = '/index';\r\n        })\r\n      }).catch(() => {\r\n        isRelogin.show = false;\r\n      });\r\n    }\r\n      return Promise.reject('无效的会话，或者会话已过期，请重新登录。')\r\n    } else if (code === 500) {\r\n      Message({\r\n        message: msg,\r\n        type: 'error'\r\n      })\r\n      return Promise.reject(new Error(msg))\r\n    } else if (code !== 200) {\r\n      Notification.error({\r\n        title: msg\r\n      })\r\n      return Promise.reject('error')\r\n    } else {\r\n      return res.data\r\n    }\r\n  },\r\n  error => {\r\n    console.log('err' + error)\r\n    let { message } = error;\r\n    if (message == \"Network Error\") {\r\n      message = \"后端接口连接异常\";\r\n    }\r\n    else if (message.includes(\"timeout\")) {\r\n      message = \"系统接口请求超时\";\r\n    }\r\n    else if (message.includes(\"Request failed with status code\")) {\r\n      message = \"系统接口\" + message.substr(message.length - 3) + \"异常\";\r\n    }\r\n    Message({\r\n      message: message,\r\n      type: 'error',\r\n      duration: 5 * 1000\r\n    })\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\n// 通用下载方法\r\nexport function download(url, params, filename) {\r\n  downloadLoadingInstance = Loading.service({ text: \"正在下载数据，请稍候\", spinner: \"el-icon-loading\", background: \"rgba(0, 0, 0, 0.7)\", })\r\n  return service.post(url, params, {\r\n    transformRequest: [(params) => { return tansParams(params) }],\r\n    headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\r\n    responseType: 'blob'\r\n  }).then(async (data) => {\r\n    const isLogin = await blobValidate(data);\r\n    if (isLogin) {\r\n      const blob = new Blob([data])\r\n      saveAs(blob, filename)\r\n    } else {\r\n      const resText = await data.text();\r\n      const rspObj = JSON.parse(resText);\r\n      const errMsg = errorCode[rspObj.code] || rspObj.msg || errorCode['default']\r\n      Message.error(errMsg);\r\n    }\r\n    downloadLoadingInstance.close();\r\n  }).catch((r) => {\r\n    console.error(r)\r\n    Message.error('下载文件出现错误，请联系管理员！')\r\n    downloadLoadingInstance.close();\r\n  })\r\n}\r\n\r\n\r\nexport function getUrlKey (name) {\r\n  return decodeURIComponent((new RegExp('[?|&]' + name + '=' + '([^&;]+?)(&|#|;|$)').exec(location.href) || [, \"\"])[1].replace(/\\+/g, '%20')) || null;\r\n}\r\n\r\nexport default service\r\n"],"mappings":"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"}]}