{"remainingRequest":"D:\\work\\proj\\project_manage\\project-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\work\\proj\\project_manage\\project-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\work\\proj\\project_manage\\project-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\work\\proj\\project_manage\\project-ui\\src\\views\\information-search\\project3.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\work\\proj\\project_manage\\project-ui\\src\\views\\information-search\\project3.vue","mtime":1663229169961},{"path":"D:\\work\\proj\\project_manage\\project-ui\\babel.config.js","mtime":1663229169808},{"path":"D:\\work\\proj\\project_manage\\project-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1663230084016},{"path":"D:\\work\\proj\\project_manage\\project-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1663230086097},{"path":"D:\\work\\proj\\project_manage\\project-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1663230084016},{"path":"D:\\work\\proj\\project_manage\\project-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1663230087832}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZSgiRDovd29yay9wcm9qL3Byb2plY3RfbWFuYWdlL3Byb2plY3QtdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVXaWxkY2FyZC5qcyIpLmRlZmF1bHQ7Cgp2YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IHJlcXVpcmUoIkQ6L3dvcmsvcHJvai9wcm9qZWN0X21hbmFnZS9wcm9qZWN0LXVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdC5qcyIpLmRlZmF1bHQ7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDsKCnZhciBfcmVnZW5lcmF0b3JSdW50aW1lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiRDovd29yay9wcm9qL3Byb2plY3RfbWFuYWdlL3Byb2plY3QtdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvcmVnZW5lcmF0b3JSdW50aW1lLmpzIikpOwoKdmFyIF9hc3luY1RvR2VuZXJhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiRDovd29yay9wcm9qL3Byb2plY3RfbWFuYWdlL3Byb2plY3QtdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXN5bmNUb0dlbmVyYXRvci5qcyIpKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnB1c2guanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLWluZGV4LmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyIpOwoKcmVxdWlyZSgib2wvb2wuY3NzIik7Cgp2YXIgX01hcCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgib2wvTWFwIikpOwoKdmFyIG9sQ29udHJvbCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoIm9sL2NvbnRyb2wiKSk7Cgp2YXIgX1ZpZXcgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIm9sL1ZpZXciKSk7Cgp2YXIgX2V4dGVudCA9IHJlcXVpcmUoIm9sL2V4dGVudCIpOwoKdmFyIF9UaWxlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJvbC9sYXllci9UaWxlIikpOwoKdmFyIF9XTVRTID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJvbC9zb3VyY2UvV01UUyIpKTsKCnZhciBfWFlaID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJvbC9zb3VyY2UvWFlaIikpOwoKdmFyIF9XTVRTMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgib2wvdGlsZWdyaWQvV01UUyIpKTsKCnZhciBfUHJvamVjdGlvbiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgib2wvcHJvai9Qcm9qZWN0aW9uIikpOwoKdmFyIF9wcm9qID0gcmVxdWlyZSgib2wvcHJvaiIpOwoKdmFyIF9wcm9qMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgicHJvajQiKSk7Cgp2YXIgX3Byb2ozID0gcmVxdWlyZSgib2wvcHJvai9wcm9qNCIpOwoKdmFyIF9WZWN0b3IgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIm9sL3NvdXJjZS9WZWN0b3IiKSk7Cgp2YXIgX3NvdXJjZSA9IHJlcXVpcmUoIm9sL3NvdXJjZSIpOwoKdmFyIF9WZWN0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJvbC9sYXllci9WZWN0b3IiKSk7Cgp2YXIgX0ZlYXR1cmUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIm9sL0ZlYXR1cmUiKSk7Cgp2YXIgX2ludGVyYWN0aW9uID0gcmVxdWlyZSgib2wvaW50ZXJhY3Rpb24iKTsKCnZhciBfc3R5bGUgPSByZXF1aXJlKCJvbC9zcmMvc3R5bGUiKTsKCnZhciBfV0tUID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJvbC9mb3JtYXQvV0tUIikpOwoKdmFyIF9HZW9KU09OID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJvbC9mb3JtYXQvR2VvSlNPTiIpKTsKCnZhciBfT3ZlcmxheSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgib2wvT3ZlcmxheSIpKTsKCnZhciBlY2hhcnRzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZSgiZWNoYXJ0cyIpKTsKCnZhciBfYXhpb3MgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoImF4aW9zIikpOwoKdmFyIF9yZXF1ZXN0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJAL3V0aWxzL3JlcXVlc3QiKSk7Cgp2YXIgX0xpbmVTdHJpbmcgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIm9sL2dlb20vTGluZVN0cmluZyIpKTsKCnZhciBfTXVsdGlMaW5lU3RyaW5nID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJvbC9nZW9tL011bHRpTGluZVN0cmluZyIpKTsKCnZhciBfTXVsdGlQb2x5Z29uID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJvbC9nZW9tL011bHRpUG9seWdvbiIpKTsKCnZhciBfdnVlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJ2dWUiKSk7Cgp2YXIgX3J1b3lpID0gcmVxdWlyZSgiQC91dGlscy9ydW95aSIpOwoKdmFyIF9Qb2ludCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgib2wvZ2VvbS9Qb2ludCIpKTsKCnZhciBfU3R5bGUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIm9sL3N0eWxlL1N0eWxlIikpOwoKdmFyIF9JY29uID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJvbC9zdHlsZS9JY29uIikpOwoKdmFyIF9yZXNpemUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4vbWl4aW5zL3Jlc2l6ZSIpKTsKCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8v5Lit5b+D5Z2Q5qCHCnZhciBjZW50ZXJDb3JkaW5hdGUgPSBbNjU2OTUxLjIyMzc5ODk0LCAzNTU5MTM5LjI2NjI2MzY5XTsgLy/lnZDmoIflrprkuYkKCl9wcm9qMi5kZWZhdWx0LmRlZnMoIkVQU0c6NDU0OCIsICIrcHJvaj10bWVyYyArbGF0XzA9MCArbG9uXzA9MTE3ICtrPTEgK3hfMD01MDAwMDAgK3lfMD0wICtlbGxwcz1HUlM4MCArdW5pdHM9bSArbm9fZGVmcyIpOwoKKDAsIF9wcm9qMy5yZWdpc3RlcikoX3Byb2oyLmRlZmF1bHQpOyAvL+WcsOWbvuWIneWni+WMlgoKdmFyIHZpZXcgPSBuZXcgX1ZpZXcuZGVmYXVsdCh7CiAgY2VudGVyOiAoMCwgX3Byb2oudHJhbnNmb3JtKShjZW50ZXJDb3JkaW5hdGUsICdFUFNHOjQ1NDgnLCAnRVBTRzozODU3JyksCiAgbWluWm9vbTogNCwKICBtYXhab29tOiAxOCwKICB6b29tOiAxMi43IC8vIOWcsOWbvuWIneWni+WMlueahOe8qeaUvue6p+WIqwoKfSk7IC8v6auY5b635Zyw5Zu+5Zu+5bGCCgp2YXIgZ2FvZGVNYXBMYXllciA9IG5ldyBfVGlsZS5kZWZhdWx0KHsKICBzb3VyY2U6IG5ldyBfWFlaLmRlZmF1bHQoewogICAgekluZGV4OiAxLAogICAgdXJsOiAnaHR0cDovL3dlYnN0MHsxLTR9LmlzLmF1dG9uYXZpLmNvbS9hcHBtYXB0aWxlP2xhbmc9emhfY24mc2l6ZT0xJnNjYWxlPTEmc3R5bGU9NyZ4PXt4fSZ5PXt5fSZ6PXt6fScKICB9KQp9KTsKdmFyIHd4TWFwTGF5ZXIgPSBuZXcgX1RpbGUuZGVmYXVsdCh7CiAgc291cmNlOiBuZXcgX1hZWi5kZWZhdWx0KHsKICAgIGNyb3NzT3JpZ2luOiAiYW5vbnltb3VzIiwKICAgIHVybDogJ2h0dHA6Ly90MC50aWFuZGl0dS5nb3YuY24vaW1nX3cvd210cz90az0xMjkzNjQxNjg1ODBlN2YwZTNmZjViZDc1OWQ0MWE3NSZTRVJWSUNFPVdNVFMmUkVRVUVTVD1HZXRUaWxlJlZFUlNJT049MS4wLjAmTEFZRVI9aW1nJlNUWUxFPWRlZmF1bHQmVElMRU1BVFJJWFNFVD13JlRJTEVNQVRSSVg9e3p9JlRJTEVST1c9e3l9JlRJTEVDT0w9e3h9JkZPUk1BVD10aWxlcycKICB9KQp9KTsKdmFyIF9kZWZhdWx0ID0gewogIG5hbWU6ICJSb2FkIiwKICBtaXhpbnM6IFtfcmVzaXplLmRlZmF1bHRdLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhYzogJzEnLAogICAgICB2YWx1ZTE6ICd0cnVlJywKICAgICAgcm9hZFR5cGVSYWRpbzogW10sCiAgICAgIHJhZGlvMjogW10sCiAgICAgIGFkZEZvcm06IHsKICAgICAgICBzRGVwdE5hbWU6ICcnLAogICAgICAgIHNEZXB0SWQ6ICcnCiAgICAgIH0sCiAgICAgIHd4TWFwTGF5ZXI6IG51bGwsCiAgICAgIGNoZWNrZWRMYXllckFycmF5OiBbXSwKICAgICAgdmVjdG9yQXJyYXk6IFtdLAogICAgICBwb3BEZXRhaWxGbGFnOiBmYWxzZSwKICAgICAgZmlsdGVyVHJlZURhdGE6IFtdLAogICAgICBsYXllckFycmF5OiBbXSwKICAgICAgdGV4dE1hcmtMYXllck5hbWU6ICdUZXN0JTNBcG9pbnRzMDgyMicsCiAgICAgIHRleHRNYXJrRGF0YUNhY2hlOiBudWxsLAogICAgICB0cmVlRGF0YTogW3sKICAgICAgICBpZDogODAsCiAgICAgICAgbGFiZWw6ICfpqqjmnrbot6/nvZEnLAogICAgICAgIGxpdGVyYWw6ICcwMemqqOaetui3r+e9kScsCiAgICAgICAgZmlsbENvbG9yOiAiUkdCKDAsMCwyNTUpIiwKICAgICAgICBzdHJva2VDb2xvcjogIlJHQigwLDAsMjU1KSIsCiAgICAgICAgd2lkdGg6ICI0IiwKICAgICAgICBsYXllck5hbWU6ICJUZXN0OmxpbmVzMDgyMiIsCiAgICAgICAgZmlsdGVyS2V5OiAnbGF5ZXInCiAgICAgIH0sIHsKICAgICAgICBpZDogODEsCiAgICAgICAgbGFiZWw6ICflip/og73lrprkvY0nLAogICAgICAgIGNoaWxkcmVuOiBbewogICAgICAgICAgaWQ6IDgxMSwKICAgICAgICAgIGxhYmVsOiAn6L+R5pyf57q/5L2NJywKICAgICAgICAgIGxpdGVyYWw6ICfov5HmnJ/nur/kvY0nLAogICAgICAgICAgZmlsbENvbG9yOiAiI0ZGMDAwMCIsCiAgICAgICAgICBzdHJva2VDb2xvcjogIiNGRjAwMDAiLAogICAgICAgICAgd2lkdGg6ICI0IiwKICAgICAgICAgIGxheWVyTmFtZTogIlRlc3Q6anF4dyIsCiAgICAgICAgICBmaWx0ZXJLZXk6ICdsYXllck5hbWUnLAogICAgICAgICAgZGFzaE9mZnNldDogIjEwIiwKICAgICAgICAgIGRhc2hhcnJheTogWzEwLCAxMF0KICAgICAgICB9LCB7CiAgICAgICAgICBpZDogODEyLAogICAgICAgICAgbGFiZWw6ICfnjrDnirbnur/kvY0nLAogICAgICAgICAgbGl0ZXJhbDogJ+eOsOeKtue6v+S9jScsCiAgICAgICAgICBmaWxsQ29sb3I6ICIjMUNCMTUxIiwKICAgICAgICAgIHN0cm9rZUNvbG9yOiAiIzFDQjE1MSIsCiAgICAgICAgICB3aWR0aDogIjQiLAogICAgICAgICAgbGF5ZXJOYW1lOiAiVGVzdDp4enh3IiwKICAgICAgICAgIGZpbHRlcktleTogJ2xheWVyTmFtZScKICAgICAgICB9LCB7CiAgICAgICAgICBpZDogODEzLAogICAgICAgICAgbGFiZWw6ICfov5zmnJ/nur/kvY0nLAogICAgICAgICAgbGl0ZXJhbDogJ+i/nOacn+e6v+S9jScsCiAgICAgICAgICBmaWxsQ29sb3I6ICIjMDAwMEZGIiwKICAgICAgICAgIHN0cm9rZUNvbG9yOiAiIzAwMDBGRiIsCiAgICAgICAgICB3aWR0aDogIjQiLAogICAgICAgICAgbGF5ZXJOYW1lOiAiVGVzdDp5cXh3IiwKICAgICAgICAgIGZpbHRlcktleTogJ2xheWVyTmFtZScsCiAgICAgICAgICBkYXNoT2Zmc2V0OiAiMCIsCiAgICAgICAgICBkYXNoYXJyYXk6IFsxMCwgMTBdCiAgICAgICAgfV0KICAgICAgfSwgewogICAgICAgIGlkOiA4MywKICAgICAgICBsYWJlbDogJ+W7uuiuvuadoeS7ticsCiAgICAgICAgY2hpbGRyZW46IFt7CiAgICAgICAgICBpZDogODMxLAogICAgICAgICAgbGFiZWw6ICcx5rWm5rOX6Lev546w54q2JywKICAgICAgICAgIGxheWVyTmFtZTogIlRlc3Q6bGluZXMwODIyIiwKICAgICAgICAgIGZpbHRlcktleTogJ2xheWVyJwogICAgICAgIH0sIHsKICAgICAgICAgIGlkOiA4MzIsCiAgICAgICAgICBsYWJlbDogJzLop4TliJLpk4Hot68nLAogICAgICAgICAgbGF5ZXJOYW1lOiAiVGVzdDpsaW5lczA4MjIiLAogICAgICAgICAgZmlsdGVyS2V5OiAnbGF5ZXInLAogICAgICAgICAgY2hpbGRyZW46IFt7CiAgICAgICAgICAgIGlkOiA4MzIxLAogICAgICAgICAgICBsYWJlbDogJ+WMl+ayv+axn+mrmOmTgScsCiAgICAgICAgICAgIGxpdGVyYWw6ICcwMy0wMi0wMeWMl+ayv+axn+mrmOmTgScsCiAgICAgICAgICAgIGZpbGxDb2xvcjogIlJHQigwLDE4OSwxODkpIiwKICAgICAgICAgICAgc3Ryb2tlQ29sb3I6ICJSR0IoMCwxODksMTg5KSIsCiAgICAgICAgICAgIHdpZHRoOiAiMSIKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgaWQ6IDgzMjIsCiAgICAgICAgICAgIGxhYmVsOiAn5a6B5reu5Z+O6ZmF6ZOB6LevJywKICAgICAgICAgICAgbGl0ZXJhbDogJzAzLTAyLTAy5a6B5reu5Z+O6ZmF6ZOBJywKICAgICAgICAgICAgZmlsbENvbG9yOiAiUkdCKDAsMTg5LDE4OSkiLAogICAgICAgICAgICBzdHJva2VDb2xvcjogIlJHQigwLDE4OSwxODkpIiwKICAgICAgICAgICAgd2lkdGg6ICIxIgogICAgICAgICAgfSwgewogICAgICAgICAgICBpZDogODMyMywKICAgICAgICAgICAgbGFiZWw6ICfmma7pgJ/ns7vnu5/mlLnlu7onLAogICAgICAgICAgICBsaXRlcmFsOiAnMDMtMDItMDPmma7pgJ/ns7vnu5/mlLknLAogICAgICAgICAgICBmaWxsQ29sb3I6ICJSR0IoMCwxODksMTg5KSIsCiAgICAgICAgICAgIHN0cm9rZUNvbG9yOiAiUkdCKDAsMTg5LDE4OSkiLAogICAgICAgICAgICB3aWR0aDogIjEiCiAgICAgICAgICB9XQogICAgICAgIH0sIHsKICAgICAgICAgIGlkOiA4MzMsCiAgICAgICAgICBsYWJlbDogJzPln47luILovajpgZPkuqTpgJonLAogICAgICAgICAgbGF5ZXJOYW1lOiAiVGVzdDpsaW5lczA4MjIiLAogICAgICAgICAgZmlsdGVyS2V5OiAnbGF5ZXInLAogICAgICAgICAgbGl0ZXJhbDogJzAzLTAz5Z+O5biC6L2o6YGT5Lqk6YCaJywKICAgICAgICAgIGZpbGxDb2xvcjogIlJHQigyNTUsMCwyNTUpIiwKICAgICAgICAgIHN0cm9rZUNvbG9yOiAiUkdCKDI1NSwwLDI1NSkiCiAgICAgICAgfSwgewogICAgICAgICAgaWQ6IDgzNCwKICAgICAgICAgIGxhYmVsOiAnNOawtOezu+WPiuaWh+eJqScsCiAgICAgICAgICBsYXllck5hbWU6ICJUZXN0OmFyZWEwODIyIiwKICAgICAgICAgIGZpbHRlcktleTogJ2xheWVyJywKICAgICAgICAgIGNoaWxkcmVuOiBbewogICAgICAgICAgICBpZDogODM0MSwKICAgICAgICAgICAgbGFiZWw6ICfkuK3lv4PmsrMnLAogICAgICAgICAgICBsaXRlcmFsOiAnMDMtMDQtMDHkuK3lv4PmsrMnLAogICAgICAgICAgICBmaWxsQ29sb3I6ICJSR0IoMCwxOTEsMjU1KSIsCiAgICAgICAgICAgIHN0cm9rZUNvbG9yOiAiUkdCKDAsMTkxLDI1NSkiLAogICAgICAgICAgICB3aWR0aDogIjEiCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGlkOiA4MzQzLAogICAgICAgICAgICBsYWJlbDogJ+S4nOS4gOaysycsCiAgICAgICAgICAgIGxpdGVyYWw6ICcwMy0wNC0wMuS4nOS4gOaysycsCiAgICAgICAgICAgIGZpbGxDb2xvcjogIlJHQigwLDE5MSwyNTUpIiwKICAgICAgICAgICAgc3Ryb2tlQ29sb3I6ICJSR0IoMCwxOTEsMjU1KSIsCiAgICAgICAgICAgIHdpZHRoOiAiMSIKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgaWQ6IDgzNDQsCiAgICAgICAgICAgIGxhYmVsOiAn5pyx5a625bGx5rKzJywKICAgICAgICAgICAgbGl0ZXJhbDogJzAzLTA0LTAz5pyx5a625bGx5rKzJywKICAgICAgICAgICAgZmlsbENvbG9yOiAiUkdCKDAsMTkxLDI1NSkiLAogICAgICAgICAgICBzdHJva2VDb2xvcjogIlJHQigwLDE5MSwyNTUpIiwKICAgICAgICAgICAgd2lkdGg6ICIxIgogICAgICAgICAgfSwgewogICAgICAgICAgICBpZDogODM0NSwKICAgICAgICAgICAgbGFiZWw6ICflkI7msrMnLAogICAgICAgICAgICBsaXRlcmFsOiAnMDMtMDQtMDTlkI7msrMnLAogICAgICAgICAgICBmaWxsQ29sb3I6ICJSR0IoMCwxOTEsMjU1KSIsCiAgICAgICAgICAgIHN0cm9rZUNvbG9yOiAiUkdCKDAsMTkxLDI1NSkiLAogICAgICAgICAgICB3aWR0aDogIjEiCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGlkOiA4MzQ2LAogICAgICAgICAgICBsYWJlbDogJ+inhOWIkuays+mBkycsCiAgICAgICAgICAgIGxpdGVyYWw6ICcwMy0wNC0wNeinhOWIkuays+mBkycsCiAgICAgICAgICAgIGZpbGxDb2xvcjogIlJHQigwLDE5MSwyNTUpIiwKICAgICAgICAgICAgc3Ryb2tlQ29sb3I6ICJSR0IoMCwxOTEsMjU1KSIsCiAgICAgICAgICAgIHdpZHRoOiAiMSIKICAgICAgICAgIH1dCiAgICAgICAgfSwgewogICAgICAgICAgaWQ6IDgzNSwKICAgICAgICAgIGxhYmVsOiAnNeWcsOS4iuadhue6v+WSjOWcsOS4i+euoee6vycsCiAgICAgICAgICBsYXllck5hbWU6ICJUZXN0OmxpbmVzMDgyMiIsCiAgICAgICAgICBmaWx0ZXJLZXk6ICdsYXllcicsCiAgICAgICAgICBsaXRlcmFsOiAnMDMtMDXlnLDkuIrmnYbnur/lj4rlnLAnLAogICAgICAgICAgZmlsbENvbG9yOiAiUkdCKDI1NSwyNTUsMCkiLAogICAgICAgICAgc3Ryb2tlQ29sb3I6ICJSR0IoMjU1LDI1NSwwKSIsCiAgICAgICAgICB3aWR0aDogIjQiCiAgICAgICAgfV0KICAgICAgfSwgewogICAgICAgIGlkOiA4NCwKICAgICAgICBsYWJlbDogJ+i1t+e7iOeCueeglOepticsCiAgICAgICAgbGF5ZXJOYW1lOiAiVGVzdDphcmVhMDgyMiIsCiAgICAgICAgZmlsdGVyS2V5OiAnbGF5ZXInLAogICAgICAgIGNoaWxkcmVuOiBbewogICAgICAgICAgaWQ6IDg0MSwKICAgICAgICAgIGxhYmVsOiAn5Z+65pys5Yac55SwJywKICAgICAgICAgIGxpdGVyYWw6ICcwNOWfuuacrOWGnOeUsCcsCiAgICAgICAgICBmaWxsQ29sb3I6ICJSR0IoMCwyNTUsMCkiLAogICAgICAgICAgc3Ryb2tlQ29sb3I6ICJSR0IoMCwyNTUsMCkiLAogICAgICAgICAgd2lkdGg6ICIxIgogICAgICAgIH1dCiAgICAgIH0sIHsKICAgICAgICBpZDogODUsCiAgICAgICAgbGFiZWw6ICfop4TliJLot6/nvZEnLAogICAgICAgIGxheWVyTmFtZTogIlRlc3Q6YXJlYTA4MjIiLAogICAgICAgIGZpbHRlcktleTogJ2xheWVyJywKICAgICAgICBjaGlsZHJlbjogW3sKICAgICAgICAgIGlkOiA4NTEsCiAgICAgICAgICBsYWJlbDogJ+WMl+ermeW/q+mAn+i3rycsCiAgICAgICAgICBsaXRlcmFsOiAnMDUtMDHljJfnq5nlv6vpgJ/ot68nLAogICAgICAgICAgZmlsbENvbG9yOiAiUkdCKDI1NSwwLDI1NSkiLAogICAgICAgICAgc3Ryb2tlQ29sb3I6ICJSR0IoMjU1LDAsMjU1KSIsCiAgICAgICAgICB3aWR0aDogIjEiCiAgICAgICAgfSwgewogICAgICAgICAgaWQ6IDg1MiwKICAgICAgICAgIGxhYmVsOiAn5pyx5a625bGx5rKz6LevJywKICAgICAgICAgIGxpdGVyYWw6ICcwNS0wMuacseWutuWxseays+i3rycsCiAgICAgICAgICBmaWxsQ29sb3I6ICJSR0IoMTI5LDAsMCkiLAogICAgICAgICAgc3Ryb2tlQ29sb3I6ICJSR0IoMTI5LDAsMCkiLAogICAgICAgICAgd2lkdGg6ICIxIgogICAgICAgIH0sIHsKICAgICAgICAgIGlkOiA4NTMsCiAgICAgICAgICBsYWJlbDogJ+ermeWNl+S4gOi3rycsCiAgICAgICAgICBsaXRlcmFsOiAnMDUtMDPnq5nljZfkuIDot68nLAogICAgICAgICAgZmlsbENvbG9yOiAiUkdCKDAsMCwyNTUpIiwKICAgICAgICAgIHN0cm9rZUNvbG9yOiAiUkdCKDAsMCwyNTUpIiwKICAgICAgICAgIHdpZHRoOiAiMSIKICAgICAgICB9LCB7CiAgICAgICAgICBpZDogODU0LAogICAgICAgICAgbGFiZWw6ICfnq5nljZfkuozot68nLAogICAgICAgICAgbGl0ZXJhbDogJzA1LTA056uZ5Y2X5LqM6LevJywKICAgICAgICAgIGZpbGxDb2xvcjogIlJHQigxMjksMCwwKSIsCiAgICAgICAgICBzdHJva2VDb2xvcjogIlJHQigxMjksMCwwKSIsCiAgICAgICAgICB3aWR0aDogIjEiCiAgICAgICAgfSwgewogICAgICAgICAgaWQ6IDg1NSwKICAgICAgICAgIGxhYmVsOiAn56uZ6KW/6LevJywKICAgICAgICAgIGxpdGVyYWw6ICcwNS0wNeermeilv+i3rycsCiAgICAgICAgICBmaWxsQ29sb3I6ICJSR0IoMCwwLDI1NSkiLAogICAgICAgICAgc3Ryb2tlQ29sb3I6ICJSR0IoMCwwLDI1NSkiLAogICAgICAgICAgd2lkdGg6ICIxIgogICAgICAgIH0sIHsKICAgICAgICAgIGlkOiA4NTYsCiAgICAgICAgICBsYWJlbDogJ+ilv+W/q+e6vycsCiAgICAgICAgICBsaXRlcmFsOiAnMDUtMDbopb/lv6vnur8nLAogICAgICAgICAgZmlsbENvbG9yOiAiUkdCKDI1NSwwLDI1NSkiLAogICAgICAgICAgc3Ryb2tlQ29sb3I6ICJSR0IoMjU1LDAsMjU1KSIsCiAgICAgICAgICB3aWR0aDogIjEiCiAgICAgICAgfV0KICAgICAgfSwgewogICAgICAgIGlkOiA4NiwKICAgICAgICBsYWJlbDogJ+a2iemTgeiKgueCuemBk+i3r+W3peeoiycsCiAgICAgICAgbGl0ZXJhbDogJzA25raJ6ZOB6IqC54K56YGT6Lev5belJywKICAgICAgICBsYXllck5hbWU6ICJUZXN0OmFyZWEwODIyIiwKICAgICAgICBmaWx0ZXJLZXk6ICdsYXllcicsCiAgICAgICAgZmlsbENvbG9yOiAiUkdCKDAsMCwyNTUpIiwKICAgICAgICBzdHJva2VDb2xvcjogIlJHQigwLDAsMjU1KSIsCiAgICAgICAgd2lkdGg6ICIxIgogICAgICB9LCB7CiAgICAgICAgaWQ6IDg3LAogICAgICAgIGxhYmVsOiAn5Y2X5Lqs5YyX56uZ56uZ5Y+wJywKICAgICAgICBsaXRlcmFsOiAnMDfljZfkuqzljJfnq5nnq5nmiL8nLAogICAgICAgIGxheWVyTmFtZTogIlRlc3Q6YXJlYTA4MjIiLAogICAgICAgIGZpbHRlcktleTogJ2xheWVyJywKICAgICAgICBmaWxsQ29sb3I6ICJSR0IoMjU1LDAsMCkiLAogICAgICAgIHN0cm9rZUNvbG9yOiAiUkdCKDI1NSwwLDApIiwKICAgICAgICB3aWR0aDogIjEiCiAgICAgIH1dLAogICAgICBkZWZhdWx0UHJvcHM6IHsKICAgICAgICBjaGlsZHJlbjogJ2NoaWxkcmVuJywKICAgICAgICBsYWJlbDogJ2xhYmVsJwogICAgICB9LAogICAgICBwcm9qZWN0UmFkaW86IFsiMSIsICIyIl0sCiAgICAgIGdlb0pzb25MaXN0OiB7fSwKICAgICAgbWFya01pblpvb206IDExLjcsCiAgICAgIG1hcmtGbGFnOiBmYWxzZSwKICAgICAgbWFya1ZlY3RvckFycmF5OiBbXSwKICAgICAgbWFya0RhdGFDYWNoZTogbnVsbAogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAvL+WIneWni+WMluWbvuWxgiB3bXMKICAgIC8vdGhpcy5pbml0TGF5ZXJXbXMoKTsKICAgIC8v5Yid5aeL5YyW5Zu+5bGCIHdmcwogICAgdGhpcy5pbml0TGF5ZXJUb01hcFdmcyh0aGlzKTsKICAgIHRoaXMuYWRkVmVjdG9yTGF5ZXJXZnModGhpcyk7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9wdXAnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIC8v6L+H5ruk5LiN6ZyA6KaB5bGV56S65qCR5b2i6IqC54K5CiAgICB0aGlzLmZpbHRlckRhdGFUcmVlKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBmaWx0ZXJEYXRhVHJlZTogZnVuY3Rpb24gZmlsdGVyRGF0YVRyZWUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy50cmVlRGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaWYgKGl0ZW0uZGlzcGxheSAhPSBmYWxzZSkgewogICAgICAgICAgX3RoaXMyLmZpbHRlclRyZWVEYXRhLnB1c2goaXRlbSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBnZXRMYXllck1hcDogZnVuY3Rpb24gZ2V0TGF5ZXJNYXAoY2hlY2tlZEFycmF5KSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgaWYgKGNoZWNrZWRBcnJheSA9PSBudWxsKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KCiAgICAgIHZhciBsYXllck1hcCA9IFtdOwogICAgICB0aGlzLnRyZWVEYXRhLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBfdGhpczMuYXNzZW1ibGVMYXllckl0ZW1zKGl0ZW0sIG51bGwsIGxheWVyTWFwLCBjaGVja2VkQXJyYXkpOwogICAgICB9KTsKICAgICAgcmV0dXJuIGxheWVyTWFwOwogICAgfSwKICAgIGFzc2VtYmxlTGF5ZXJJdGVtczogZnVuY3Rpb24gYXNzZW1ibGVMYXllckl0ZW1zKGl0ZW0sIGFyciwgbSwgY2hlY2tlZEFycmF5KSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdmFyIG5ld0l0ZW0gPSBudWxsOwoKICAgICAgaWYgKGl0ZW0ubGF5ZXJOYW1lICE9IG51bGwpIHsKICAgICAgICB2YXIgbmVlZEFkZCA9IGl0ZW0ubGl0ZXJhbCAhPSBudWxsIHx8IGl0ZW0uY2hpbGRyZW4gIT0gbnVsbCAmJiBpdGVtLmNoaWxkcmVuICE9IHVuZGVmaW5lZDsKCiAgICAgICAgaWYgKCFuZWVkQWRkKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICB2YXIgZXhpc3RJdGVtOwoKICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG0ubGVuZ3RoOyBqKyspIHsKICAgICAgICAgIGlmIChtW2pdLmxheWVyTmFtZSA9PSBpdGVtLmxheWVyTmFtZSkgewogICAgICAgICAgICBleGlzdEl0ZW0gPSBtW2pdOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChleGlzdEl0ZW0gIT0gbnVsbCkgewogICAgICAgICAgYXJyID0gZXhpc3RJdGVtLnRyZWVEYXRhSXRlbTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYXJyID0gW107CiAgICAgICAgICBuZXdJdGVtID0ge307CiAgICAgICAgICBuZXdJdGVtLnRyZWVEYXRhSXRlbSA9IGFycjsKICAgICAgICAgIG5ld0l0ZW0ubGF5ZXJOYW1lID0gaXRlbS5sYXllck5hbWU7CiAgICAgICAgICBuZXdJdGVtLmZpbHRlcktleSA9IGl0ZW0uZmlsdGVyS2V5OwogICAgICAgIH0KICAgICAgfSAvL+mAieS4reeKtuaAgQoKCiAgICAgIHZhciBpZEluZGV4ID0gY2hlY2tlZEFycmF5LmZpbmRJbmRleChmdW5jdGlvbiAoaXRlbTIpIHsKICAgICAgICByZXR1cm4gaXRlbTIgPT0gaXRlbS5pZDsKICAgICAgfSk7CgogICAgICBpZiAoaWRJbmRleCAhPSAtMSkgewogICAgICAgIGlmIChuZXdJdGVtICE9IG51bGwpIHsKICAgICAgICAgIG0ucHVzaChuZXdJdGVtKTsKICAgICAgICB9CgogICAgICAgIGlmIChpdGVtLmxpdGVyYWwgIT0gbnVsbCkgewogICAgICAgICAgYXJyLnB1c2goaXRlbSk7CiAgICAgICAgfQoKICAgICAgICBpZiAoaXRlbS5jaGlsZHJlbiAhPSBudWxsICYmIGl0ZW0uY2hpbGRyZW4gIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBpdGVtLmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGkpIHsKICAgICAgICAgICAgX3RoaXM0LmFzc2VtYmxlTGF5ZXJJdGVtcyhpLCBhcnIsIG0sIGNoZWNrZWRBcnJheSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBpbml0V2ZzU3R5bGU6IGZ1bmN0aW9uIGluaXRXZnNTdHlsZShmZWF0dXJlLCBpdGVtKSB7CiAgICAgIHZhciBzdHlsZXMgPSBbXTsgLy8g6L+H5ruk5bGe5oCnCgogICAgICB2YXIgZmlsdGVyS2V5ID0gZmVhdHVyZS5nZXQoaXRlbS5maWx0ZXJLZXkpOwogICAgICB2YXIgbGluZUNvbG9yID0gZmVhdHVyZS5nZXQoJ2xpbmVfY29sb3InKTsKICAgICAgdmFyIGJvcmRlckNvbG9yID0gZmVhdHVyZS5nZXQoJ2JvcmRlcl9jb2wnKTsKICAgICAgdmFyIGZpbGxDb2xvciA9IGZlYXR1cmUuZ2V0KCdmaWxsX2NvbG9yJyk7CiAgICAgIHZhciB0cmVlRGF0YUl0ZW0gPSBpdGVtLnRyZWVEYXRhSXRlbTsKCiAgICAgIGlmICh0cmVlRGF0YUl0ZW0gPT0gbnVsbCB8fCB0cmVlRGF0YUl0ZW0gPT0gdW5kZWZpbmVkIHx8IHRyZWVEYXRhSXRlbS5sZW5ndGggPT0gMCkgewogICAgICAgIHJldHVybiB1bmRlZmluZWQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIGlzRXhpc3QgPSBmYWxzZTsKICAgICAgICA7CgogICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdHJlZURhdGFJdGVtLmxlbmd0aDsgaysrKSB7CiAgICAgICAgICB2YXIgaXRlbTIgPSB0cmVlRGF0YUl0ZW1ba107CiAgICAgICAgICB2YXIgZGFzaE9mZnNldCA9IGl0ZW0yLmRhc2hPZmZzZXQ7CiAgICAgICAgICB2YXIgZGFzaGFycmF5ID0gaXRlbTIuZGFzaGFycmF5OwoKICAgICAgICAgIGlmIChmaWx0ZXJLZXkgIT0gdHJlZURhdGFJdGVtW2tdLmxpdGVyYWwpIHsKICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICB9CgogICAgICAgICAgaXNFeGlzdCA9IHRydWU7CiAgICAgICAgICB2YXIgc3R5bGUgPSBuZXcgX3N0eWxlLlN0eWxlKCk7IC8v57q/5p2h6aKc6ImyCgogICAgICAgICAgdmFyIHN0cm9rZUNvbG9yID0gaXRlbTIuc3Ryb2tlQ29sb3I7CiAgICAgICAgICB2YXIgc3Ryb2tlV2lkdGggPSBpdGVtMi53aWR0aDsKICAgICAgICAgIHZhciBzdHJva2UgPSBudWxsOwoKICAgICAgICAgIGlmIChsaW5lQ29sb3IpIHsKICAgICAgICAgICAgc3Ryb2tlID0gbmV3IF9zdHlsZS5TdHJva2UoewogICAgICAgICAgICAgIGNvbG9yOiBsaW5lQ29sb3IKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGJvcmRlckNvbG9yKSB7CiAgICAgICAgICAgIHN0cm9rZSA9IG5ldyBfc3R5bGUuU3Ryb2tlKHsKICAgICAgICAgICAgICBjb2xvcjogYm9yZGVyQ29sb3IKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHN0cm9rZSA9PSBudWxsICYmIHN0cm9rZUNvbG9yICE9IG51bGwpIHsKICAgICAgICAgICAgc3Ryb2tlID0gbmV3IF9zdHlsZS5TdHJva2UoewogICAgICAgICAgICAgIGNvbG9yOiBzdHJva2VDb2xvcgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoc3Ryb2tlV2lkdGgpIHsKICAgICAgICAgICAgaWYgKHN0cm9rZSA9PSBudWxsKSB7CiAgICAgICAgICAgICAgc3Ryb2tlID0gbmV3IF9zdHlsZS5TdHJva2UoewogICAgICAgICAgICAgICAgd2lkdGg6IHN0cm9rZVdpZHRoCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgc3Ryb2tlLndpZHRoXyA9IHN0cm9rZVdpZHRoOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGRhc2hPZmZzZXQpIHsKICAgICAgICAgICAgc3Ryb2tlLmxpbmVEYXNoT2Zmc2V0XyA9IGRhc2hPZmZzZXQ7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGRhc2hhcnJheSkgewogICAgICAgICAgICBzdHJva2UubGluZURhc2hfID0gZGFzaGFycmF5OwogICAgICAgICAgfQoKICAgICAgICAgIHN0eWxlLnN0cm9rZV8gPSBzdHJva2U7IC8v5aGr5YWF6aKc6ImyCgogICAgICAgICAgaWYgKGZpbGxDb2xvcikgewogICAgICAgICAgICB2YXIgZmlsbCA9IG5ldyBfc3R5bGUuRmlsbCh7CiAgICAgICAgICAgICAgY29sb3I6IGZpbGxDb2xvcgogICAgICAgICAgICB9KTsKICAgICAgICAgICAgc3R5bGUuZmlsbF8gPSBmaWxsOwogICAgICAgICAgfQoKICAgICAgICAgIHN0eWxlcy5wdXNoKHN0eWxlKTsKICAgICAgICAgIHJldHVybiBzdHlsZXM7CiAgICAgICAgfQoKICAgICAgICBpZiAoIWlzRXhpc3QpIHsKICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgaGFuZGxlQ2hlY2tDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUNoZWNrQ2hhbmdlKGRhdGEsIGNoZWNrZWRJbmZvKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdGhpcy5jbGVhckhpZ2hsaWdodCgpOwogICAgICB0aGlzLnJlbW92ZVBvcHVwKCk7CiAgICAgIHZhciBoYWxmQ2hlY2tOb2RlID0gdGhpcy4kcmVmcy50cmVlLmdldEhhbGZDaGVja2VkTm9kZXMoKTsKICAgICAgdmFyIGhhbGZDaGVja0lkcyA9IFtdOwogICAgICBoYWxmQ2hlY2tOb2RlLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBoYWxmQ2hlY2tJZHMucHVzaChpdGVtLmlkKTsKICAgICAgfSk7IC8v6I635Y+W6YCJ5Lit5Lul5Y+K5Y2K6YCJ5Lit6IqC54K5CgogICAgICB2YXIgY2hlY2tlZEFycmF5ID0gdGhpcy4kcmVmcy50cmVlLmdldENoZWNrZWRLZXlzKGZhbHNlKTsKICAgICAgY2hlY2tlZEFycmF5ID0gY2hlY2tlZEFycmF5LmNvbmNhdChoYWxmQ2hlY2tJZHMpOwogICAgICB2YXIgY2hlY2tlZExheWVyQXJyYXkgPSB0aGlzLmdldExheWVyTWFwKGNoZWNrZWRBcnJheSk7CiAgICAgIHZhciBhbGxMYXllckFycmF5ID0gdGhpcy5sYXllckFycmF5OwogICAgICB2YXIgcGFyYW1zMSA9IHRoaXMubWFya1ZlY3RvckFycmF5LmZpbHRlcihmdW5jdGlvbiAoaikgewogICAgICAgIHJldHVybiBqLnZhbHVlc18uaWQgPT09ICdhMlBTTCc7CiAgICAgIH0pOwogICAgICB2YXIgcGFyYW1zMiA9IHRoaXMubWFya1ZlY3RvckFycmF5LmZpbHRlcihmdW5jdGlvbiAoaikgewogICAgICAgIHJldHVybiBqLnZhbHVlc18uaWQgPT09ICdhMlNYJzsKICAgICAgfSk7CiAgICAgIHZhciBwYXJhbXMzID0gdGhpcy5tYXJrVmVjdG9yQXJyYXkuZmlsdGVyKGZ1bmN0aW9uIChqKSB7CiAgICAgICAgcmV0dXJuIGoudmFsdWVzXy5pZCA9PT0gJ2EyRFMnOwogICAgICB9KTsKICAgICAgdmFyIHBhcmFtczQgPSB0aGlzLm1hcmtWZWN0b3JBcnJheS5maWx0ZXIoZnVuY3Rpb24gKGopIHsKICAgICAgICByZXR1cm4gai52YWx1ZXNfLmlkID09PSAnYTFHSic7CiAgICAgIH0pOwogICAgICBjb25zb2xlLmxvZyhwYXJhbXM0LCAnPz8nKTsKICAgICAgY29uc29sZS5sb2coY2hlY2tlZEFycmF5LCAnPz8/MjInKTsKCiAgICAgIGlmIChjaGVja2VkQXJyYXkuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0gPT09IDgzMTsKICAgICAgfSkgIT0gLTEpIHsKICAgICAgICBwYXJhbXMxLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIGl0ZW0uc2V0VmlzaWJsZSh0cnVlKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBwYXJhbXMxLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIGl0ZW0uc2V0VmlzaWJsZShmYWxzZSk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGlmIChjaGVja2VkQXJyYXkuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0gPT09IDgzNDsKICAgICAgfSkgIT0gLTEpIHsKICAgICAgICBwYXJhbXMyLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIGl0ZW0uc2V0VmlzaWJsZSh0cnVlKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBwYXJhbXMyLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIGl0ZW0uc2V0VmlzaWJsZShmYWxzZSk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGlmIChjaGVja2VkQXJyYXkuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0gPT09IDgzNTsKICAgICAgfSkgIT0gLTEpIHsKICAgICAgICBwYXJhbXMzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIGl0ZW0uc2V0VmlzaWJsZSh0cnVlKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBwYXJhbXMzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIGl0ZW0uc2V0VmlzaWJsZShmYWxzZSk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGlmIChjaGVja2VkQXJyYXkuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0gPT09IDgwOwogICAgICB9KSAhPSAtMSkgewogICAgICAgIHBhcmFtczQuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgaXRlbS5zZXRWaXNpYmxlKHRydWUpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHBhcmFtczQuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgaXRlbS5zZXRWaXNpYmxlKGZhbHNlKTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBhbGxMYXllckFycmF5Lmxlbmd0aDsgaisrKSB7CiAgICAgICAgdmFyIGl0ZW0gPSBhbGxMYXllckFycmF5W2pdOwogICAgICAgIHZhciBsYXllck5hbWUgPSBpdGVtLnZhbHVlc18ubmFtZTsKICAgICAgICB2YXIgZXhpc3QgPSBmYWxzZTsgLy/lpoLmnpzlhajpg6jmnKrpgInkuK0g6ZqQ6JePCgogICAgICAgIGlmIChjaGVja2VkTGF5ZXJBcnJheSA9PSBudWxsIHx8IGNoZWNrZWRMYXllckFycmF5Lmxlbmd0aCA9PSAwKSB7CiAgICAgICAgICBpdGVtLnNldFZpc2libGUoZmFsc2UpOwogICAgICAgICAgY29udGludWU7CiAgICAgICAgfQoKICAgICAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChrKSB7CiAgICAgICAgICB2YXIgY2hlY2tJdGVtID0gY2hlY2tlZExheWVyQXJyYXlba107CgogICAgICAgICAgaWYgKGxheWVyTmFtZSA9PSBjaGVja0l0ZW0ubGF5ZXJOYW1lKSB7CiAgICAgICAgICAgIGV4aXN0ID0gdHJ1ZTsKCiAgICAgICAgICAgIGlmIChjaGVja0l0ZW0udHJlZURhdGFJdGVtID09IG51bGwgfHwgY2hlY2tJdGVtLnRyZWVEYXRhSXRlbS5sZW5ndGggPT0gMCkgewogICAgICAgICAgICAgIGl0ZW0uc2V0VmlzaWJsZShmYWxzZSk7CiAgICAgICAgICAgICAgcmV0dXJuICJicmVhayI7CiAgICAgICAgICAgIH0gLy/mm7TmlrDmoLflvI8KCgogICAgICAgICAgICBpdGVtLnNldFZpc2libGUodHJ1ZSk7CiAgICAgICAgICAgIGl0ZW0uc2V0U3R5bGUoZnVuY3Rpb24gKGZlYXR1cmUsIHNvbHV0aW9uKSB7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNS5pbml0V2ZzU3R5bGUoZmVhdHVyZSwgY2hlY2tJdGVtKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBjaGVja2VkTGF5ZXJBcnJheS5sZW5ndGg7IGsrKykgewogICAgICAgICAgdmFyIF9yZXQgPSBfbG9vcChrKTsKCiAgICAgICAgICBpZiAoX3JldCA9PT0gImJyZWFrIikgYnJlYWs7CiAgICAgICAgfQoKICAgICAgICBpZiAoIWV4aXN0KSB7CiAgICAgICAgICBpdGVtLnNldFZpc2libGUoZmFsc2UpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIC8vIOWIneWni+WMluWcsOWbvgogICAgaW5pdExheWVyVG9NYXBXZnM6IGZ1bmN0aW9uIGluaXRMYXllclRvTWFwV2ZzKF90aGlzKSB7CiAgICAgIHZhciByb2FkTGluZXNXbXMgPSBuZXcgX3NvdXJjZS5UaWxlV01TKHsKICAgICAgICB1cmw6IHByb2Nlc3MuZW52LlZVRV9BUFBfR0lTX0JBU0VfVVJMICsgJy93bXMnLAogICAgICAgIHByb2plY3Rpb246ICdFUFNHOjM4NTcnLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgJ0xBWUVSUyc6ICdUZXN0OlJvYWRfbGluZXMnLAogICAgICAgICAgJ1ZFUlNJT04nOiAnMS4xLjAnCiAgICAgICAgfSwKICAgICAgICBzZXJ2ZXJUeXBlOiAnZ2Vvc2VydmVyJwogICAgICB9KTsgLy/oh6rlrprkuYnlm77lsYIxCgogICAgICB2YXIgcm9hZExpbmVMYXllciA9IG5ldyBfVGlsZS5kZWZhdWx0KHsKICAgICAgICBzb3VyY2U6IHJvYWRMaW5lc1dtcywKICAgICAgICB6SW5kZXg6IDMKICAgICAgfSk7CiAgICAgIHZhciBtYXBDb250YWluZXIgPSBfdGhpcy4kcmVmcy5tYXA7CiAgICAgIHd4TWFwTGF5ZXIuc2V0VmlzaWJsZShmYWxzZSk7CiAgICAgIHZhciBsYXllcnMgPSBbZ2FvZGVNYXBMYXllciwgd3hNYXBMYXllciwgcm9hZExpbmVMYXllcl07IC8v5bCG5Zu+5bGC5Yqg5YWlTWFwCgogICAgICB2YXIgbWFwID0gbmV3IF9NYXAuZGVmYXVsdCh7CiAgICAgICAgbGF5ZXJzOiBsYXllcnMsCiAgICAgICAgdGFyZ2V0OiBtYXBDb250YWluZXIsCiAgICAgICAgdmlldzogdmlldwogICAgICB9KTsgLy8g5re75Yqg6byg5qCH54K55Ye75LqL5Lu2CgogICAgICBtYXAub24oJ2NsaWNrJywgX3RoaXMubWFwQ2xpY2spOwogICAgICBtYXAub24oJ21vdmVlbmQnLCB0aGlzLm1hcE1vdmVlbmQpOyAvLyDkv53lrZjlnLDlm74KCiAgICAgIF90aGlzLm1hcERhdGEgPSBtYXA7CiAgICB9LAogICAgYWRkVmVjdG9yTGF5ZXJXZnM6IGZ1bmN0aW9uIGFkZFZlY3RvckxheWVyV2ZzKF90aGlzKSB7CiAgICAgIHZhciBjaGVja2VkQXJyYXkgPSB0aGlzLiRyZWZzLnRyZWUuZ2V0Q2hlY2tlZEtleXMoZmFsc2UpOwogICAgICB2YXIgY2hlY2tlZExheWVyTWFwID0gdGhpcy5nZXRMYXllck1hcChjaGVja2VkQXJyYXkpOwogICAgICBjaGVja2VkTGF5ZXJNYXAuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHZhciB1cmwgPSBwcm9jZXNzLmVudi5WVUVfQVBQX0dJU19CQVNFX1VSTCArICcvVGVzdC9vd3M/c2VydmljZT1XRlMmdmVyc2lvbj0xLjAuMCZyZXF1ZXN0PUdldEZlYXR1cmUmdHlwZU5hbWU9JyArIGVuY29kZVVSSShpdGVtLmxheWVyTmFtZSkgKyAnJm1heEZlYXR1cmVzPTUwMDAwMDAwMCZvdXRwdXRGb3JtYXQ9YXBwbGljYXRpb24lMkZqc29uJzsKCiAgICAgICAgX2F4aW9zLmRlZmF1bHQuZ2V0KHVybCwgbnVsbCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICB2YXIgZmVhdHVyZXNEYXRhID0gcmVzLmRhdGE7CiAgICAgICAgICB2YXIgdmVjdG9yU291cmNlVG1wOwoKICAgICAgICAgIGlmIChpdGVtLmxheWVyTmFtZSA9PSAnVGVzdDp4enh3JyB8fCBpdGVtLmxheWVyTmFtZSA9PSAnVGVzdDpqcXh3JyB8fCBpdGVtLmxheWVyTmFtZSA9PSAnVGVzdDp5cXh3JykgewogICAgICAgICAgICB2ZWN0b3JTb3VyY2VUbXAgPSBuZXcgX1ZlY3Rvci5kZWZhdWx0KHsKICAgICAgICAgICAgICBmZWF0dXJlczogbmV3IF9HZW9KU09OLmRlZmF1bHQoewogICAgICAgICAgICAgICAgZmVhdHVyZVByb2plY3Rpb246ICdFUFNHOjM4NTcnLAogICAgICAgICAgICAgICAgZGF0YVByb2plY3Rpb246ICdFUFNHOjQzMjYnCiAgICAgICAgICAgICAgfSkucmVhZEZlYXR1cmVzKGZlYXR1cmVzRGF0YSkKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB2ZWN0b3JTb3VyY2VUbXAgPSBuZXcgX1ZlY3Rvci5kZWZhdWx0KHsKICAgICAgICAgICAgICBmZWF0dXJlczogbmV3IF9HZW9KU09OLmRlZmF1bHQoewogICAgICAgICAgICAgICAgZmVhdHVyZVByb2plY3Rpb246ICdFUFNHOjM4NTcnLAogICAgICAgICAgICAgICAgZGF0YVByb2plY3Rpb246ICdFUFNHOjQ1NDgnCiAgICAgICAgICAgICAgfSkucmVhZEZlYXR1cmVzKGZlYXR1cmVzRGF0YSkKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIHZlY3RvckxheWVyVG1wID0gbmV3IF9WZWN0b3IyLmRlZmF1bHQoewogICAgICAgICAgICBzb3VyY2U6IHZlY3RvclNvdXJjZVRtcCwKICAgICAgICAgICAgbmFtZTogaXRlbS5sYXllck5hbWUsCiAgICAgICAgICAgIHN0eWxlOiBmdW5jdGlvbiBzdHlsZShmZWF0dXJlLCBzb2x1dGlvbikgewogICAgICAgICAgICAgIHJldHVybiBfdGhpcy5pbml0V2ZzU3R5bGUoZmVhdHVyZSwgaXRlbSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwoKICAgICAgICAgIF90aGlzLm1hcERhdGEuYWRkTGF5ZXIodmVjdG9yTGF5ZXJUbXApOwoKICAgICAgICAgIF90aGlzLmxheWVyQXJyYXkucHVzaCh2ZWN0b3JMYXllclRtcCk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOW8ueWHuuahhgogICAgYWRkUG9wdXA6IGZ1bmN0aW9uIGFkZFBvcHVwKGNvb3JkaW5hdGUsIGZlYXR1cmUpIHsKICAgICAgdGhpcy5yZW1vdmVQb3B1cCgpOwogICAgICB2YXIgZmVhdHVyZVZhbHVlcyA9IGZlYXR1cmUudmFsdWVzXzsKICAgICAgdmFyIHByb2plY3ROYW1lID0gZmVhdHVyZVZhbHVlcy5sYXllciA9PSBudWxsID8gJycgOiBmZWF0dXJlVmFsdWVzLmxheWVyOwogICAgICB2YXIgcHJvamVjdERlc2MgPSBmZWF0dXJlVmFsdWVzLumhueebruamgiA9PSBudWxsIHx8IGZlYXR1cmVWYWx1ZXMu6aG555uu5qaCID09IHVuZGVmaW5lZCA/ICcnIDogZmVhdHVyZVZhbHVlcy7pobnnm67mpoI7CiAgICAgIHZhciBzdGFydCA9IGZlYXR1cmVWYWx1ZXMu6LW354K5ID09IG51bGwgPyAnJyA6IGZlYXR1cmVWYWx1ZXMu6LW354K5OwogICAgICB2YXIgZW5kID0gZmVhdHVyZVZhbHVlcy7nu4jngrkgPT0gbnVsbCA/ICIiIDogZmVhdHVyZVZhbHVlcy7nu4jngrk7CiAgICAgIHZhciBsZW5ndGggPSBmZWF0dXJlVmFsdWVzLumVv+W6piA9PSBudWxsID8gIiIgOiBmZWF0dXJlVmFsdWVzLumVv+W6pjsKICAgICAgdmFyIHp0eiA9IGZlYXR1cmVWYWx1ZXMu5oC75oqV6LWEID09IG51bGwgPyAiIiA6IGZlYXR1cmVWYWx1ZXMu5oC75oqV6LWEOwogICAgICB2YXIga2NzamZmaCA9IGZlYXR1cmVWYWx1ZXMu5YuY5a+fXzEgPT0gbnVsbCA/ICIiIDogZmVhdHVyZVZhbHVlcy7li5jlr59fMTsKICAgICAgdmFyIHN0YXR1cyA9IGZlYXR1cmVWYWx1ZXMu55uu5YmN5belID09IG51bGwgPyAiIiA6IGZlYXR1cmVWYWx1ZXMu55uu5YmN5belOwogICAgICB2YXIgYnogPSBmZWF0dXJlVmFsdWVzLuWkh+azqCA9PSBudWxsID8gIiIgOiBmZWF0dXJlVmFsdWVzLuWkh+azqDsgLy8g6I635Y+W5by55Ye65bGCRE9NCgogICAgICB2YXIgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BvcHVwJyk7CiAgICAgIHZhciBjb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BvcHVwLWNvbnRlbnQnKTsKCiAgICAgIGlmICh0aGlzLm92ZXJsYXkpIHt9IGVsc2UgewogICAgICAgIGlmIChwcm9qZWN0RGVzYyA9PSAnJykgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gLy8g5Yib5bu6T3ZlcmxheeW8ueWHuuWxgue7keWumkRPTQoKCiAgICAgICAgdGhpcy5vdmVybGF5ID0gbmV3IF9PdmVybGF5LmRlZmF1bHQoewogICAgICAgICAgZWxlbWVudDogY29udGFpbmVyLAogICAgICAgICAgYXV0b1BhbjogewogICAgICAgICAgICBhbmltYXRpb246IHsKICAgICAgICAgICAgICBkdXJhdGlvbjogMjUwCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsgLy8g5re75Yqg5YiwbWFwCgogICAgICAgIHRoaXMubWFwRGF0YS5hZGRPdmVybGF5KHRoaXMub3ZlcmxheSk7CiAgICAgIH0KCiAgICAgIGNvbnRlbnQuaW5uZXJIVE1MID0gIlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9J2NvbG9yOiMxMjE5MjQ7Zm9udC13ZWlnaHQ6IGJvbGQ7d2lkdGg6MTAwJTt6LWluZGV4OjQ7aGVpZ2h0OjQycHg7cGFkZGluZzo2cHg7Zm9udC1zaXplOiAxNXB4Jz4iICsgcHJvamVjdE5hbWUgKyAiPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0nZm9udC1zaXplOiAxMHB4O3dpZHRoOjEwMCU7bGluZS1oZWlnaHQ6MzBweDtoZWlnaHQ6MzE1cHg7b3ZlcmZsb3cteTogYXV0bzsnPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0nbWFyZ2luLXRvcDoxMHB4O2xpbmUtaGVpZ2h0OiAyNHB4Oyc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPVwiY29sb3I6IzY0NjU2Njt3aWR0aDogOTBweDtcIj5cdTk4NzlcdTc2RUVcdTY5ODJcdTUxQjVcdUZGMUE8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJ0ZXh0LWluZGVudDogMnJlbTtmb250LXNpemU6MTRweDtcIj4iICsgcHJvamVjdERlc2MgKyAiPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ncG9wdGFibGUtdGgnIHN0eWxlPVwiY29sb3I6IzY0NjU2NjtcIj5cdThENzdcdTcwQjlcdUZGMUE8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9XCJ0ZXh0LWFsaWduOiByaWdodDtmb250LXNpemU6MTRweFwiPiIgKyBzdGFydCArICI8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9J3BvcHRhYmxlLXRoJyBzdHlsZT1cImNvbG9yOiM2NDY1NjZcIj5cdTc2RUVcdTUyNERcdTVERTVcdTRGNUNcdThGREJcdTVDNTVcdUZGMUE8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT1cInRleHQtYWxpZ246IHJpZ2h0O2ZvbnQtc2l6ZToxNHB4XCI+IiArIHN0YXR1cyArICI8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ncG9wdGFibGUtdGgnIHN0eWxlPVwiY29sb3I6IzY0NjU2NlwiPlx1N0VDOFx1NzBCOVx1RkYxQTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT1cInRleHQtYWxpZ246IHJpZ2h0O2ZvbnQtc2l6ZToxNHB4XCI+IiArIGVuZCArICI8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSdwb3B0YWJsZS10aCcgc3R5bGU9XCJjb2xvcjojNjQ2NTY2XCI+XHU5NTdGXHU1RUE2L2ttXHVGRjFBPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPVwidGV4dC1hbGlnbjogcmlnaHQ7Zm9udC1zaXplOjE0cHhcIj4iICsgbGVuZ3RoICsgIjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSdwb3B0YWJsZS10aCcgc3R5bGU9XCJjb2xvcjojNjQ2NTY2XCI+XHU2MDNCXHU2Mjk1XHU4RDQ0L1x1NEVCRlx1NTE0M1x1RkYxQTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT1cInRleHQtYWxpZ246IHJpZ2h0O2ZvbnQtc2l6ZToxNHB4XCI+IiArIHp0eiArICI8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ncG9wdGFibGUtdGgnIHN0eWxlPVwiY29sb3I6IzY0NjU2NlwiPlx1NTJEOFx1NUJERlx1OEJCRVx1OEJBMVx1OEQzOVx1NTkwRFx1NjgzOFx1RkYxQTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9XCJ0ZXh0LWFsaWduOiByaWdodDtmb250LXNpemU6MTRweFwiPiIgKyBrY3NqZmZoICsgIjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSdsaW5lLWhlaWdodDogMjRweDs+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSdwb3B0YWJsZS10aCcgc3R5bGU9XCJjb2xvcjojNjQ2NTY2XCI+XHU1OTA3XHU2Q0U4XHVGRjFBPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT1cInRleHQtaW5kZW50OiAycmVtO2ZvbnQtc2l6ZToxNHB4O1wiPiIgKyBieiArICI8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAiOyAvLyDorr7nva7lvLnlh7rlsYLkvY3nva7ljbPlj6/lh7rnjrAKCiAgICAgIHRoaXMub3ZlcmxheS5zZXRQb3NpdGlvbihjb29yZGluYXRlKTsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BvcHVwJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICB9LAogICAgLy8g5riF6Zmk5by55Ye65qGGCiAgICByZW1vdmVQb3B1cDogZnVuY3Rpb24gcmVtb3ZlUG9wdXAoKSB7CiAgICAgIGlmICh0aGlzLm92ZXJsYXkpIHsKICAgICAgICAvLyDorr7nva7kvY3nva51bmRlZmluZWTlj6/ovr7liLDpmpDol4/muIXpmaTlvLnlh7rmoYYKICAgICAgICB0aGlzLm92ZXJsYXkuc2V0UG9zaXRpb24odW5kZWZpbmVkKTsKICAgICAgfQogICAgfSwKICAgIHNob3dTdW1tcnlQb3A6IGZ1bmN0aW9uIHNob3dTdW1tcnlQb3AoKSB7CiAgICAgIHNob3dTdW1tcnlGbGFnID0gdHJ1ZTsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BvcC1zdW1tcnnigJRjb2xsYXBzZScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwb3Atc3VtbXJ5JykuY2xhc3NMaXN0LnJlbW92ZSgncG9wc3VtbXJ5LWRvd24tYW5pbWF0aW9uJyk7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwb3Atc3VtbXJ5JykuY2xhc3NMaXN0LnJlbW92ZSgncG9wc3VtbXJ5LXVwLWFuaW1hdGlvbicpOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9wLXN1bW1yeScpLnN0eWxlLmJvdHRvbSA9ICctMjUwcHgnOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9wLXN1bW1yeScpLmNsYXNzTGlzdC5hZGQoJ3BvcHN1bW1yeS11cC1hbmltYXRpb24nKTsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZGVTdW1tcnlMaW5rJykuc3R5bGUucmlnaHQgPSAnNjBweCc7CiAgICB9LAogICAgaGlkZVN1bW1yeVBvcDogZnVuY3Rpb24gaGlkZVN1bW1yeVBvcCgpIHsKICAgICAgc2hvd1N1bW1yeUZsYWcgPSBmYWxzZTsgLy/ph43nva7vvIzlkKbliJnliqjnlLvmlYjmnpzlj6rop6blj5HkuIDmrKEKCiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwb3Atc3VtbXJ5Jykuc3R5bGUuYm90dG9tID0gJzBweCc7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwb3Atc3VtbXJ5JykuY2xhc3NMaXN0LnJlbW92ZSgncG9wc3VtbXJ5LWRvd24tYW5pbWF0aW9uJyk7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwb3Atc3VtbXJ5JykuY2xhc3NMaXN0LnJlbW92ZSgncG9wc3VtbXJ5LXVwLWFuaW1hdGlvbicpOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9wLXN1bW1yeScpLmNsYXNzTGlzdC5hZGQoJ3BvcHN1bW1yeS1kb3duLWFuaW1hdGlvbicpOwogICAgfSwKICAgIC8v5Yig6Zmk6auY5Lqu5Zu+5bGCCiAgICBjbGVhckhpZ2hsaWdodDogZnVuY3Rpb24gY2xlYXJIaWdobGlnaHQoKSB7CiAgICAgIHZhciBhcnIgPSB0aGlzLm1hcERhdGEuZ2V0TGF5ZXJzKCkuYXJyYXlfOwogICAgICB2YXIgaGlnaGxpZ2h0TGF5ZXIgPSB7fTsKICAgICAgYXJyLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBpZiAoaXRlbS5nZXQoImlkIikgPT0gImhpZ2hsaWdodExheWVyIikgewogICAgICAgICAgaGlnaGxpZ2h0TGF5ZXIgPSBpdGVtOwogICAgICAgIH0KICAgICAgfSk7CgogICAgICBpZiAoaGlnaGxpZ2h0TGF5ZXIgJiYgaGlnaGxpZ2h0TGF5ZXIuY2xhc3NOYW1lXykgewogICAgICAgIHRoaXMubWFwRGF0YS5yZW1vdmVMYXllcihoaWdobGlnaHRMYXllcik7CiAgICAgIH0KICAgIH0sCiAgICBhZGRIaWdoTGlnaHRTdHlsZTogZnVuY3Rpb24gYWRkSGlnaExpZ2h0U3R5bGUoY2xpY2tGZWF0dXJlLCB0aGlzT2JqKSB7CiAgICAgIHZhciBmZWF0dXJlT2JqID0gW107CiAgICAgIGZlYXR1cmVPYmoucHVzaChjbGlja0ZlYXR1cmUpOwogICAgICB0aGlzLmNsZWFySGlnaGxpZ2h0KCk7CiAgICAgIHZhciBoaWdoTGlnaHRTdHlsZSA9IG5ldyBfc3R5bGUuU3R5bGUoewogICAgICAgIGZpbGw6IG5ldyBfc3R5bGUuRmlsbCh7CiAgICAgICAgICBjb2xvcjogIiNmZmZmMDAiCiAgICAgICAgfSksCiAgICAgICAgc3Ryb2tlOiBuZXcgX3N0eWxlLlN0cm9rZSh7CiAgICAgICAgICBjb2xvcjogIiNmZmZmMDAiLAogICAgICAgICAgd2lkdGg6IDMuNQogICAgICAgIH0pCiAgICAgIH0pOwogICAgICB0aGlzT2JqLmhpZ2hMaWdodExheWVyID0gbmV3IF9WZWN0b3IyLmRlZmF1bHQoewogICAgICAgIG5hbWU6ICJkayIsCiAgICAgICAgc291cmNlOiBuZXcgX1ZlY3Rvci5kZWZhdWx0KHsKICAgICAgICAgIGZlYXR1cmVzOiBmZWF0dXJlT2JqCiAgICAgICAgfSksCiAgICAgICAgc3R5bGU6IGZ1bmN0aW9uIHN0eWxlKGZlYXR1cmUsIHNvbHV0aW9uKSB7CiAgICAgICAgICByZXR1cm4gaGlnaExpZ2h0U3R5bGU7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpc09iai5oaWdoTGlnaHRMYXllci5zZXQoImlkIiwgImhpZ2hsaWdodExheWVyIik7CiAgICAgIHRoaXMubWFwRGF0YS5hZGRMYXllcih0aGlzT2JqLmhpZ2hMaWdodExheWVyKTsKICAgIH0sCiAgICBmZWNoRmVhdHVyZUluZm86IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9mZWNoRmVhdHVyZUluZm8gPSAoMCwgX2FzeW5jVG9HZW5lcmF0b3IyLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovKDAsIF9yZWdlbmVyYXRvclJ1bnRpbWUyLmRlZmF1bHQpKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKHVybCwgdGhpc09iaiwgZXZ0LCBjbGlja0xheWVyKSB7CiAgICAgICAgcmV0dXJuICgwLCBfcmVnZW5lcmF0b3JSdW50aW1lMi5kZWZhdWx0KSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF9heGlvcy5kZWZhdWx0LmdldCh1cmwsIG51bGwpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICB2YXIgb2JqRGF0YSA9IHJlcy5kYXRhOwoKICAgICAgICAgICAgICAgICAgaWYgKG9iakRhdGEgJiYgb2JqRGF0YS5mZWF0dXJlc1swXSkgewogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzT2JqLnBvcERldGFpbEZsYWcgPT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgdGhpc09iai5wb3BEZXRhaWxGbGFnID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB0aGlzT2JqLmFkZFBvcHVwKGV2dC5jb29yZGluYXRlLCBvYmpEYXRhLmZlYXR1cmVzWzBdKTsgLy/orr7nva7pq5jkuq7lm77lsYIKCiAgICAgICAgICAgICAgICAgICAgdGhpc09iai5hZGRIaWdoTGlnaHRTdHlsZShvYmpEYXRhLmZlYXR1cmVzWzBdLCB0aGlzT2JqLCBjbGlja0xheWVyKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBpZiAodGhpc09iai5wb3BEZXRhaWxGbGFnID09IGZhbHNlKSB7CiAgICAgICAgICAgICAgICAgICAgICB0aGlzT2JqLnJlbW92ZVBvcHVwKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDU7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihfY29udGV4dC50MCk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMCwgNV1dKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZmVjaEZlYXR1cmVJbmZvKF94LCBfeDIsIF94MywgX3g0KSB7CiAgICAgICAgcmV0dXJuIF9mZWNoRmVhdHVyZUluZm8uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGZlY2hGZWF0dXJlSW5mbzsKICAgIH0oKSwKICAgIC8v5Y2r5pif5Zyw5Zu+5YiH5o2iCiAgICAvLyBzd2l0Y2hDaGFuZ2UgKCkgewogICAgLy8gICBsZXQgbGF5ZXJUeXBlU2VsZWN0ID0gdGhpcy52YWx1ZTE7CiAgICAvLyAgIC8v5Y2r5pif5Zyw5Zu+CiAgICAvLyAgIGlmIChsYXllclR5cGVTZWxlY3QpIHsKICAgIC8vICAgICBpZiAodGhpcy53eE1hcExheWVyID09IG51bGwpIHsKICAgIC8vICAgICAgIHRoaXMud3hNYXBMYXllciA9IG5ldyBUaWxlTGF5ZXIoewogICAgLy8gICAgICAgICBzb3VyY2U6IG5ldyBYWVooewogICAgLy8gICAgICAgICAgIHpJbmRleDogMCwKICAgIC8vICAgICAgICAgICBjcm9zc09yaWdpbjogImFub255bW91cyIsCiAgICAvLyAgICAgICAgICAgdXJsOiAnaHR0cDovL3QwLnRpYW5kaXR1Lmdvdi5jbi9pbWdfdy93bXRzP3RrPTEyOTM2NDE2ODU4MGU3ZjBlM2ZmNWJkNzU5ZDQxYTc1JlNFUlZJQ0U9V01UUyZSRVFVRVNUPUdldFRpbGUmVkVSU0lPTj0xLjAuMCZMQVlFUj1pbWcmU1RZTEU9ZGVmYXVsdCZUSUxFTUFUUklYU0VUPXcmVElMRU1BVFJJWD17en0mVElMRVJPVz17eX0mVElMRUNPTD17eH0mRk9STUFUPXRpbGVzJwogICAgLy8gICAgICAgICB9KQogICAgLy8gICAgICAgfSk7CiAgICAvLyAgICAgICB0aGlzLm1hcERhdGEuYWRkTGF5ZXIodGhpcy53eE1hcExheWVyKTsKICAgIC8vICAgICB9IGVsc2UgewogICAgLy8gICAgICAgdGhpcy53eE1hcExheWVyLnNldFZpc2libGUodHJ1ZSkKICAgIC8vICAgICAgIHRoaXMud3hNYXBMYXllci5zZXRaSW5kZXgoMSk7CiAgICAvLyAgICAgICBnYW9kZU1hcExheWVyLnNldFZpc2libGUodHJ1ZSkKICAgIC8vICAgICB9CiAgICAvLyAgIH0gZWxzZSB7CiAgICAvLyAgICAgdGhpcy53eE1hcExheWVyLnNldFZpc2libGUoZmFsc2UpCiAgICAvLyAgICAgZ2FvZGVNYXBMYXllci5zZXRWaXNpYmxlKHRydWUpCiAgICAvLyAgICAgZ2FvZGVNYXBMYXllci5zZXRaSW5kZXgoMCk7CiAgICAvLyAgIH0KICAgIC8vIH0sCiAgICAvL+WNq+aYn+WcsOWbvuWIh+aNogogICAgc3dpdGNoQ2hhbmdlOiBmdW5jdGlvbiBzd2l0Y2hDaGFuZ2UoKSB7CiAgICAgIHZhciBsYXllclR5cGVTZWxlY3QgPSB0aGlzLnZhbHVlMTsKCiAgICAgIGlmIChsYXllclR5cGVTZWxlY3QpIHsKICAgICAgICBnYW9kZU1hcExheWVyLnNldFZpc2libGUoZmFsc2UpOwogICAgICAgIHd4TWFwTGF5ZXIuc2V0VmlzaWJsZSh0cnVlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBnYW9kZU1hcExheWVyLnNldFZpc2libGUodHJ1ZSk7CiAgICAgICAgd3hNYXBMYXllci5zZXRWaXNpYmxlKGZhbHNlKTsKICAgICAgfQogICAgfSwKICAgIC8v5Zyw5Zu+54K55Ye75LqL5Lu2CiAgICAvLyBtYXBDbGljayAoZXZ0KSB7CiAgICAvLyAgIHRoaXMucmVtb3ZlUG9wdXAoKTsKICAgIC8vICAgdGhpcy5wb3BEZXRhaWxGbGFnID0gZmFsc2U7CiAgICAvLyAgIGxldCB0aGlzT2JqID0gdGhpczsKICAgIC8vICAgdmFyIHZpZXdSZXNvbHV0aW9uID0gdmlldy5nZXRSZXNvbHV0aW9uKCk7CiAgICAvLyAgIGZvciAobGV0IGsgPSAwOyBrIDwgdGhpcy52ZWN0b3JBcnJheS5sZW5ndGg7IGsrKykgewogICAgLy8gICAgIGxldCBpdGVtID0gdGhpcy52ZWN0b3JBcnJheVtrXTsKICAgIC8vICAgICBsZXQgdmVjdG9yeVRlbXAgPSBpdGVtLnZlY3RvckxheWVyOwogICAgLy8gICAgIGxldCB2aXNpYmxlID0gdmVjdG9yeVRlbXAudmFsdWVzXy52aXNpYmxlOwogICAgLy8gICAgIC8v5rC05Z+f5Zu+5bGC5LiN5bGV56S66K+m5oOFCiAgICAvLyAgICAgaWYgKHRoaXMucG9wRGV0YWlsRmxhZyA9PSB0cnVlIHx8IGl0ZW0uaWQgPT0gNSB8fCAhdmlzaWJsZSkgewogICAgLy8gICAgICAgY29udGludWU7CiAgICAvLyAgICAgfQogICAgLy8gICAgIHZhciBmZWF0dXJlVXJsID0gdmVjdG9yeVRlbXAuZ2V0U291cmNlKCkuZ2V0RmVhdHVyZUluZm9VcmwoCiAgICAvLyAgICAgICBldnRbJ2Nvb3JkaW5hdGUnXSwKICAgIC8vICAgICAgIHZpZXdSZXNvbHV0aW9uLAogICAgLy8gICAgICAgJ0VQU0c6Mzg1NycsCiAgICAvLyAgICAgICB7ICdJTkZPX0ZPUk1BVCc6ICdhcHBsaWNhdGlvbi9qc29uJyB9CiAgICAvLyAgICAgKTsKICAgIC8vICAgICBpZiAoZmVhdHVyZVVybCkgewogICAgLy8gICAgICAgdGhpcy5mZWNoRmVhdHVyZUluZm8oZmVhdHVyZVVybCwgdGhpc09iaiwgZXZ0LCB2ZWN0b3J5VGVtcCk7CiAgICAvLyAgICAgfSBlbHNlIHsKICAgIC8vICAgICAgIHRoaXMucmVtb3ZlUG9wdXAoKTsKICAgIC8vICAgICB9CiAgICAvLyAgIH0KICAgIC8vIH0sCiAgICBjcmVhdGVNYXJrRmVhdHVyZTogZnVuY3Rpb24gY3JlYXRlTWFya0ZlYXR1cmUoZmVhdHVyZVBhcmFtKSB7CiAgICAgIC8vIOWIneWni+WMluagh+etvuimgee0oAogICAgICB2YXIgY29yZGluYXRlID0gKDAsIF9wcm9qLnRyYW5zZm9ybSkoZmVhdHVyZVBhcmFtLmNvb3JkaW5hdGVzLCAiRVBTRzo0NTQ4IiwgIkVQU0c6Mzg1NyIpOwogICAgICB2YXIgZmVhdHVyZSA9IG5ldyBfRmVhdHVyZS5kZWZhdWx0KHsKICAgICAgICBnZW9tZXRyeTogbmV3IF9Qb2ludC5kZWZhdWx0KGNvcmRpbmF0ZSksCiAgICAgICAgaW1nOiBmZWF0dXJlUGFyYW0uaW1nLAogICAgICAgIGltYWdlVHlwZTogZmVhdHVyZVBhcmFtLnR5cGUKICAgICAgfSk7IC8vIGZlYXR1cmUuc2V0SWQoZmVhdHVyZVBhcmFtLmlkKQoKICAgICAgZmVhdHVyZS5zZXRTdHlsZSh0aGlzLmNyZWF0ZU1hcmtTdHlsZShmZWF0dXJlKSk7CiAgICAgIHZhciBzb3VyY2UgPSBuZXcgX1ZlY3Rvci5kZWZhdWx0KHt9KTsKICAgICAgc291cmNlLmFkZEZlYXR1cmUoZmVhdHVyZSk7CiAgICAgIHZhciBsYXllciA9IG5ldyBfVmVjdG9yMi5kZWZhdWx0KHsKICAgICAgICBzb3VyY2U6IHNvdXJjZQogICAgICB9KTsKICAgICAgbGF5ZXIuc2V0KCJpZCIsIGZlYXR1cmVQYXJhbS50eXBlKTsKICAgICAgdGhpcy5tYXJrVmVjdG9yQXJyYXkucHVzaChsYXllcik7CiAgICAgIHRoaXMubWFwRGF0YS5hZGRMYXllcihsYXllcik7CiAgICB9LAogICAgY3JlYXRlTWFya1N0eWxlOiBmdW5jdGlvbiBjcmVhdGVNYXJrU3R5bGUoZmVhdHVyZSkgewogICAgICAvL+i/lOWbnuS4gOS4quagt+W8jwogICAgICByZXR1cm4gbmV3IF9TdHlsZS5kZWZhdWx0KHsKICAgICAgICAvL+Wbvuagh+agt+W8jwogICAgICAgIGltYWdlOiBuZXcgX0ljb24uZGVmYXVsdCh7CiAgICAgICAgICBhbmNob3I6IFsxMCwgMThdLAogICAgICAgICAgc2NhbGU6IDAuNCwKICAgICAgICAgIGFuY2hvck9yaWdpbjogJ3RvcC1yaWdodCcsCiAgICAgICAgICBhbmNob3JYVW5pdHM6ICdwaXhlbHMnLAogICAgICAgICAgYW5jaG9yWVVuaXRzOiAncGl4ZWxzJywKICAgICAgICAgIG9mZnNldE9yaWdpbjogJ2JvdHRvbS1sZWZ0JywKICAgICAgICAgIG9wYWNpdHk6IDAuOSwKICAgICAgICAgIHNyYzogZmVhdHVyZS5nZXQoJ2ltZycpCiAgICAgICAgfSksCiAgICAgICAgLy8g6K6+572u5bGC57qnCiAgICAgICAgekluZGV4OiAxOTk5OTk5OTk5OTk5OTk5OTk5OTk5OTkKICAgICAgfSk7CiAgICB9LAogICAgYWRkUm9hZE1hcms6IGZ1bmN0aW9uIGFkZFJvYWRNYXJrKHZpZXdPYmopIHsKICAgICAgdGhpcy5pbWFnZXNBcnIuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHZpZXdPYmouY3JlYXRlTWFya0ZlYXR1cmUoaXRlbSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOm8oOagh+eCueWHu+WcsOWbvuS6i+S7tgogICAgbWFwQ2xpY2s6IGZ1bmN0aW9uIG1hcENsaWNrKGV2dCkgewogICAgICB2YXIgcGl4ZWwgPSB0aGlzLm1hcERhdGEuZ2V0RXZlbnRQaXhlbChldnQub3JpZ2luYWxFdmVudCk7CiAgICAgIHZhciBmZWF0dXJlID0gdGhpcy5tYXBEYXRhLmZvckVhY2hGZWF0dXJlQXRQaXhlbChwaXhlbCwgZnVuY3Rpb24gKGZlYXR1cmUsIGxheWVyKSB7CiAgICAgICAgcmV0dXJuIGZlYXR1cmU7CiAgICAgIH0pOwoKICAgICAgaWYgKGZlYXR1cmUpIHsKICAgICAgICAvL+aNleaNieWIsOimgee0oOWQju+8jOW8ueahhgogICAgICAgIHZhciBjb29yZGluYXRlID0gZXZ0LmNvb3JkaW5hdGU7CiAgICAgICAgdGhpcy5hZGRQb3B1cChjb29yZGluYXRlLCBmZWF0dXJlKTsKICAgICAgICB0aGlzLmFkZEhpZ2hMaWdodFN0eWxlKGZlYXR1cmUsIHRoaXMpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucmVtb3ZlUG9wdXAoKTsKICAgICAgfQogICAgfSwKICAgIG1hcE1vdmVlbmQ6IGZ1bmN0aW9uIG1hcE1vdmVlbmQoZXZ0KSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgdmFyIHpvb20gPSB0aGlzLm1hcERhdGEuZ2V0VmlldygpLmdldFpvb20oKTsKCiAgICAgIGlmICh6b29tID4gdGhpcy5tYXJrTWluWm9vbSAmJiB0aGlzLm1hcmtGbGFnID09IGZhbHNlKSB7CiAgICAgICAgdGhpcy5tYXJrRmxhZyA9IHRydWU7CiAgICAgICAgdGhpcy5hZGRSb2FkTWFyayh0aGlzKTsKICAgICAgfSBlbHNlIGlmICh6b29tIDw9IHRoaXMubWFya01pblpvb20gJiYgdGhpcy5tYXJrRmxhZyA9PSB0cnVlKSB7CiAgICAgICAgdGhpcy5tYXJrRmxhZyA9IGZhbHNlOwogICAgICAgIHRoaXMubWFya1ZlY3RvckFycmF5LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIF90aGlzNi5tYXBEYXRhLnJlbW92ZUxheWVyKGl0ZW0pOwogICAgICAgIH0pOwogICAgICAgIHRoaXMubWFya1ZlY3RvckFycmF5ID0gW107CiAgICAgIH0KICAgIH0KICB9Cn07CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAoCA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAlCA;AACA,0D,CACA;;AACAA;;AACA,qC,CAEA;;AACA;EACAC,uEADA;EAEAC,UAFA;EAGAC,WAHA;EAIAC,UAJA,CAIA;;AAJA,G,CAQA;;AACA;EACAC;IACAC,SADA;IAEAC;EAFA;AADA;AAQA;EACAF;IACAG,wBADA;IAEAD;EAFA;AADA;eAYA;EACAE,YADA;EAEAC,yBAFA;EAGAC,IAHA,kBAGA;IACA;MACAC,OADA;MAEAC,cAFA;MAGAC,iBAHA;MAIAC,UAJA;MAKAC;QACAC,aADA;QAEAC;MAFA,CALA;MASAC,gBATA;MAUAC,qBAVA;MAWAC,eAXA;MAYAC,oBAZA;MAaAC,kBAbA;MAcAC,cAdA;MAeAC,sCAfA;MAgBAC,uBAhBA;MAiBAC,WACA;QACAC,MADA;QAEAC,aAFA;QAGAC,iBAHA;QAIAC,yBAJA;QAKAC,2BALA;QAMAC,UANA;QAOAC,2BAPA;QAQAC;MARA,CADA,EAYA;QACAP,MADA;QAEAC,aAFA;QAGAO;UACAR,OADA;UAEAC,aAFA;UAGAC,eAHA;UAIAC,oBAJA;UAKAC,sBALA;UAMAC,UANA;UAOAC,sBAPA;UAQAC,sBARA;UASAE,gBATA;UAUAC;QAVA,GAaA;UACAV,OADA;UAEAC,aAFA;UAGAC,eAHA;UAIAC,oBAJA;UAKAC,sBALA;UAMAC,UANA;UAOAC,sBAPA;UAQAC;QARA,CAbA,EAwBA;UACAP,OADA;UAEAC,aAFA;UAGAC,eAHA;UAIAC,oBAJA;UAKAC,sBALA;UAMAC,UANA;UAOAC,sBAPA;UAQAC,sBARA;UASAE,eATA;UAUAC;QAVA,CAxBA;MAHA,CAZA,EAuDA;QACAV,MADA;QAEAC,aAFA;QAGAO,WACA;UACAR,OADA;UAEAC,eAFA;UAGAK,2BAHA;UAIAC;QAJA,CADA,EAOA;UACAP,OADA;UAEAC,cAFA;UAGAK,2BAHA;UAIAC,kBAJA;UAKAC;YACAR,QADA;YAEAC,cAFA;YAGAC,wBAHA;YAIAC,2BAJA;YAKAC,6BALA;YAMAC;UANA,GAQA;YACAL,QADA;YAEAC,eAFA;YAGAC,wBAHA;YAIAC,2BAJA;YAKAC,6BALA;YAMAC;UANA,CARA,EAgBA;YACAL,QADA;YAEAC,eAFA;YAGAC,wBAHA;YAIAC,2BAJA;YAKAC,6BALA;YAMAC;UANA,CAhBA;QALA,CAPA,EAyCA;UACAL,OADA;UAEAC,gBAFA;UAGAK,2BAHA;UAIAC,kBAJA;UAKAL,sBALA;UAMAC,2BANA;UAOAC;QAPA,CAzCA,EAmDA;UACAJ,OADA;UAEAC,eAFA;UAGAK,0BAHA;UAIAC,kBAJA;UAKAC;YACAR,QADA;YAEAC,YAFA;YAGAC,sBAHA;YAIAC,2BAJA;YAKAC,6BALA;YAMAC;UANA,GAQA;YACAL,QADA;YAEAC,YAFA;YAGAC,sBAHA;YAIAC,2BAJA;YAKAC,6BALA;YAMAC;UANA,CARA,EAgBA;YACAL,QADA;YAEAC,aAFA;YAGAC,uBAHA;YAIAC,2BAJA;YAKAC,6BALA;YAMAC;UANA,CAhBA,EAwBA;YACAL,QADA;YAEAC,WAFA;YAGAC,qBAHA;YAIAC,2BAJA;YAKAC,6BALA;YAMAC;UANA,CAxBA,EAgCA;YACAL,QADA;YAEAC,aAFA;YAGAC,uBAHA;YAIAC,2BAJA;YAKAC,6BALA;YAMAC;UANA,CAhCA;QALA,CAnDA,EAqGA;UACAL,OADA;UAEAC,mBAFA;UAGAK,2BAHA;UAIAC,kBAJA;UAKAL,sBALA;UAMAC,2BANA;UAOAC,6BAPA;UAQAC;QARA,CArGA;MAHA,CAvDA,EAiLA;QACAL,MADA;QAEAC,cAFA;QAGAK,0BAHA;QAIAC,kBAJA;QAKAC;UACAR,OADA;UAEAC,aAFA;UAGAC,iBAHA;UAIAC,yBAJA;UAKAC,2BALA;UAMAC;QANA;MALA,CAjLA,EAiMA;QACAL,MADA;QAEAC,aAFA;QAGAK,0BAHA;QAIAC,kBAJA;QAKAC;UACAR,OADA;UAEAC,cAFA;UAGAC,qBAHA;UAIAC,2BAJA;UAKAC,6BALA;UAMAC;QANA,GAQA;UACAL,OADA;UAEAC,cAFA;UAGAC,qBAHA;UAIAC,yBAJA;UAKAC,2BALA;UAMAC;QANA,CARA,EAgBA;UACAL,OADA;UAEAC,aAFA;UAGAC,oBAHA;UAIAC,yBAJA;UAKAC,2BALA;UAMAC;QANA,CAhBA,EAwBA;UACAL,OADA;UAEAC,aAFA;UAGAC,oBAHA;UAIAC,yBAJA;UAKAC,2BALA;UAMAC;QANA,CAxBA,EAgCA;UACAL,OADA;UAEAC,YAFA;UAGAC,mBAHA;UAIAC,yBAJA;UAKAC,2BALA;UAMAC;QANA,CAhCA,EAwCA;UACAL,OADA;UAEAC,YAFA;UAGAC,mBAHA;UAIAC,2BAJA;UAKAC,6BALA;UAMAC;QANA,CAxCA;MALA,CAjMA,EA0PA;QACAL,MADA;QAEAC,iBAFA;QAGAC,oBAHA;QAIAI,0BAJA;QAKAC,kBALA;QAMAJ,yBANA;QAOAC,2BAPA;QAQAC;MARA,CA1PA,EAoQA;QACAL,MADA;QAEAC,eAFA;QAGAC,mBAHA;QAIAI,0BAJA;QAKAC,kBALA;QAMAJ,yBANA;QAOAC,2BAPA;QAQAC;MARA,CApQA,CAjBA;MAuSAM;QACAH,oBADA;QAEAP;MAFA,CAvSA;MA2SAW,wBA3SA;MA4SAC,eA5SA;MA6SAC,iBA7SA;MA8SAC,eA9SA;MA+SAC,mBA/SA;MAgTAC;IAhTA;EAmTA,CAvTA;EAwTAC,OAxTA,qBAwTA;IAEA;IACA;IACA;IACA;IACA;IACAC;EAEA,CAjUA;EAmUAC,OAnUA,qBAmUA;IACA;IACA;EAIA,CAzUA;EA6UAC;IAEAC,cAFA,4BAEA;MAAA;;MACA;QACA;UACA;QACA;MACA,CAJA;IAMA,CATA;IAWAC,WAXA,uBAWAC,YAXA,EAWA;MAAA;;MACA;QACA;MACA;;MACA;MACA;QACA;MACA,CAFA;MAGA;IACA,CApBA;IAsBAC,kBAtBA,8BAsBAC,IAtBA,EAsBAC,GAtBA,EAsBAC,CAtBA,EAsBAJ,YAtBA,EAsBA;MAAA;;MACA;;MACA;QACA;;QACA;UACA;QACA;;QAEA;;QACA;UACA;YACAK;YACA;UACA;QACA;;QAEA;UACAF;QACA,CAFA,MAEA;UACAA;UACAG;UACAA;UACAA;UACAA;QACA;MACA,CAzBA,CA2BA;;;MACA;QACA;MACA,CAFA;;MAIA;QACA;UACAF;QACA;;QACA;UACAD;QACA;;QACA;UACAD;YACA;UACA,CAFA;QAGA;MACA;IACA,CAnEA;IAuEAK,YAvEA,wBAuEAC,OAvEA,EAuEAN,IAvEA,EAuEA;MAEA,gBAFA,CAGA;;MACA;MACA;MACA;MACA;MAIA;;MACA;QACA;MACA,CAFA,MAEA;QACA;QAAA;;QACA;UACA;UACA;UACA;;UACA;YACA;UACA;;UACAO;UACA,+BARA,CASA;;UACA;UACA;UACA;;UACA;YACAC;cACAC;YADA;UAGA;;UACA;YACAD;cACAC;YADA;UAGA;;UACA;YACAD;cACAC;YADA;UAGA;;UACA;YACA;cACAD;gBACA7B;cADA;YAGA,CAJA,MAIA;cACA6B;YACA;UACA;;UACA;YACAA;UACA;;UACA;YACAA;UACA;;UACAE,uBA3CA,CA4CA;;UACA;YACA;cACAD;YADA;YAGAC;UACA;;UAEAC;UACA;QACA;;QACA;UACA;QACA;MAEA;IAEA,CApJA;IAwJAC,iBAxJA,6BAwJAvD,IAxJA,EAwJAwD,WAxJA,EAwJA;MAAA;;MACA;MACA;MACA;MACA;MACAC;QACAC;MACA,CAFA,EALA,CAQA;;MACA;MACAjB;MACA;MACA;MAEA;QAAA;MAAA;MAEA;QAAA;MAAA;MACA;QAAA;MAAA;MACA;QAAA;MAAA;MACAkB;MACAA;;MAEA;QAAA;MAAA;QACAC;UACAjB;QACA,CAFA;MAGA,CAJA,MAIA;QACAiB;UACAjB;QACA,CAFA;MAGA;;MAGA;QAAA;MAAA;QACAkB;UACAlB;QACA,CAFA;MAGA,CAJA,MAIA;QACAkB;UACAlB;QACA,CAFA;MAGA;;MAEA;QAAA;MAAA;QACAmB;UACAnB;QACA,CAFA;MAGA,CAJA,MAIA;QACAmB;UACAnB;QACA,CAFA;MAGA;;MAGA;QAAA;MAAA;QACAoB;UACApB;QACA,CAFA;MAGA,CAJA,MAIA;QACAoB;UACApB;QACA,CAFA;MAGA;;MAKA;QACA;QACA;QACA,kBAHA,CAIA;;QACA;UACAA;UACA;QACA;;QARA,2BASAqB,CATA;UAUA;;UACA;YAEAC;;YACA;cACAtB;cACA;YACA,CANA,CAOA;;;YACAA;YACAA;cACA;YACA,CAFA;UAIA;QAxBA;;QASA;UAAA;;UAAA,sBAOA;QASA;;QACA;UACAA;QACA;MACA;IAEA,CA1PA;IA+PA;IACAuB,iBAhQA,6BAgQAC,KAhQA,EAgQA;MACA;QACAvE,8CADA;QAEAwE,uBAFA;QAGAC;UACA,2BADA;UAEA;QAFA,CAHA;QAQAC;MARA,GADA,CAWA;;MACA;QACA5E,oBADA;QAEAC;MAFA;MAIA;MACAa;MACA,wDAlBA,CAmBA;;MACA;QACA+D,cADA;QAEAC,oBAFA;QAGAC;MAHA,GApBA,CAyBA;;MACAC;MACAA,mCA3BA,CA4BA;;MACAP;IACA,CA9RA;IAySAQ,iBAzSA,6BAySAR,KAzSA,EAySA;MACA;MACA;MACAS;QACA;;QACAC;UACA;UACA;;UACA;YACAC;cACAC;gBAAAC;gBAAAC;cAAA;YADA;UAGA,CAJA,MAIA;YACAH;cACAC;gBAAAC;gBAAAC;cAAA;YADA;UAGA;;UAEA;YACAvF,uBADA;YAEAI,oBAFA;YAGAuD;cACA;YACA;UALA;;UAQAc;;UACAA;QACA,CAvBA;MAyBA,CA3BA;IA8BA,CA1UA;IA6UA;IACAe,QA9UA,oBA8UAC,UA9UA,EA8UAlC,OA9UA,EA8UA;MACA;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA,0DAZA,CAcA;;MACA;MACA;;MACA,mBACA,CADA,MACA;QAGA;UACA;QACA,CALA,CAMA;;;QACA;UACAmC,kBADA;UAEAC;YACAC;cACAC;YADA;UADA;QAFA,GAPA,CAeA;;QACA;MACA;;MAGAC,2JACAC,WADA,iYAKAC,WALA,wQASAC,KATA,sSAaAC,MAbA,8QAmBAC,GAnBA,6QAuBAC,MAvBA,iSA6BAC,GA7BA,oSAkCAC,OAlCA,+RAsCAC,EAtCA,mGAtCA,CAiFA;;MACA;MACA7D;IACA,CAlaA;IAoaA;IACA8D,WAraA,yBAqaA;MACA;QACA;QACA;MACA;IACA,CA1aA;IA6aAC,aA7aA,2BA6aA;MACAC;MACAhE;MACAA;MACAA;MACAA;MACAA;MACAA;IAEA,CAtbA;IAwbAiE,aAxbA,2BAwbA;MACAD,uBADA,CAEA;;MACAhE;MACAA;MACAA;MACAA;IACA,CA/bA;IAmcA;IACAkE,cApcA,4BAocA;MACA;MACA;MACA1D;QACA;UACA2D;QACA;MACA,CAJA;;MAKA;QACA;MACA;IACA,CA/cA;IAkdAC,iBAldA,6BAkdAC,YAldA,EAkdAC,OAldA,EAkdA;MACA;MACAC;MACA;MACA;QACAC;UACAxD;QADA,EADA;QAIAD;UACAC,gBADA;UAEA9B;QAFA;MAJA;MASAoF;QACA5G,UADA;QAEAJ;UACAqF;QADA,EAFA;QAKA1B;UACA;QACA;MAPA;MASAqD;MACA;IAEA,CA3eA;IA8eAG;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,OAEAhC;kBACA;;kBACA;oBACA;sBACA;oBACA;;oBACA6B;oBACAA,sDALA,CAMA;;oBACAA;kBAEA,CATA,MASA;oBACA;sBACAA;oBACA;kBACA;gBACA,CAhBA,CAFA;;cAAA;gBAAA;gBAAA;;cAAA;gBAAA;gBAAA;gBAoBA/C;;cApBA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;;MAAA;QAAA;MAAA;;MAAA;IAAA,GA9eA;IAsgBA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IAEA;IAEA;IACAmD,YAniBA,0BAmiBA;MACA;;MACA;QACAC;QACAvG;MACA,CAHA,MAGA;QACAuG;QACAvG;MACA;IACA,CA5iBA;IAgjBA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA;IAEAwG,iBA7kBA,6BA6kBAC,YA7kBA,EA6kBA;MACA;MACA,qCACAA,wBADA,EAEA,WAFA,EAGA,WAHA;MAKA;QACAC,uCADA;QAEAC,qBAFA;QAGAC;MAHA,GAPA,CAYA;;MACAnE;MACA;MACAvD;MACA;QACAA;MADA;MAGA2H;MACA;MACA;IACA,CAnmBA;IAqmBAC,eArmBA,2BAqmBArE,OArmBA,EAqmBA;MACA;MACA;QACA;QACAsE;UACAC,gBADA;UAEAC,UAFA;UAGAC,yBAHA;UAIAC,sBAJA;UAKAC,sBALA;UAMAC,2BANA;UAOAC,YAPA;UAQAC;QARA,EAFA;QAaA;QACApI;MAdA;IAgBA,CAvnBA;IAwnBAqI,WAxnBA,uBAwnBAC,OAxnBA,EAwnBA;MACA;QACAA;MACA,CAFA;IAGA,CA5nBA;IA8nBA;IACAC,QA/nBA,oBA+nBAC,GA/nBA,EA+nBA;MACA;MACA,wDACA;QACA;MACA,CAHA;;MAIA;QACA;QACA;QACA;QACA;MACA,CALA,MAKA;QACA;MACA;IACA,CA7oBA;IA8oBAC,UA9oBA,sBA8oBAD,GA9oBA,EA8oBA;MAAA;;MACA;;MACA;QACA;QACA;MACA,CAHA,MAGA;QACA;QACA;UACA;QACA,CAFA;QAGA;MACA;IACA;EA1pBA;AA7UA,C","names":["proj4","center","minZoom","maxZoom","zoom","source","zIndex","url","crossOrigin","name","mixins","data","ac","value1","roadTypeRadio","radio2","addForm","sDeptName","sDeptId","wxMapLayer","checkedLayerArray","vectorArray","popDetailFlag","filterTreeData","layerArray","textMarkLayerName","textMarkDataCache","treeData","id","label","literal","fillColor","strokeColor","width","layerName","filterKey","children","dashOffset","dasharray","defaultProps","projectRadio","geoJsonList","markMinZoom","markFlag","markVectorArray","markDataCache","mounted","document","created","methods","filterDataTree","getLayerMap","checkedArray","assembleLayerItems","item","arr","m","existItem","newItem","initWfsStyle","feature","isExist","stroke","color","style","styles","handleCheckChange","checkedInfo","halfCheckNode","halfCheckIds","console","params1","params2","params3","params4","k","exist","initLayerToMapWfs","_this","projection","params","serverType","layers","target","view","map","addVectorLayerWfs","checkedLayerMap","axios","vectorSourceTmp","features","featureProjection","dataProjection","addPopup","coordinate","element","autoPan","animation","duration","content","projectName","projectDesc","start","status","end","length","ztz","kcsjffh","bz","removePopup","showSummryPop","showSummryFlag","hideSummryPop","clearHighlight","highlightLayer","addHighLightStyle","clickFeature","thisObj","featureObj","fill","fechFeatureInfo","switchChange","gaodeMapLayer","createMarkFeature","featureParam","geometry","img","imageType","layer","createMarkStyle","image","anchor","scale","anchorOrigin","anchorXUnits","anchorYUnits","offsetOrigin","opacity","src","addRoadMark","viewObj","mapClick","evt","mapMoveend"],"sourceRoot":"src/views/information-search","sources":["project3.vue"],"sourcesContent":["<template>\r\n  <div id=\"map\" ref=\"map\" style=\"height: 890px\">\r\n    <!--点击查看详情弹框-->\r\n    <div id=\"popup\" class=\"ol-popup\">\r\n      <a\r\n        href=\"#\"\r\n        id=\"popup-closer\"\r\n        class=\"ol-popup-closer\"\r\n        @click=\"removePopup\"\r\n      />\r\n      <div id=\"popup-content\"></div>\r\n    </div>\r\n\r\n    <!--道路选择器-->\r\n    <div id=\"pop-road-selector\" class=\"ol-layer\">\r\n      <div class=\"road-selector-pop\">\r\n        <div class=\"div-switch\">\r\n          <div class=\"switch-title\">背景底图</div>\r\n          <el-switch\r\n            v-model=\"value1\"\r\n            active-color=\"#004AB3\"\r\n            inactive-color=\"#004AB3\"\r\n            active-text=\"卫星地图\"\r\n            inactive-text=\"电子地图\"\r\n            @change=\"switchChange\"\r\n          >\r\n          </el-switch>\r\n        </div>\r\n        <el-collapse accordion class=\"nav-select\" v-model=\"ac\">\r\n          <el-collapse-item name=\"1\">\r\n            <template slot=\"title\"> 显示图层 </template>\r\n            <el-tree\r\n              :style=\"{\r\n                height: '300px',\r\n                overflow: 'auto'\r\n              }\"\r\n              ref=\"tree\"\r\n              :data=\"filterTreeData\"\r\n              show-checkbox\r\n              node-key=\"id\"\r\n              :default-checked-keys=\"[80, 5, 6, 83, 84, 85, 86, 87, 81]\"\r\n              :props=\"defaultProps\"\r\n              @check=\"handleCheckChange\"\r\n            >\r\n              <span class=\"custom-tree-node\" slot-scope=\"{ node, data }\">\r\n                <span>\r\n                  {{ node.label }}\r\n                </span>\r\n                <span\r\n                  v-if=\"data.fillColor != null\"\r\n                  class=\"dot\"\r\n                  :style=\"{ background: data.fillColor }\"\r\n                ></span>\r\n                <span\r\n                  v-else\r\n                  class=\"dot\"\r\n                  :style=\"{ background: data.strokeColor }\"\r\n                ></span>\r\n              </span>\r\n            </el-tree>\r\n          </el-collapse-item>\r\n        </el-collapse>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport 'ol/ol.css'\r\nimport Map from 'ol/Map'\r\nimport * as olControl from 'ol/control'\r\nimport View from 'ol/View'\r\nimport { getWidth, getCenter } from 'ol/extent'\r\nimport TileLayer from 'ol/layer/Tile'\r\nimport WMTS from 'ol/source/WMTS'\r\nimport XYZ from 'ol/source/XYZ'\r\nimport WMTSTileGrid from 'ol/tilegrid/WMTS'\r\nimport Projection from 'ol/proj/Projection'\r\nimport { transform } from 'ol/proj'\r\nimport proj4 from 'proj4'\r\nimport { register } from 'ol/proj/proj4';\r\nimport VectorSource from 'ol/source/Vector'\r\nimport { TileWMS } from 'ol/source'\r\nimport VectorLayer from 'ol/layer/Vector'\r\nimport Feature from 'ol/Feature'\r\nimport { Draw } from 'ol/interaction'\r\nimport { Style, Circle, Stroke, Fill } from 'ol/src/style'\r\nimport WKT from 'ol/format/WKT'\r\nimport GeoJSON from 'ol/format/GeoJSON'\r\nimport Overlay from 'ol/Overlay'\r\nimport * as echarts from \"echarts\";\r\nimport axios from 'axios'\r\nimport request from '@/utils/request'\r\nimport LineString from 'ol/geom/LineString';\r\nimport MultiLineString from 'ol/geom/MultiLineString';\r\nimport MultiPolygon from 'ol/geom/MultiPolygon';\r\nimport Vue from 'vue'\r\nimport { clone } from \"@/utils/ruoyi\";\r\nimport OlGeomPoint from 'ol/geom/Point'\r\nimport OlStyleStyle from 'ol/style/Style'\r\nimport OlStyleIcon from 'ol/style/Icon'\r\n\r\n//中心坐标\r\nconst centerCordinate = [656951.22379894, 3559139.26626369]\r\n//坐标定义\r\nproj4.defs(\"EPSG:4548\", \"+proj=tmerc +lat_0=0 +lon_0=117 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs\");\r\nregister(proj4);\r\n\r\n//地图初始化\r\nconst view = new View({\r\n  center: transform(centerCordinate, 'EPSG:4548', 'EPSG:3857'),\r\n  minZoom: 4,\r\n  maxZoom: 18,\r\n  zoom: 12.7 // 地图初始化的缩放级别\r\n})\r\n\r\n\r\n//高德地图图层\r\nconst gaodeMapLayer = new TileLayer({\r\n  source: new XYZ({\r\n    zIndex: 1,\r\n    url: 'http://webst0{1-4}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}'\r\n  })\r\n});\r\n\r\n\r\nconst wxMapLayer = new TileLayer({\r\n  source: new XYZ({\r\n    crossOrigin: \"anonymous\",\r\n    url: 'http://t0.tianditu.gov.cn/img_w/wmts?tk=129364168580e7f0e3ff5bd759d41a75&SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=img&STYLE=default&TILEMATRIXSET=w&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&FORMAT=tiles'\r\n  })\r\n});\r\n\r\n\r\n\r\n\r\nimport resize from './mixins/resize'\r\n\r\nexport default {\r\n  name: \"Road\",\r\n  mixins: [resize],\r\n  data () {\r\n    return {\r\n      ac: '1',\r\n      value1: 'true',\r\n      roadTypeRadio: [],\r\n      radio2: [],\r\n      addForm: {\r\n        sDeptName: '',\r\n        sDeptId: ''\r\n      },\r\n      wxMapLayer: null,\r\n      checkedLayerArray: [],\r\n      vectorArray: [],\r\n      popDetailFlag: false,\r\n      filterTreeData: [],\r\n      layerArray: [],\r\n      textMarkLayerName: 'Test%3Apoints0822',\r\n      textMarkDataCache: null,\r\n      treeData: [\r\n        {\r\n          id: 80,\r\n          label: '骨架路网',\r\n          literal: '01骨架路网',\r\n          fillColor: \"RGB(0,0,255)\",\r\n          strokeColor: \"RGB(0,0,255)\",\r\n          width: \"4\",\r\n          layerName: \"Test:lines0822\",\r\n          filterKey: 'layer',\r\n\r\n        },\r\n        {\r\n          id: 81,\r\n          label: '功能定位',\r\n          children: [{\r\n            id: 811,\r\n            label: '近期线位',\r\n            literal: '近期线位',\r\n            fillColor: \"#FF0000\",\r\n            strokeColor: \"#FF0000\",\r\n            width: \"4\",\r\n            layerName: \"Test:jqxw\",\r\n            filterKey: 'layerName',\r\n            dashOffset: \"10\",\r\n            dasharray: [10, 10],\r\n\r\n          },\r\n          {\r\n            id: 812,\r\n            label: '现状线位',\r\n            literal: '现状线位',\r\n            fillColor: \"#1CB151\",\r\n            strokeColor: \"#1CB151\",\r\n            width: \"4\",\r\n            layerName: \"Test:xzxw\",\r\n            filterKey: 'layerName',\r\n\r\n          },\r\n          {\r\n            id: 813,\r\n            label: '远期线位',\r\n            literal: '远期线位',\r\n            fillColor: \"#0000FF\",\r\n            strokeColor: \"#0000FF\",\r\n            width: \"4\",\r\n            layerName: \"Test:yqxw\",\r\n            filterKey: 'layerName',\r\n            dashOffset: \"0\",\r\n            dasharray: [10, 10],\r\n\r\n          },\r\n          ]\r\n        },\r\n\r\n        {\r\n          id: 83,\r\n          label: '建设条件',\r\n          children: [\r\n            {\r\n              id: 831,\r\n              label: '1浦泗路现状',\r\n              layerName: \"Test:lines0822\",\r\n              filterKey: 'layer',\r\n            },\r\n            {\r\n              id: 832,\r\n              label: '2规划铁路',\r\n              layerName: \"Test:lines0822\",\r\n              filterKey: 'layer',\r\n              children: [{\r\n                id: 8321,\r\n                label: '北沿江高铁',\r\n                literal: '03-02-01北沿江高铁',\r\n                fillColor: \"RGB(0,189,189)\",\r\n                strokeColor: \"RGB(0,189,189)\",\r\n                width: \"1\",\r\n\r\n              }, {\r\n                id: 8322,\r\n                label: '宁淮城际铁路',\r\n                literal: '03-02-02宁淮城际铁',\r\n                fillColor: \"RGB(0,189,189)\",\r\n                strokeColor: \"RGB(0,189,189)\",\r\n                width: \"1\",\r\n              },\r\n              {\r\n                id: 8323,\r\n                label: '普速系统改建',\r\n                literal: '03-02-03普速系统改',\r\n                fillColor: \"RGB(0,189,189)\",\r\n                strokeColor: \"RGB(0,189,189)\",\r\n                width: \"1\",\r\n              },\r\n\r\n              ]\r\n\r\n            },\r\n\r\n            {\r\n              id: 833,\r\n              label: '3城市轨道交通',\r\n              layerName: \"Test:lines0822\",\r\n              filterKey: 'layer',\r\n              literal: '03-03城市轨道交通',\r\n              fillColor: \"RGB(255,0,255)\",\r\n              strokeColor: \"RGB(255,0,255)\",\r\n            },\r\n\r\n            {\r\n              id: 834,\r\n              label: '4水系及文物',\r\n              layerName: \"Test:area0822\",\r\n              filterKey: 'layer',\r\n              children: [{\r\n                id: 8341,\r\n                label: '中心河',\r\n                literal: '03-04-01中心河',\r\n                fillColor: \"RGB(0,191,255)\",\r\n                strokeColor: \"RGB(0,191,255)\",\r\n                width: \"1\",\r\n\r\n              }, {\r\n                id: 8343,\r\n                label: '东一河',\r\n                literal: '03-04-02东一河',\r\n                fillColor: \"RGB(0,191,255)\",\r\n                strokeColor: \"RGB(0,191,255)\",\r\n                width: \"1\",\r\n              },\r\n              {\r\n                id: 8344,\r\n                label: '朱家山河',\r\n                literal: '03-04-03朱家山河',\r\n                fillColor: \"RGB(0,191,255)\",\r\n                strokeColor: \"RGB(0,191,255)\",\r\n                width: \"1\",\r\n              },\r\n              {\r\n                id: 8345,\r\n                label: '后河',\r\n                literal: '03-04-04后河',\r\n                fillColor: \"RGB(0,191,255)\",\r\n                strokeColor: \"RGB(0,191,255)\",\r\n                width: \"1\",\r\n              },\r\n              {\r\n                id: 8346,\r\n                label: '规划河道',\r\n                literal: '03-04-05规划河道',\r\n                fillColor: \"RGB(0,191,255)\",\r\n                strokeColor: \"RGB(0,191,255)\",\r\n                width: \"1\",\r\n              },\r\n\r\n              ]\r\n\r\n            },\r\n\r\n            {\r\n              id: 835,\r\n              label: '5地上杆线和地下管线',\r\n              layerName: \"Test:lines0822\",\r\n              filterKey: 'layer',\r\n              literal: '03-05地上杆线及地',\r\n              fillColor: \"RGB(255,255,0)\",\r\n              strokeColor: \"RGB(255,255,0)\",\r\n              width: \"4\",\r\n            },\r\n\r\n\r\n\r\n\r\n          ]\r\n        },\r\n\r\n\r\n        {\r\n          id: 84,\r\n          label: '起终点研究',\r\n          layerName: \"Test:area0822\",\r\n          filterKey: 'layer',\r\n          children: [{\r\n            id: 841,\r\n            label: '基本农田',\r\n            literal: '04基本农田',\r\n            fillColor: \"RGB(0,255,0)\",\r\n            strokeColor: \"RGB(0,255,0)\",\r\n            width: \"1\",\r\n          }]\r\n        },\r\n\r\n\r\n        {\r\n          id: 85,\r\n          label: '规划路网',\r\n          layerName: \"Test:area0822\",\r\n          filterKey: 'layer',\r\n          children: [{\r\n            id: 851,\r\n            label: '北站快速路',\r\n            literal: '05-01北站快速路',\r\n            fillColor: \"RGB(255,0,255)\",\r\n            strokeColor: \"RGB(255,0,255)\",\r\n            width: \"1\",\r\n          },\r\n          {\r\n            id: 852,\r\n            label: '朱家山河路',\r\n            literal: '05-02朱家山河路',\r\n            fillColor: \"RGB(129,0,0)\",\r\n            strokeColor: \"RGB(129,0,0)\",\r\n            width: \"1\",\r\n          },\r\n          {\r\n            id: 853,\r\n            label: '站南一路',\r\n            literal: '05-03站南一路',\r\n            fillColor: \"RGB(0,0,255)\",\r\n            strokeColor: \"RGB(0,0,255)\",\r\n            width: \"1\",\r\n          },\r\n          {\r\n            id: 854,\r\n            label: '站南二路',\r\n            literal: '05-04站南二路',\r\n            fillColor: \"RGB(129,0,0)\",\r\n            strokeColor: \"RGB(129,0,0)\",\r\n            width: \"1\",\r\n          },\r\n          {\r\n            id: 855,\r\n            label: '站西路',\r\n            literal: '05-05站西路',\r\n            fillColor: \"RGB(0,0,255)\",\r\n            strokeColor: \"RGB(0,0,255)\",\r\n            width: \"1\",\r\n          },\r\n          {\r\n            id: 856,\r\n            label: '西快线',\r\n            literal: '05-06西快线',\r\n            fillColor: \"RGB(255,0,255)\",\r\n            strokeColor: \"RGB(255,0,255)\",\r\n            width: \"1\",\r\n          },\r\n\r\n          ]\r\n        },\r\n\r\n        {\r\n          id: 86,\r\n          label: '涉铁节点道路工程',\r\n          literal: '06涉铁节点道路工',\r\n          layerName: \"Test:area0822\",\r\n          filterKey: 'layer',\r\n          fillColor: \"RGB(0,0,255)\",\r\n          strokeColor: \"RGB(0,0,255)\",\r\n          width: \"1\",\r\n        },\r\n        {\r\n          id: 87,\r\n          label: '南京北站站台',\r\n          literal: '07南京北站站房',\r\n          layerName: \"Test:area0822\",\r\n          filterKey: 'layer',\r\n          fillColor: \"RGB(255,0,0)\",\r\n          strokeColor: \"RGB(255,0,0)\",\r\n          width: \"1\",\r\n        }\r\n\r\n      ],\r\n\r\n\r\n\r\n\r\n\r\n\r\n      defaultProps: {\r\n        children: 'children',\r\n        label: 'label'\r\n      },\r\n      projectRadio: [\"1\", \"2\"],\r\n      geoJsonList: {},\r\n      markMinZoom: 11.7,\r\n      markFlag: false,\r\n      markVectorArray: [],\r\n      markDataCache: null,\r\n\r\n    }\r\n  },\r\n  mounted () {\r\n\r\n    //初始化图层 wms\r\n    //this.initLayerWms();\r\n    //初始化图层 wfs\r\n    this.initLayerToMapWfs(this);\r\n    this.addVectorLayerWfs(this);\r\n    document.getElementById('popup').style.display = 'none';\r\n\r\n  },\r\n\r\n  created () {\r\n    //过滤不需要展示树形节点\r\n    this.filterDataTree();\r\n\r\n\r\n\r\n  },\r\n\r\n\r\n\r\n  methods: {\r\n\r\n    filterDataTree () {\r\n      this.treeData.forEach(item => {\r\n        if (item.display != false) {\r\n          this.filterTreeData.push(item);\r\n        }\r\n      })\r\n\r\n    },\r\n\r\n    getLayerMap (checkedArray) {\r\n      if (checkedArray == null) {\r\n        return null;\r\n      }\r\n      var layerMap = [];\r\n      this.treeData.forEach(item => {\r\n        this.assembleLayerItems(item, null, layerMap, checkedArray);\r\n      })\r\n      return layerMap;\r\n    },\r\n\r\n    assembleLayerItems (item, arr, m, checkedArray) {\r\n      var newItem = null;\r\n      if (item.layerName != null) {\r\n        var needAdd = item.literal != null || (item.children != null && item.children != undefined);\r\n        if (!needAdd) {\r\n          return;\r\n        }\r\n\r\n        let existItem;\r\n        for (let j = 0; j < m.length; j++) {\r\n          if (m[j].layerName == item.layerName) {\r\n            existItem = m[j];\r\n            break;\r\n          }\r\n        }\r\n\r\n        if (existItem != null) {\r\n          arr = existItem.treeDataItem;\r\n        } else {\r\n          arr = [];\r\n          newItem = {};\r\n          newItem.treeDataItem = arr;\r\n          newItem.layerName = item.layerName;\r\n          newItem.filterKey = item.filterKey;\r\n        }\r\n      }\r\n\r\n      //选中状态\r\n      var idIndex = checkedArray.findIndex(item2 => {\r\n        return item2 == item.id;\r\n      });\r\n\r\n      if (idIndex != -1) {\r\n        if (newItem != null) {\r\n          m.push(newItem);\r\n        }\r\n        if (item.literal != null) {\r\n          arr.push(item);\r\n        }\r\n        if (item.children != null && item.children != undefined) {\r\n          item.children.forEach(i => {\r\n            this.assembleLayerItems(i, arr, m, checkedArray);\r\n          })\r\n        }\r\n      }\r\n    },\r\n\r\n\r\n\r\n    initWfsStyle (feature, item) {\r\n\r\n      let styles = [];\r\n      // 过滤属性\r\n      var filterKey = feature.get(item.filterKey);\r\n      var lineColor = feature.get('line_color');\r\n      var borderColor = feature.get('border_col');\r\n      var fillColor = feature.get('fill_color');\r\n\r\n\r\n\r\n      var treeDataItem = item.treeDataItem;\r\n      if (treeDataItem == null || treeDataItem == undefined || treeDataItem.length == 0) {\r\n        return undefined;\r\n      } else {\r\n        let isExist = false;;\r\n        for (let k = 0; k < treeDataItem.length; k++) {\r\n          let item2 = treeDataItem[k];\r\n          var dashOffset = item2.dashOffset;\r\n          var dasharray = item2.dasharray;\r\n          if (filterKey != treeDataItem[k].literal) {\r\n            continue;\r\n          }\r\n          isExist = true;\r\n          let style = new Style();\r\n          //线条颜色\r\n          let strokeColor = item2.strokeColor;\r\n          let strokeWidth = item2.width;\r\n          let stroke = null;\r\n          if (lineColor) {\r\n            stroke = new Stroke({\r\n              color: lineColor,\r\n            })\r\n          }\r\n          if (borderColor) {\r\n            stroke = new Stroke({\r\n              color: borderColor,\r\n            })\r\n          }\r\n          if (stroke == null && strokeColor != null) {\r\n            stroke = new Stroke({\r\n              color: strokeColor,\r\n            })\r\n          }\r\n          if (strokeWidth) {\r\n            if (stroke == null) {\r\n              stroke = new Stroke({\r\n                width: strokeWidth,\r\n              })\r\n            } else {\r\n              stroke.width_ = strokeWidth;\r\n            }\r\n          }\r\n          if (dashOffset) {\r\n            stroke.lineDashOffset_ = dashOffset;\r\n          }\r\n          if (dasharray) {\r\n            stroke.lineDash_ = dasharray;\r\n          }\r\n          style.stroke_ = stroke;\r\n          //填充颜色\r\n          if (fillColor) {\r\n            let fill = new Fill({\r\n              color: fillColor\r\n            })\r\n            style.fill_ = fill;\r\n          }\r\n\r\n          styles.push(style);\r\n          return styles;\r\n        }\r\n        if (!isExist) {\r\n          return undefined;\r\n        }\r\n\r\n      }\r\n\r\n    },\r\n\r\n\r\n\r\n    handleCheckChange (data, checkedInfo) {\r\n      this.clearHighlight();\r\n      this.removePopup();\r\n      let halfCheckNode = this.$refs.tree.getHalfCheckedNodes();\r\n      let halfCheckIds = [];\r\n      halfCheckNode.forEach(item => {\r\n        halfCheckIds.push(item.id)\r\n      });\r\n      //获取选中以及半选中节点\r\n      var checkedArray = this.$refs.tree.getCheckedKeys(false);\r\n      checkedArray = checkedArray.concat(halfCheckIds);\r\n      let checkedLayerArray = this.getLayerMap(checkedArray);\r\n      let allLayerArray = this.layerArray;\r\n\r\n      let params1 = this.markVectorArray.filter(j => { return j.values_.id === 'a2PSL' })\r\n\r\n        let params2 = this.markVectorArray.filter(j => { return j.values_.id ==='a2SX' })\r\n        let params3 = this.markVectorArray.filter(j => { return j.values_.id ==='a2DS' })\r\n        let params4 = this.markVectorArray.filter(j => { return j.values_.id ==='a1GJ' })\r\n        console.log(params4,'??');\r\n        console.log(checkedArray,'???22');\r\n\r\n        if(checkedArray.findIndex(item =>{ return item === 831 }) != -1){\r\n          params1.forEach( item =>{\r\n              item.setVisible(true)\r\n          })\r\n        }else{\r\n          params1.forEach( item =>{\r\n              item.setVisible(false)\r\n          })\r\n        }\r\n\r\n\r\n        if(checkedArray.findIndex(item =>{ return item === 834 }) != -1){\r\n          params2.forEach( item =>{\r\n              item.setVisible(true)\r\n          })\r\n        }else{\r\n          params2.forEach( item =>{\r\n              item.setVisible(false)\r\n          })\r\n        }\r\n\r\n        if(checkedArray.findIndex(item =>{ return item === 835 }) != -1){\r\n          params3.forEach( item =>{\r\n              item.setVisible(true)\r\n          })\r\n        }else{\r\n          params3.forEach( item =>{\r\n              item.setVisible(false)\r\n          })\r\n        }\r\n\r\n\r\n        if(checkedArray.findIndex(item =>{ return item === 80 }) != -1){\r\n          params4.forEach( item =>{\r\n              item.setVisible(true)\r\n          })\r\n        }else{\r\n          params4.forEach( item =>{\r\n              item.setVisible(false)\r\n          })\r\n        }\r\n\r\n\r\n\r\n\r\n      for (let j = 0; j < allLayerArray.length; j++) {\r\n        let item = allLayerArray[j];\r\n        let layerName = item.values_.name;\r\n        let exist = false;\r\n        //如果全部未选中 隐藏\r\n        if (checkedLayerArray == null || checkedLayerArray.length == 0) {\r\n          item.setVisible(false);\r\n          continue;\r\n        }\r\n        for (let k = 0; k < checkedLayerArray.length; k++) {\r\n          let checkItem = checkedLayerArray[k];\r\n          if (layerName == checkItem.layerName) {\r\n\r\n            exist = true;\r\n            if (checkItem.treeDataItem == null || checkItem.treeDataItem.length == 0) {\r\n              item.setVisible(false);\r\n              break;\r\n            }\r\n            //更新样式\r\n            item.setVisible(true);\r\n            item.setStyle((feature, solution) => {\r\n              return this.initWfsStyle(feature, checkItem)\r\n            })\r\n\r\n          }\r\n        }\r\n        if (!exist) {\r\n          item.setVisible(false);\r\n        }\r\n      }\r\n\r\n    },\r\n\r\n\r\n\r\n\r\n    // 初始化地图\r\n    initLayerToMapWfs (_this) {\r\n      const roadLinesWms = new TileWMS({\r\n        url: process.env.VUE_APP_GIS_BASE_URL + '/wms',\r\n        projection: 'EPSG:3857',\r\n        params: {\r\n          'LAYERS': 'Test:Road_lines',\r\n          'VERSION': '1.1.0'\r\n\r\n        },\r\n        serverType: 'geoserver'\r\n      });\r\n      //自定义图层1\r\n      const roadLineLayer = new TileLayer({\r\n        source: roadLinesWms,\r\n        zIndex: 3\r\n      });\r\n      const mapContainer = _this.$refs.map\r\n      wxMapLayer.setVisible(false)\r\n      let layers = [gaodeMapLayer, wxMapLayer, roadLineLayer];\r\n      //将图层加入Map\r\n      const map = new Map({\r\n        layers: layers,\r\n        target: mapContainer,\r\n        view: view\r\n      });\r\n      // 添加鼠标点击事件\r\n      map.on('click', _this.mapClick);\r\n      map.on('moveend', this.mapMoveend);\r\n      // 保存地图\r\n      _this.mapData = map\r\n    },\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    addVectorLayerWfs (_this) {\r\n      var checkedArray = this.$refs.tree.getCheckedKeys(false);\r\n      let checkedLayerMap = this.getLayerMap(checkedArray);\r\n      checkedLayerMap.forEach(item => {\r\n        var url = process.env.VUE_APP_GIS_BASE_URL + '/Test/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=' + encodeURI(item.layerName) + '&maxFeatures=500000000&outputFormat=application%2Fjson';\r\n        axios.get(url, null).then(function (res) {\r\n          var featuresData = res.data;\r\n          let vectorSourceTmp;\r\n          if (item.layerName == 'Test:xzxw' || item.layerName == 'Test:jqxw' || item.layerName == 'Test:yqxw') {\r\n            vectorSourceTmp = new VectorSource({\r\n              features: (new GeoJSON({ featureProjection: 'EPSG:3857', dataProjection: 'EPSG:4326' })).readFeatures(featuresData)\r\n            });\r\n          } else {\r\n            vectorSourceTmp = new VectorSource({\r\n              features: (new GeoJSON({ featureProjection: 'EPSG:3857', dataProjection: 'EPSG:4548' })).readFeatures(featuresData)\r\n            });\r\n          }\r\n\r\n          let vectorLayerTmp = new VectorLayer({\r\n            source: vectorSourceTmp,\r\n            name: item.layerName,\r\n            style: (feature, solution) => {\r\n              return _this.initWfsStyle(feature, item)\r\n            }\r\n          })\r\n\r\n          _this.mapData.addLayer(vectorLayerTmp);\r\n          _this.layerArray.push(vectorLayerTmp);\r\n        })\r\n\r\n      })\r\n\r\n\r\n    },\r\n\r\n\r\n    // 弹出框\r\n    addPopup (coordinate, feature) {\r\n      this.removePopup()\r\n\r\n      let featureValues = feature.values_;\r\n      let projectName = featureValues.layer == null ? '' : featureValues.layer;\r\n      let projectDesc = featureValues.项目概 == null || featureValues.项目概 == undefined ? '' : featureValues.项目概;\r\n      let start = featureValues.起点 == null ? '' : featureValues.起点;\r\n      let end = featureValues.终点 == null ? \"\" : featureValues.终点;\r\n      let length = featureValues.长度 == null ? \"\" : featureValues.长度;\r\n      let ztz = featureValues.总投资 == null ? \"\" : featureValues.总投资;\r\n      let kcsjffh = featureValues.勘察_1 == null ? \"\" : featureValues.勘察_1;\r\n      let status = featureValues.目前工 == null ? \"\" : featureValues.目前工;\r\n      let bz = featureValues.备注 == null ? \"\" : featureValues.备注;\r\n\r\n      // 获取弹出层DOM\r\n      let container = document.getElementById('popup')\r\n      let content = document.getElementById('popup-content')\r\n      if (this.overlay) {\r\n      } else {\r\n\r\n\r\n        if (projectDesc == '') {\r\n          return;\r\n        }\r\n        // 创建Overlay弹出层绑定DOM\r\n        this.overlay = new Overlay({\r\n          element: container,\r\n          autoPan: {\r\n            animation: {\r\n              duration: 250\r\n            }\r\n          }\r\n        })\r\n        // 添加到map\r\n        this.mapData.addOverlay(this.overlay)\r\n      }\r\n\r\n\r\n      content.innerHTML = `\r\n                      <div style='color:#121924;font-weight: bold;width:100%;z-index:4;height:42px;padding:6px;font-size: 15px'>`+ projectName + `</div>\r\n                      <div style='font-size: 10px;width:100%;line-height:30px;height:315px;overflow-y: auto;'>\r\n                        <div style='margin-top:10px;line-height: 24px;'>\r\n                          <span style=\"color:#646566;width: 90px;\">项目概况：</span>\r\n                          <div style=\"text-indent: 2rem;font-size:14px;\">`+ projectDesc + `</div>\r\n                        </div>\r\n                          <div>\r\n                            <span class='poptable-th' style=\"color:#646566;\">起点：</span>\r\n                            <span style=\"text-align: right;font-size:14px\">`+ start + `</span>\r\n                          </div>\r\n                          <div>\r\n                              <span class='poptable-th' style=\"color:#646566\">目前工作进展：</span>\r\n                              <span style=\"text-align: right;font-size:14px\">`+ status + `</span>\r\n                          </div>\r\n\r\n\r\n                          <div>\r\n                            <span class='poptable-th' style=\"color:#646566\">终点：</span>\r\n                            <span style=\"text-align: right;font-size:14px\">`+ end + `</span>\r\n                          </div>\r\n                          <div>\r\n                            <span class='poptable-th' style=\"color:#646566\">长度/km：</span>\r\n                            <span style=\"text-align: right;font-size:14px\">`+ length + `</span>\r\n                          </div>\r\n\r\n\r\n                          <div>\r\n                            <span class='poptable-th' style=\"color:#646566\">总投资/亿元：</span>\r\n                            <span style=\"text-align: right;font-size:14px\">`+ ztz + `</span>\r\n                          </div>\r\n\r\n                        <div>\r\n                          <span class='poptable-th' style=\"color:#646566\">勘察设计费复核：</span>\r\n                          <span style=\"text-align: right;font-size:14px\">`+ kcsjffh + `</span>\r\n                        </div>\r\n                          <div style='line-height: 24px;>\r\n                          <span class='poptable-th' style=\"color:#646566\">备注：</span>\r\n                          <span style=\"text-indent: 2rem;font-size:14px;\">`+ bz + `</span>\r\n                        </div>\r\n                      </div>\r\n                      `\r\n\r\n      // 设置弹出层位置即可出现\r\n      this.overlay.setPosition(coordinate)\r\n      document.getElementById('popup').style.display = 'block';\r\n    },\r\n\r\n    // 清除弹出框\r\n    removePopup () {\r\n      if (this.overlay) {\r\n        // 设置位置undefined可达到隐藏清除弹出框\r\n        this.overlay.setPosition(undefined)\r\n      }\r\n    },\r\n\r\n\r\n    showSummryPop () {\r\n      showSummryFlag = true;\r\n      document.getElementById('pop-summry—collapse').style.display = 'none';\r\n      document.getElementById('pop-summry').classList.remove('popsummry-down-animation')\r\n      document.getElementById('pop-summry').classList.remove('popsummry-up-animation')\r\n      document.getElementById('pop-summry').style.bottom = '-250px'\r\n      document.getElementById('pop-summry').classList.add('popsummry-up-animation')\r\n      document.getElementById('hideSummryLink').style.right = '60px'\r\n\r\n    },\r\n\r\n    hideSummryPop () {\r\n      showSummryFlag = false;\r\n      //重置，否则动画效果只触发一次\r\n      document.getElementById('pop-summry').style.bottom = '0px'\r\n      document.getElementById('pop-summry').classList.remove('popsummry-down-animation')\r\n      document.getElementById('pop-summry').classList.remove('popsummry-up-animation')\r\n      document.getElementById('pop-summry').classList.add('popsummry-down-animation');\r\n    },\r\n\r\n\r\n\r\n    //删除高亮图层\r\n    clearHighlight () {\r\n      let arr = this.mapData.getLayers().array_\r\n      let highlightLayer = {}\r\n      arr.forEach(item => {\r\n        if (item.get(\"id\") == \"highlightLayer\") {\r\n          highlightLayer = item\r\n        }\r\n      })\r\n      if (highlightLayer && highlightLayer.className_) {\r\n        this.mapData.removeLayer(highlightLayer)\r\n      }\r\n    },\r\n\r\n\r\n    addHighLightStyle (clickFeature, thisObj) {\r\n      let featureObj = [];\r\n      featureObj.push(clickFeature);\r\n      this.clearHighlight();\r\n      let highLightStyle = new Style({\r\n        fill: new Fill({\r\n          color: \"#ffff00\",\r\n        }),\r\n        stroke: new Stroke({\r\n          color: \"#ffff00\",\r\n          width: 3.5\r\n        }),\r\n      })\r\n      thisObj.highLightLayer = new VectorLayer({\r\n        name: \"dk\",\r\n        source: new VectorSource({\r\n          features: featureObj,\r\n        }),\r\n        style: (feature, solution) => {\r\n          return highLightStyle;\r\n        }\r\n      })\r\n      thisObj.highLightLayer.set(\"id\", \"highlightLayer\")\r\n      this.mapData.addLayer(thisObj.highLightLayer)\r\n\r\n    },\r\n\r\n\r\n    fechFeatureInfo: async function (url, thisObj, evt, clickLayer) {\r\n      try {\r\n        await axios.get(url, null).then(function (res) {\r\n          var objData = res.data;\r\n          if (objData && objData.features[0]) {\r\n            if (thisObj.popDetailFlag == true) {\r\n              return;\r\n            }\r\n            thisObj.popDetailFlag = true;\r\n            thisObj.addPopup(evt.coordinate, objData.features[0]);\r\n            //设置高亮图层\r\n            thisObj.addHighLightStyle(objData.features[0], thisObj, clickLayer)\r\n\r\n          } else {\r\n            if (thisObj.popDetailFlag == false) {\r\n              thisObj.removePopup();\r\n            }\r\n          }\r\n        });\r\n      } catch (error) {\r\n        console.error(error)\r\n      }\r\n    },\r\n\r\n    //卫星地图切换\r\n    // switchChange () {\r\n    //   let layerTypeSelect = this.value1;\r\n    //   //卫星地图\r\n    //   if (layerTypeSelect) {\r\n    //     if (this.wxMapLayer == null) {\r\n    //       this.wxMapLayer = new TileLayer({\r\n    //         source: new XYZ({\r\n    //           zIndex: 0,\r\n    //           crossOrigin: \"anonymous\",\r\n    //           url: 'http://t0.tianditu.gov.cn/img_w/wmts?tk=129364168580e7f0e3ff5bd759d41a75&SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=img&STYLE=default&TILEMATRIXSET=w&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&FORMAT=tiles'\r\n    //         })\r\n    //       });\r\n    //       this.mapData.addLayer(this.wxMapLayer);\r\n    //     } else {\r\n    //       this.wxMapLayer.setVisible(true)\r\n    //       this.wxMapLayer.setZIndex(1);\r\n    //       gaodeMapLayer.setVisible(true)\r\n\r\n    //     }\r\n    //   } else {\r\n    //     this.wxMapLayer.setVisible(false)\r\n    //     gaodeMapLayer.setVisible(true)\r\n    //     gaodeMapLayer.setZIndex(0);\r\n    //   }\r\n\r\n    // },\r\n\r\n    //卫星地图切换\r\n    switchChange () {\r\n      let layerTypeSelect = this.value1;\r\n      if (layerTypeSelect) {\r\n        gaodeMapLayer.setVisible(false)\r\n        wxMapLayer.setVisible(true)\r\n      } else {\r\n        gaodeMapLayer.setVisible(true)\r\n        wxMapLayer.setVisible(false)\r\n      }\r\n    },\r\n\r\n\r\n\r\n    //地图点击事件\r\n    // mapClick (evt) {\r\n    //   this.removePopup();\r\n    //   this.popDetailFlag = false;\r\n    //   let thisObj = this;\r\n    //   var viewResolution = view.getResolution();\r\n    //   for (let k = 0; k < this.vectorArray.length; k++) {\r\n    //     let item = this.vectorArray[k];\r\n    //     let vectoryTemp = item.vectorLayer;\r\n    //     let visible = vectoryTemp.values_.visible;\r\n    //     //水域图层不展示详情\r\n    //     if (this.popDetailFlag == true || item.id == 5 || !visible) {\r\n    //       continue;\r\n    //     }\r\n    //     var featureUrl = vectoryTemp.getSource().getFeatureInfoUrl(\r\n    //       evt['coordinate'],\r\n    //       viewResolution,\r\n    //       'EPSG:3857',\r\n    //       { 'INFO_FORMAT': 'application/json' }\r\n    //     );\r\n    //     if (featureUrl) {\r\n    //       this.fechFeatureInfo(featureUrl, thisObj, evt, vectoryTemp);\r\n    //     } else {\r\n    //       this.removePopup();\r\n    //     }\r\n    //   }\r\n\r\n    // },\r\n\r\n    createMarkFeature (featureParam) {\r\n      // 初始化标签要素\r\n      let cordinate = transform(\r\n        featureParam.coordinates,\r\n        \"EPSG:4548\",\r\n        \"EPSG:3857\"\r\n      )\r\n      let feature = new Feature({\r\n        geometry: new OlGeomPoint(cordinate),\r\n        img: featureParam.img,\r\n        imageType:featureParam.type,\r\n      })\r\n      // feature.setId(featureParam.id)\r\n      feature.setStyle(this.createMarkStyle(feature))\r\n      let source = new VectorSource({})\r\n      source.addFeature(feature)\r\n      let layer = new VectorLayer({\r\n        source: source\r\n      })\r\n      layer.set(\"id\", featureParam.type)\r\n      this.markVectorArray.push(layer);\r\n      this.mapData.addLayer(layer);\r\n    },\r\n\r\n    createMarkStyle (feature) {\r\n      //返回一个样式\r\n      return new OlStyleStyle({\r\n        //图标样式\r\n        image: new OlStyleIcon({\r\n          anchor: [10, 18],\r\n          scale: 0.4,\r\n          anchorOrigin: 'top-right',\r\n          anchorXUnits: 'pixels',\r\n          anchorYUnits: 'pixels',\r\n          offsetOrigin: 'bottom-left',\r\n          opacity: 0.9,\r\n          src: feature.get('img')\r\n        }),\r\n\r\n        // 设置层级\r\n        zIndex: 199999999999999999999999\r\n      });\r\n    },\r\n    addRoadMark (viewObj) {\r\n      this.imagesArr.forEach(item =>{\r\n        viewObj.createMarkFeature(item);\r\n      })\r\n    },\r\n\r\n    // 鼠标点击地图事件\r\n    mapClick (evt) {\r\n      let pixel = this.mapData.getEventPixel(evt.originalEvent);\r\n      let feature = this.mapData.forEachFeatureAtPixel(pixel,\r\n        function (feature, layer) {\r\n          return feature;\r\n        });\r\n      if (feature) {\r\n        //捕捉到要素后，弹框\r\n        let coordinate = evt.coordinate\r\n        this.addPopup(coordinate, feature)\r\n        this.addHighLightStyle(feature, this)\r\n      } else {\r\n        this.removePopup();\r\n      }\r\n    },\r\n    mapMoveend (evt) {\r\n      var zoom = this.mapData.getView().getZoom();\r\n      if (zoom > this.markMinZoom && this.markFlag == false) {\r\n        this.markFlag = true;\r\n        this.addRoadMark(this);\r\n      } else if (zoom <= this.markMinZoom && this.markFlag == true) {\r\n        this.markFlag = false;\r\n        this.markVectorArray.forEach(item => {\r\n          this.mapData.removeLayer(item);\r\n        })\r\n        this.markVectorArray = [];\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.ol-popup {\r\n  position: absolute;\r\n  width: 338px;\r\n  height: 388px;\r\n  opacity: 1;\r\n  bottom: 15px;\r\n  left: -169px;\r\n  padding: 15px 15px 15px 25px;\r\n  background: url(../../assets/images/pop_up_bg.png) no-repeat;\r\n  background-size: 100% 100%;\r\n}\r\n#popup-content ::after {\r\n  position: absolute;\r\n  bottom: -15px;\r\n  left: 148px;\r\n  content: '';\r\n  width: 40px;\r\n  height: 15px;\r\n  background: url(../../assets/images/bg_down.png) no-repeat;\r\n  background-size: 100% 100%;\r\n}\r\n.ol-popup-closer {\r\n  background: url(../../assets/images/close.png) no-repeat;\r\n  text-decoration: none;\r\n  position: absolute;\r\n  top: 25px;\r\n  width: 16px;\r\n  height: 16px;\r\n  background-size: cover;\r\n  right: 40px;\r\n  z-index: 2000;\r\n  color: white;\r\n  font-weight: bold;\r\n}\r\n\r\n.poptable-th {\r\n  text-align: left;\r\n  color: #646566;\r\n  margin-bottom: 12px;\r\n}\r\n.popTable td {\r\n  font-size: 14px;\r\n}\r\n\r\n#pop-summry {\r\n  width: 100%;\r\n  height: 378px;\r\n  bottom: 0px;\r\n  z-index: 10000;\r\n  border-radius: 40px 40px 0px 0px;\r\n  position: fixed;\r\n  border: 2px solid #fff;\r\n}\r\n::v-deep .el-checkbox {\r\n  position: relative;\r\n  display: block;\r\n\r\n  height: 26px;\r\n}\r\n.el-checkbox-group {\r\n  width: 100%;\r\n}\r\n.colorBox {\r\n  width: 48px;\r\n  height: 12px;\r\n  display: inline-block;\r\n  border-radius: 2px;\r\n  position: absolute;\r\n  right: 10px;\r\n}\r\n.lightGreen {\r\n  background-color: #b1db16;\r\n}\r\n.lightYellow {\r\n  background-color: #ebcc0c;\r\n}\r\n.lightRed {\r\n  background-color: #eb7323;\r\n}\r\n.blue {\r\n  background-color: #1979ff;\r\n}\r\n\r\n.road-selector-pop {\r\n  width: 120px;\r\n  height: 200px;\r\n  z-index: 200000;\r\n  position: fixed;\r\n  margin-left: 70px;\r\n  margin-top: 55px;\r\n  .pop-title {\r\n    font-weight: bold;\r\n    font-size: 14px;\r\n  }\r\n  .div-switch {\r\n    margin: 10px 0 20px 0;\r\n  }\r\n}\r\n.road-selector-color {\r\n  width: 100%;\r\n}\r\n.flex-div {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 25px 32px;\r\n  div {\r\n    width: 33%;\r\n  }\r\n}\r\n/* 悬浮框背景 */\r\n.div-bg {\r\n  background: rgba(255, 255, 255, 0.56);\r\n  box-shadow: 0px 10px 20px 1px rgba(135, 141, 153, 0.1);\r\n  border-radius: 12px 12px 12px 12px;\r\n  height: 270px;\r\n  padding: 20px;\r\n}\r\n.blue-title {\r\n  color: #003f97;\r\n}\r\n.el-collapse-item {\r\n  width: 260px;\r\n  height: 44px;\r\n  opacity: 1;\r\n  ::v-deep .el-collapse-item__header {\r\n    height: 44px;\r\n    padding-left: 10px;\r\n    background: rgba(255, 255, 255, 0.96);\r\n    box-shadow: 0px 5px 10px 1px rgba(180, 190, 204, 0.4);\r\n    border-radius: 8px;\r\n  }\r\n}\r\n::v-deep .el-collapse {\r\n  border: none;\r\n}\r\n::v-deep .el-collapse-item__wrap {\r\n  border-radius: 0 0 8px 8px;\r\n  margin-top: -5px;\r\n}\r\n.dot {\r\n  width: 24px;\r\n  height: 10px;\r\n  border-radius: 2px;\r\n  display: inline-block;\r\n  margin-left: 8px;\r\n}\r\n.div-switch {\r\n  width: 260px;\r\n  background: rgba(255, 255, 255, 0.96);\r\n  box-shadow: 0px 5px 10px 1px rgba(180, 190, 204, 0.4);\r\n  padding: 20px;\r\n  border-radius: 8px;\r\n  margin-bottom: 20px;\r\n  .switch-title {\r\n    font-weight: bold;\r\n    font-size: 14px;\r\n    margin-bottom: 8px;\r\n  }\r\n}\r\n</style>\r\n"]}]}