{"remainingRequest":"D:\\work\\proj\\project_manage\\project-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\work\\proj\\project_manage\\project-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\work\\proj\\project_manage\\project-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\work\\proj\\project_manage\\project-ui\\src\\views\\system\\dept\\deptDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\work\\proj\\project_manage\\project-ui\\src\\views\\system\\dept\\deptDetail.vue","mtime":1663640686839},{"path":"D:\\work\\proj\\project_manage\\project-ui\\babel.config.js","mtime":1663229169808},{"path":"D:\\work\\proj\\project_manage\\project-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1663230084016},{"path":"D:\\work\\proj\\project_manage\\project-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1663230086097},{"path":"D:\\work\\proj\\project_manage\\project-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1663230084016},{"path":"D:\\work\\proj\\project_manage\\project-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1663230087832}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJEOi93b3JrL3Byb2ovcHJvamVjdF9tYW5hZ2UvcHJvamVjdC11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQuanMiKS5kZWZhdWx0OwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7Cgp2YXIgX2RlcHQgPSByZXF1aXJlKCJAL2FwaS9zeXN0ZW0vZGVwdCIpOwoKdmFyIF92dWVUcmVlc2VsZWN0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJAcmlvcGhhZS92dWUtdHJlZXNlbGVjdCIpKTsKCnJlcXVpcmUoIkByaW9waGFlL3Z1ZS10cmVlc2VsZWN0L2Rpc3QvdnVlLXRyZWVzZWxlY3QuY3NzIik7CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgX2RlZmF1bHQgPSB7CiAgbmFtZTogIkRlcHQiLAogIGRpY3RzOiBbJ3N5c19ub3JtYWxfZGlzYWJsZScsICdzeXNfZGVwdF90eXBlJ10sCiAgY29tcG9uZW50czogewogICAgVHJlZXNlbGVjdDogX3Z1ZVRyZWVzZWxlY3QuZGVmYXVsdAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIOmBrue9qeWxggogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICAvLyDmmL7npLrmkJzntKLmnaHku7YKICAgICAgc2hvd1NlYXJjaDogdHJ1ZSwKICAgICAgLy8g6KGo5qC85qCR5pWw5o2uCiAgICAgIGRlcHRMaXN0OiBbXSwKICAgICAgLy8g6YOo6Zeo5qCR6YCJ6aG5CiAgICAgIGRlcHRPcHRpb25zOiBbXSwKICAgICAgdHJlZVByb3BzOiB7CiAgICAgICAgY2hpbGRyZW46ICdjaGlsZHJlbicsCiAgICAgICAgbGFiZWw6ICdsYWJlbCcsCiAgICAgICAgZGlzYWJsZWQ6IHRydWUKICAgICAgfSwKICAgICAgLy8g5by55Ye65bGC5qCH6aKYCiAgICAgIHRpdGxlOiAiIiwKICAgICAgLy8g5piv5ZCm5pi+56S65by55Ye65bGCCiAgICAgIG9wZW46IGZhbHNlLAogICAgICBwYXJlbnRSZWY6IG51bGwsCiAgICAgIG9yZ1R5cGU6IG51bGwsCiAgICAgIC8vIOihqOWNleWPguaVsAogICAgICBmb3JtOiB7fSwKICAgICAgLy8g6KGo5Y2V5qCh6aqMCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgcGFyZW50SWQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLkuIrnuqfpg6jpl6jkuI3og73kuLrnqboiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgZGVwdE5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLpg6jpl6jlkI3np7DkuI3og73kuLrnqboiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgb3JkZXJOdW06IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLmmL7npLrmjpLluo/kuI3og73kuLrnqboiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgZW1haWw6IFt7CiAgICAgICAgICB0eXBlOiAiZW1haWwiLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeato+ehrueahOmCrueuseWcsOWdgCIsCiAgICAgICAgICB0cmlnZ2VyOiBbImJsdXIiLCAiY2hhbmdlIl0KICAgICAgICB9XSwKICAgICAgICBwaG9uZTogW3sKICAgICAgICAgIHBhdHRlcm46IC9eMVszfDR8NXw2fDd8OHw5XVswLTldXGR7OH0kLywKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaXmraPnoa7nmoTmiYvmnLrlj7fnoIEiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7fSwKICBtZXRob2RzOiB7CiAgICAvKiog6L2s5o2i6YOo6Zeo5pWw5o2u57uT5p6EICovCiAgICBub3JtYWxpemVyOiBmdW5jdGlvbiBub3JtYWxpemVyKG5vZGUpIHsKICAgICAgaWYgKG5vZGUuY2hpbGRyZW4gJiYgIW5vZGUuY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgICAgZGVsZXRlIG5vZGUuY2hpbGRyZW47CiAgICAgIH0KCiAgICAgIHJldHVybiB7CiAgICAgICAgaWQ6IG5vZGUuZGVwdElkLAogICAgICAgIGxhYmVsOiBub2RlLmRlcHROYW1lLAogICAgICAgIGNoaWxkcmVuOiBub2RlLmNoaWxkcmVuCiAgICAgIH07CiAgICB9LAogICAgLy8g5Y+W5raI5oyJ6ZKuCiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHsKICAgICAgdGhpcy5vcGVuID0gZmFsc2U7CiAgICAgIHRoaXMucmVzZXQoKTsKICAgIH0sCiAgICAvLyDooajljZXph43nva4KICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHsKICAgICAgdGhpcy5mb3JtID0gewogICAgICAgIGRlcHRJZDogdW5kZWZpbmVkLAogICAgICAgIGRlcHRUeXBlTGlzdDogbnVsbCwKICAgICAgICBwYXJlbnRJZDogdW5kZWZpbmVkLAogICAgICAgIGRlcHROYW1lOiB1bmRlZmluZWQsCiAgICAgICAgb3JkZXJOdW06IDEsCiAgICAgICAgbGVhZGVyOiB1bmRlZmluZWQsCiAgICAgICAgcGhvbmU6IHVuZGVmaW5lZCwKICAgICAgICBlbWFpbDogdW5kZWZpbmVkLAogICAgICAgIHN0YXR1czogIjAiCiAgICAgIH07CiAgICAgIHRoaXMucmVzZXRGb3JtKCJmb3JtIik7CiAgICB9LAoKICAgIC8qKiDmkJzntKLmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZVF1ZXJ5OiBmdW5jdGlvbiBoYW5kbGVRdWVyeSgpIHsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAoKICAgIC8qKiDph43nva7mjInpkq7mk43kvZwgKi8KICAgIHJlc2V0UXVlcnk6IGZ1bmN0aW9uIHJlc2V0UXVlcnkoKSB7CiAgICAgIHRoaXMucmVzZXRGb3JtKCJxdWVyeUZvcm0iKTsKICAgICAgdGhpcy5oYW5kbGVRdWVyeSgpOwogICAgfSwKCiAgICAvKiog5paw5aKe5oyJ6ZKu5pON5L2cICovCiAgICBoYW5kbGVBZGQ6IGZ1bmN0aW9uIGhhbmRsZUFkZChkZXB0SWQsIGRlcHROYW1lKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLnJlc2V0KCk7CgogICAgICBpZiAoZGVwdElkICE9IHVuZGVmaW5lZCkgewogICAgICAgIHRoaXMuZm9ybS5wYXJlbnRJZCA9IGRlcHRJZDsKICAgICAgfQoKICAgICAgaWYgKGRlcHROYW1lICE9IHVuZGVmaW5lZCkgewogICAgICAgIHRoaXMuZm9ybS5wYXJlbnROYW1lID0gZGVwdE5hbWU7CiAgICAgIH0KCiAgICAgIHRoaXMub3BlbiA9IHRydWU7CiAgICAgIHZhciB0aXRsZV8gPSB0aGlzLmdldFRpdGlsZUJ5VHlwZSh0aGlzLm9yZ1R5cGUpOwogICAgICB0aGlzLnRpdGxlID0gIuaWsOWiniIgKyB0aXRsZV87CiAgICAgICgwLCBfZGVwdC5saXN0RGVwdCkoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzLmRlcHRPcHRpb25zID0gX3RoaXMuaGFuZGxlVHJlZShyZXNwb25zZS5kYXRhLCAiZGVwdElkIik7CiAgICAgIH0pOwogICAgfSwKCiAgICAvKiog5L+u5pS55oyJ6ZKu5pON5L2cICovCiAgICBoYW5kbGVVcGRhdGU6IGZ1bmN0aW9uIGhhbmRsZVVwZGF0ZShkZXB0SWQsIGRlcHROYW1lKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5yZXNldCgpOwogICAgICAoMCwgX2RlcHQuZ2V0RGVwdCkoZGVwdElkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMi5mb3JtID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICBfdGhpczIuZm9ybS5wYXJlbnROYW1lID0gZGVwdE5hbWU7CiAgICAgICAgX3RoaXMyLm9wZW4gPSB0cnVlOwoKICAgICAgICB2YXIgdGl0bGVfID0gX3RoaXMyLmdldFRpdGlsZUJ5VHlwZShfdGhpczIub3JnVHlwZSk7CgogICAgICAgIF90aGlzMi50aXRsZSA9ICLkv67mlLkiICsgdGl0bGVfOwogICAgICB9KTsKICAgICAgKDAsIF9kZXB0Lmxpc3REZXB0RXhjbHVkZUNoaWxkKShyb3cuZGVwdElkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMi5kZXB0T3B0aW9ucyA9IF90aGlzMi5oYW5kbGVUcmVlKHJlc3BvbnNlLmRhdGEsICJkZXB0SWQiKTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8qKiDmj5DkuqTmjInpkq4gKi8KICAgIHN1Ym1pdEZvcm06IGZ1bmN0aW9uIHN1Ym1pdEZvcm0oKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmc1siZm9ybSJdLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgaWYgKF90aGlzMy5mb3JtLmRlcHRJZCAhPSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgKDAsIF9kZXB0LnVwZGF0ZURlcHQpKF90aGlzMy5mb3JtKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgIF90aGlzMy4kbW9kYWwubXNnU3VjY2Vzcygi5L+u5pS55oiQ5YqfIik7CgogICAgICAgICAgICAgIF90aGlzMy5vcGVuID0gZmFsc2U7CgogICAgICAgICAgICAgIF90aGlzMy5wYXJlbnRSZWYuZ2V0VHJlZXNlbGVjdCgpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICgwLCBfZGVwdC5hZGREZXB0KShfdGhpczMuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICBfdGhpczMuJG1vZGFsLm1zZ1N1Y2Nlc3MoIuaWsOWinuaIkOWKnyIpOwoKICAgICAgICAgICAgICBfdGhpczMub3BlbiA9IGZhbHNlOwoKICAgICAgICAgICAgICBfdGhpczMucGFyZW50UmVmLmdldFRyZWVzZWxlY3QoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgLyoqIOWIoOmZpOaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlRGVsZXRlOiBmdW5jdGlvbiBoYW5kbGVEZWxldGUoZGF0YSkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHRoaXMuJG1vZGFsLmNvbmZpcm0oJ+aYr+WQpuehruiupOWIoOmZpOWQjeensOS4uiInICsgZGF0YS5sYWJlbCArICci55qE5pWw5o2u6aG577yfJykudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuICgwLCBfZGVwdC5kZWxEZXB0KShkYXRhLmlkKTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgLy/liLfmlrDmoJHnu5PmnoTmlbDmja4KICAgICAgICBfdGhpczQucGFyZW50UmVmLmdldFRyZWVzZWxlY3QoKTsKCiAgICAgICAgX3RoaXM0LiRtb2RhbC5tc2dTdWNjZXNzKCLliKDpmaTmiJDlip8iKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge30pOwogICAgfSwKICAgIGdldFRpdGlsZUJ5VHlwZTogZnVuY3Rpb24gZ2V0VGl0aWxlQnlUeXBlKCkgewogICAgICBpZiAodGhpcy5vcmdUeXBlID09ICdPJykgewogICAgICAgIHJldHVybiAi5Y2V5L2NIjsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIumDqOmXqCI7CiAgICAgIH0KICAgIH0KICB9Cn07CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"mappings":";;;;;;;;;AA4GA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAEA;EACAA,YADA;EAEAC,8CAFA;EAGAC;IAAAC;EAAA,CAHA;EAIAC,IAJA,kBAIA;IACA;MACA;MACAC,aAFA;MAGA;MACAC,gBAJA;MAKA;MACAC,YANA;MAOA;MACAC,eARA;MAUAC;QACAC,oBADA;QAEAC,cAFA;QAGAC;MAHA,CAVA;MAgBA;MACAC,SAjBA;MAkBA;MACAC,WAnBA;MAqBAC,eArBA;MAuBAC,aAvBA;MA0BA;MACAC,QA3BA;MA4BA;MACAC;QACAC,WACA;UAAAC;UAAAC;UAAAC;QAAA,CADA,CADA;QAIAC,WACA;UAAAH;UAAAC;UAAAC;QAAA,CADA,CAJA;QAOAE,WACA;UAAAJ;UAAAC;UAAAC;QAAA,CADA,CAPA;QAUAG,QACA;UACAC,aADA;UAEAL,qBAFA;UAGAC;QAHA,CADA,CAVA;QAiBAK,QACA;UACAC,uCADA;UAEAP,qBAFA;UAGAC;QAHA,CADA;MAjBA;IA7BA;EAuDA,CA5DA;EA6DAO,OA7DA,qBA6DA,CAEA,CA/DA;EAgEAC;IAEA;IACAC,UAHA,sBAGAC,IAHA,EAGA;MACA;QACA;MACA;;MACA;QACAC,eADA;QAEAtB,oBAFA;QAGAD;MAHA;IAKA,CAZA;IAaA;IACAwB,MAdA,oBAcA;MACA;MACA;IACA,CAjBA;IAkBA;IACAC,KAnBA,mBAmBA;MACA;QACAC,iBADA;QAEAC,kBAFA;QAGAlB,mBAHA;QAIAI,mBAJA;QAKAC,WALA;QAMAc,iBANA;QAOAX,gBAPA;QAQAF,gBARA;QASAc;MATA;MAWA;IACA,CAhCA;;IAiCA;IACAC,WAlCA,yBAkCA;MACA;IACA,CApCA;;IAqCA;IACAC,UAtCA,wBAsCA;MACA;MACA;IACA,CAzCA;;IA0CA;IACAC,SA3CA,qBA2CAN,MA3CA,EA2CAb,QA3CA,EA2CA;MAAA;;MACA;;MACA;QACA;MACA;;MACA;QACA;MACA;;MACA;MACA;MACA;MACA;QACA;MACA,CAFA;IAGA,CAzDA;;IA2DA;IACAoB,YA5DA,wBA4DAP,MA5DA,EA4DAb,QA5DA,EA4DA;MAAA;;MACA;MACA;QACA;QACA;QACA;;QACA;;QACA;MACA,CANA;MAOA;QACA;MACA,CAFA;IAGA,CAxEA;;IAyEA;IACAqB;MAAA;;MACA;QACA;UACA;YACA;cACA;;cACA;;cACA;YACA,CAJA;UAKA,CANA,MAMA;YACA;cACA;;cACA;;cACA;YAGA,CANA;UAOA;QACA;MACA,CAlBA;IAmBA,CA9FA;;IA+FA;IACAC,YAhGA,wBAgGAzC,IAhGA,EAgGA;MAAA;;MACA;QACA;MACA,CAFA,EAEA0C,IAFA,CAEA;QACA;QACA;;QACA;MACA,CANA,EAMAC,KANA,CAMA,cANA;IAOA,CAxGA;IA0GAC,eA1GA,6BA0GA;MACA;QACA;MACA,CAFA,MAEA;QACA;MACA;IACA;EAhHA;AAhEA,C","names":["name","dicts","components","Treeselect","data","loading","showSearch","deptList","deptOptions","treeProps","children","label","disabled","title","open","parentRef","orgType","form","rules","parentId","required","message","trigger","deptName","orderNum","email","type","phone","pattern","created","methods","normalizer","node","id","cancel","reset","deptId","deptTypeList","leader","status","handleQuery","resetQuery","handleAdd","handleUpdate","submitForm","handleDelete","then","catch","getTitileByType"],"sourceRoot":"src/views/system/dept","sources":["deptDetail.vue"],"sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <!-- 添加或修改部门对话框 -->\r\n    <el-dialog :title=\"title\" :visible.sync=\"open\" width=\"600px\" append-to-body>\r\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"80px\">\r\n        <el-row>\r\n          <el-col :span=\"24\" v-if=\"form.parentId !== 0\">\r\n            <el-form-item label=\"上级名称\" prop=\"parentName\">\r\n              <el-input\r\n                disabled\r\n                v-model=\"form.parentName\"\r\n                placeholder=\"请输入节点名称\"\r\n              />\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row v-if=\"orgType == 'O'\">\r\n          <el-col :span=\"24\">\r\n            <el-form-item label=\"单位类型\" prop=\"deptTypeList\">\r\n              <el-select\r\n                style=\"width: 480px\"\r\n                multiple\r\n                v-model=\"form.deptTypeList\"\r\n                placeholder=\"请选择单位类型\"\r\n                clearable\r\n              >\r\n                <el-option\r\n                  v-for=\"dict in dict.type.sys_dept_type\"\r\n                  :key=\"dict.value\"\r\n                  :label=\"dict.label\"\r\n                  :value=\"dict.value\"\r\n                />\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"24\">\r\n            <el-form-item label=\"节点名称\" prop=\"deptName\">\r\n              <el-input v-model=\"form.deptName\" placeholder=\"请输入节点名称\" />\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"24\">\r\n            <el-form-item label=\"显示排序\" prop=\"orderNum\">\r\n              <el-input-number\r\n                style=\"width: 480px\"\r\n                v-model=\"form.orderNum\"\r\n                controls-position=\"right\"\r\n                :min=\"0\"\r\n              />\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <!-- <el-row>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"负责人\" prop=\"leader\">\r\n              <el-input\r\n                v-model=\"form.leader\"\r\n                placeholder=\"请输入负责人\"\r\n                maxlength=\"20\"\r\n              />\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"联系电话\" prop=\"phone\">\r\n              <el-input\r\n                v-model=\"form.phone\"\r\n                placeholder=\"请输入联系电话\"\r\n                maxlength=\"11\"\r\n              />\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"邮箱\" prop=\"email\">\r\n              <el-input\r\n                v-model=\"form.email\"\r\n                placeholder=\"请输入邮箱\"\r\n                maxlength=\"50\"\r\n              />\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"部门状态\">\r\n              <el-radio-group v-model=\"form.status\">\r\n                <el-radio\r\n                  v-for=\"dict in dict.type.sys_normal_disable\"\r\n                  :key=\"dict.value\"\r\n                  :label=\"dict.value\"\r\n                  >{{ dict.label }}</el-radio\r\n                >\r\n              </el-radio-group>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row> -->\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"submitForm\">确 定</el-button>\r\n        <el-button @click=\"cancel\">取 消</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { listDept, getDept, delDept, addDept, updateDept, listDeptExcludeChild } from \"@/api/system/dept\";\r\nimport Treeselect from \"@riophae/vue-treeselect\";\r\nimport \"@riophae/vue-treeselect/dist/vue-treeselect.css\";\r\n\r\nexport default {\r\n  name: \"Dept\",\r\n  dicts: ['sys_normal_disable', 'sys_dept_type'],\r\n  components: { Treeselect },\r\n  data () {\r\n    return {\r\n      // 遮罩层\r\n      loading: true,\r\n      // 显示搜索条件\r\n      showSearch: true,\r\n      // 表格树数据\r\n      deptList: [],\r\n      // 部门树选项\r\n      deptOptions: [],\r\n\r\n      treeProps: {\r\n        children: 'children',\r\n        label: 'label',\r\n        disabled: true\r\n      },\r\n\r\n      // 弹出层标题\r\n      title: \"\",\r\n      // 是否显示弹出层\r\n      open: false,\r\n\r\n      parentRef: null,\r\n\r\n      orgType: null,\r\n\r\n\r\n      // 表单参数\r\n      form: {},\r\n      // 表单校验\r\n      rules: {\r\n        parentId: [\r\n          { required: true, message: \"上级部门不能为空\", trigger: \"blur\" }\r\n        ],\r\n        deptName: [\r\n          { required: true, message: \"部门名称不能为空\", trigger: \"blur\" }\r\n        ],\r\n        orderNum: [\r\n          { required: true, message: \"显示排序不能为空\", trigger: \"blur\" }\r\n        ],\r\n        email: [\r\n          {\r\n            type: \"email\",\r\n            message: \"请输入正确的邮箱地址\",\r\n            trigger: [\"blur\", \"change\"]\r\n          }\r\n        ],\r\n        phone: [\r\n          {\r\n            pattern: /^1[3|4|5|6|7|8|9][0-9]\\d{8}$/,\r\n            message: \"请输入正确的手机号码\",\r\n            trigger: \"blur\"\r\n          }\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  created () {\r\n\r\n  },\r\n  methods: {\r\n\r\n    /** 转换部门数据结构 */\r\n    normalizer (node) {\r\n      if (node.children && !node.children.length) {\r\n        delete node.children;\r\n      }\r\n      return {\r\n        id: node.deptId,\r\n        label: node.deptName,\r\n        children: node.children\r\n      };\r\n    },\r\n    // 取消按钮\r\n    cancel () {\r\n      this.open = false;\r\n      this.reset();\r\n    },\r\n    // 表单重置\r\n    reset () {\r\n      this.form = {\r\n        deptId: undefined,\r\n        deptTypeList: null,\r\n        parentId: undefined,\r\n        deptName: undefined,\r\n        orderNum: 1,\r\n        leader: undefined,\r\n        phone: undefined,\r\n        email: undefined,\r\n        status: \"0\"\r\n      };\r\n      this.resetForm(\"form\");\r\n    },\r\n    /** 搜索按钮操作 */\r\n    handleQuery () {\r\n      this.getList();\r\n    },\r\n    /** 重置按钮操作 */\r\n    resetQuery () {\r\n      this.resetForm(\"queryForm\");\r\n      this.handleQuery();\r\n    },\r\n    /** 新增按钮操作 */\r\n    handleAdd (deptId, deptName) {\r\n      this.reset();\r\n      if (deptId != undefined) {\r\n        this.form.parentId = deptId;\r\n      }\r\n      if (deptName != undefined) {\r\n        this.form.parentName = deptName;\r\n      }\r\n      this.open = true;\r\n      var title_ = this.getTitileByType(this.orgType);\r\n      this.title = \"新增\" + title_;\r\n      listDept().then(response => {\r\n        this.deptOptions = this.handleTree(response.data, \"deptId\");\r\n      });\r\n    },\r\n\r\n    /** 修改按钮操作 */\r\n    handleUpdate (deptId, deptName) {\r\n      this.reset();\r\n      getDept(deptId).then(response => {\r\n        this.form = response.data;\r\n        this.form.parentName = deptName;\r\n        this.open = true;\r\n        var title_ = this.getTitileByType(this.orgType);\r\n        this.title = \"修改\" + title_;\r\n      });\r\n      listDeptExcludeChild(row.deptId).then(response => {\r\n        this.deptOptions = this.handleTree(response.data, \"deptId\");\r\n      });\r\n    },\r\n    /** 提交按钮 */\r\n    submitForm: function () {\r\n      this.$refs[\"form\"].validate(valid => {\r\n        if (valid) {\r\n          if (this.form.deptId != undefined) {\r\n            updateDept(this.form).then(response => {\r\n              this.$modal.msgSuccess(\"修改成功\");\r\n              this.open = false;\r\n              this.parentRef.getTreeselect();\r\n            });\r\n          } else {\r\n            addDept(this.form).then(response => {\r\n              this.$modal.msgSuccess(\"新增成功\");\r\n              this.open = false;\r\n              this.parentRef.getTreeselect();\r\n\r\n\r\n            });\r\n          }\r\n        }\r\n      });\r\n    },\r\n    /** 删除按钮操作 */\r\n    handleDelete (data) {\r\n      this.$modal.confirm('是否确认删除名称为\"' + data.label + '\"的数据项？').then(function () {\r\n        return delDept(data.id);\r\n      }).then(() => {\r\n        //刷新树结构数据\r\n        this.parentRef.getTreeselect();\r\n        this.$modal.msgSuccess(\"删除成功\");\r\n      }).catch(() => { });\r\n    },\r\n\r\n    getTitileByType () {\r\n      if (this.orgType == 'O') {\r\n        return \"单位\"\r\n      } else {\r\n        return \"部门\"\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n"]}]}