{"remainingRequest":"D:\\work\\proj\\project_manage\\project-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\work\\proj\\project_manage\\project-ui\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\work\\proj\\project_manage\\project-ui\\src\\directive\\permission\\hasRole.js","dependencies":[{"path":"D:\\work\\proj\\project_manage\\project-ui\\src\\directive\\permission\\hasRole.js","mtime":1663229169935},{"path":"D:\\work\\proj\\project_manage\\project-ui\\babel.config.js","mtime":1663229169808},{"path":"D:\\work\\proj\\project_manage\\project-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1663230084016},{"path":"D:\\work\\proj\\project_manage\\project-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1663230086097},{"path":"D:\\work\\proj\\project_manage\\project-ui\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js","mtime":1663230084575}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJEOi93b3JrL3Byb2ovcHJvamVjdF9tYW5hZ2UvcHJvamVjdC11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQuanMiKS5kZWZhdWx0OwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiKTsKCnZhciBfc3RvcmUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkAvc3RvcmUiKSk7CgovKioNCiogdi1oYXNSb2xlIOinkuiJsuadg+mZkOWkhOeQhg0KKiBDb3B5cmlnaHQgKGMpIDIwMTkgcnVveWkNCiovCnZhciBfZGVmYXVsdCA9IHsKICBpbnNlcnRlZDogZnVuY3Rpb24gaW5zZXJ0ZWQoZWwsIGJpbmRpbmcsIHZub2RlKSB7CiAgICB2YXIgdmFsdWUgPSBiaW5kaW5nLnZhbHVlOwogICAgdmFyIHN1cGVyX2FkbWluID0gImFkbWluIjsKICAgIHZhciByb2xlcyA9IF9zdG9yZS5kZWZhdWx0LmdldHRlcnMgJiYgX3N0b3JlLmRlZmF1bHQuZ2V0dGVycy5yb2xlczsKCiAgICBpZiAodmFsdWUgJiYgdmFsdWUgaW5zdGFuY2VvZiBBcnJheSAmJiB2YWx1ZS5sZW5ndGggPiAwKSB7CiAgICAgIHZhciByb2xlRmxhZyA9IHZhbHVlOwogICAgICB2YXIgaGFzUm9sZSA9IHJvbGVzLnNvbWUoZnVuY3Rpb24gKHJvbGUpIHsKICAgICAgICByZXR1cm4gc3VwZXJfYWRtaW4gPT09IHJvbGUgfHwgcm9sZUZsYWcuaW5jbHVkZXMocm9sZSk7CiAgICAgIH0pOwoKICAgICAgaWYgKCFoYXNSb2xlKSB7CiAgICAgICAgZWwucGFyZW50Tm9kZSAmJiBlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCJcdThCRjdcdThCQkVcdTdGNkVcdTg5RDJcdTgyNzJcdTY3NDNcdTk2NTBcdTY4MDdcdTdCN0VcdTUwM0NcIiIpOwogICAgfQogIH0KfTsKZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7"},{"version":3,"names":["inserted","el","binding","vnode","value","super_admin","roles","store","getters","Array","length","roleFlag","hasRole","some","role","includes","parentNode","removeChild","Error"],"sources":["D:/work/proj/project_manage/project-ui/src/directive/permission/hasRole.js"],"sourcesContent":[" /**\r\n * v-hasRole 角色权限处理\r\n * Copyright (c) 2019 ruoyi\r\n */\r\n \r\nimport store from '@/store'\r\n\r\nexport default {\r\n  inserted(el, binding, vnode) {\r\n    const { value } = binding\r\n    const super_admin = \"admin\";\r\n    const roles = store.getters && store.getters.roles\r\n\r\n    if (value && value instanceof Array && value.length > 0) {\r\n      const roleFlag = value\r\n\r\n      const hasRole = roles.some(role => {\r\n        return super_admin === role || roleFlag.includes(role)\r\n      })\r\n\r\n      if (!hasRole) {\r\n        el.parentNode && el.parentNode.removeChild(el)\r\n      }\r\n    } else {\r\n      throw new Error(`请设置角色权限标签值\"`)\r\n    }\r\n  }\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;;;;AAKA;;AALC;AACD;AACA;AACA;eAIe;EACbA,QADa,oBACJC,EADI,EACAC,OADA,EACSC,KADT,EACgB;IAC3B,IAAQC,KAAR,GAAkBF,OAAlB,CAAQE,KAAR;IACA,IAAMC,WAAW,GAAG,OAApB;IACA,IAAMC,KAAK,GAAGC,cAAA,CAAMC,OAAN,IAAiBD,cAAA,CAAMC,OAAN,CAAcF,KAA7C;;IAEA,IAAIF,KAAK,IAAIA,KAAK,YAAYK,KAA1B,IAAmCL,KAAK,CAACM,MAAN,GAAe,CAAtD,EAAyD;MACvD,IAAMC,QAAQ,GAAGP,KAAjB;MAEA,IAAMQ,OAAO,GAAGN,KAAK,CAACO,IAAN,CAAW,UAAAC,IAAI,EAAI;QACjC,OAAOT,WAAW,KAAKS,IAAhB,IAAwBH,QAAQ,CAACI,QAAT,CAAkBD,IAAlB,CAA/B;MACD,CAFe,CAAhB;;MAIA,IAAI,CAACF,OAAL,EAAc;QACZX,EAAE,CAACe,UAAH,IAAiBf,EAAE,CAACe,UAAH,CAAcC,WAAd,CAA0BhB,EAA1B,CAAjB;MACD;IACF,CAVD,MAUO;MACL,MAAM,IAAIiB,KAAJ,kEAAN;IACD;EACF;AAnBY,C"}]}