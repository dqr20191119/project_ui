{"remainingRequest":"D:\\work\\proj\\project_manage\\project-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\work\\proj\\project_manage\\project-ui\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\work\\proj\\project_manage\\project-ui\\src\\utils\\generator\\js.js","dependencies":[{"path":"D:\\work\\proj\\project_manage\\project-ui\\src\\utils\\generator\\js.js","mtime":1663229169950},{"path":"D:\\work\\proj\\project_manage\\project-ui\\babel.config.js","mtime":1663229169808},{"path":"D:\\work\\proj\\project_manage\\project-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1663230084016},{"path":"D:\\work\\proj\\project_manage\\project-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1663230086097},{"path":"D:\\work\\proj\\project_manage\\project-ui\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js","mtime":1663230084575}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLm1ha2VVcEpzID0gbWFrZVVwSnM7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiKTsKCnZhciBfdXRpbCA9IHJlcXVpcmUoInV0aWwiKTsKCnZhciBfaW5kZXggPSByZXF1aXJlKCJAL3V0aWxzL2luZGV4Iik7Cgp2YXIgX2NvbmZpZyA9IHJlcXVpcmUoIi4vY29uZmlnIik7Cgp2YXIgdW5pdHMgPSB7CiAgS0I6ICcxMDI0JywKICBNQjogJzEwMjQgLyAxMDI0JywKICBHQjogJzEwMjQgLyAxMDI0IC8gMTAyNCcKfTsKdmFyIGNvbmZHbG9iYWw7CnZhciBpbmhlcml0QXR0cnMgPSB7CiAgZmlsZTogJycsCiAgZGlhbG9nOiAnaW5oZXJpdEF0dHJzOiBmYWxzZSwnCn07CgpmdW5jdGlvbiBtYWtlVXBKcyhjb25mLCB0eXBlKSB7CiAgY29uZkdsb2JhbCA9IGNvbmYgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGNvbmYpKTsKICB2YXIgZGF0YUxpc3QgPSBbXTsKICB2YXIgcnVsZUxpc3QgPSBbXTsKICB2YXIgb3B0aW9uc0xpc3QgPSBbXTsKICB2YXIgcHJvcHNMaXN0ID0gW107CiAgdmFyIG1ldGhvZExpc3QgPSBtaXhpbk1ldGhvZCh0eXBlKTsKICB2YXIgdXBsb2FkVmFyTGlzdCA9IFtdOwogIGNvbmYuZmllbGRzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7CiAgICBidWlsZEF0dHJpYnV0ZXMoZWwsIGRhdGFMaXN0LCBydWxlTGlzdCwgb3B0aW9uc0xpc3QsIG1ldGhvZExpc3QsIHByb3BzTGlzdCwgdXBsb2FkVmFyTGlzdCk7CiAgfSk7CiAgdmFyIHNjcmlwdCA9IGJ1aWxkZXhwb3J0KGNvbmYsIHR5cGUsIGRhdGFMaXN0LmpvaW4oJ1xuJyksIHJ1bGVMaXN0LmpvaW4oJ1xuJyksIG9wdGlvbnNMaXN0LmpvaW4oJ1xuJyksIHVwbG9hZFZhckxpc3Quam9pbignXG4nKSwgcHJvcHNMaXN0LmpvaW4oJ1xuJyksIG1ldGhvZExpc3Quam9pbignXG4nKSk7CiAgY29uZkdsb2JhbCA9IG51bGw7CiAgcmV0dXJuIHNjcmlwdDsKfQoKZnVuY3Rpb24gYnVpbGRBdHRyaWJ1dGVzKGVsLCBkYXRhTGlzdCwgcnVsZUxpc3QsIG9wdGlvbnNMaXN0LCBtZXRob2RMaXN0LCBwcm9wc0xpc3QsIHVwbG9hZFZhckxpc3QpIHsKICBidWlsZERhdGEoZWwsIGRhdGFMaXN0KTsKICBidWlsZFJ1bGVzKGVsLCBydWxlTGlzdCk7CgogIGlmIChlbC5vcHRpb25zICYmIGVsLm9wdGlvbnMubGVuZ3RoKSB7CiAgICBidWlsZE9wdGlvbnMoZWwsIG9wdGlvbnNMaXN0KTsKCiAgICBpZiAoZWwuZGF0YVR5cGUgPT09ICdkeW5hbWljJykgewogICAgICB2YXIgbW9kZWwgPSAiIi5jb25jYXQoZWwudk1vZGVsLCAiT3B0aW9ucyIpOwogICAgICB2YXIgb3B0aW9ucyA9ICgwLCBfaW5kZXgudGl0bGVDYXNlKShtb2RlbCk7CiAgICAgIGJ1aWxkT3B0aW9uTWV0aG9kKCJnZXQiLmNvbmNhdChvcHRpb25zKSwgbW9kZWwsIG1ldGhvZExpc3QpOwogICAgfQogIH0KCiAgaWYgKGVsLnByb3BzICYmIGVsLnByb3BzLnByb3BzKSB7CiAgICBidWlsZFByb3BzKGVsLCBwcm9wc0xpc3QpOwogIH0KCiAgaWYgKGVsLmFjdGlvbiAmJiBlbC50YWcgPT09ICdlbC11cGxvYWQnKSB7CiAgICB1cGxvYWRWYXJMaXN0LnB1c2goIiIuY29uY2F0KGVsLnZNb2RlbCwgIkFjdGlvbjogJyIpLmNvbmNhdChlbC5hY3Rpb24sICInLFxuICAgICAgIikuY29uY2F0KGVsLnZNb2RlbCwgImZpbGVMaXN0OiBbXSwiKSk7CiAgICBtZXRob2RMaXN0LnB1c2goYnVpbGRCZWZvcmVVcGxvYWQoZWwpKTsKCiAgICBpZiAoIWVsWydhdXRvLXVwbG9hZCddKSB7CiAgICAgIG1ldGhvZExpc3QucHVzaChidWlsZFN1Ym1pdFVwbG9hZChlbCkpOwogICAgfQogIH0KCiAgaWYgKGVsLmNoaWxkcmVuKSB7CiAgICBlbC5jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChlbDIpIHsKICAgICAgYnVpbGRBdHRyaWJ1dGVzKGVsMiwgZGF0YUxpc3QsIHJ1bGVMaXN0LCBvcHRpb25zTGlzdCwgbWV0aG9kTGlzdCwgcHJvcHNMaXN0LCB1cGxvYWRWYXJMaXN0KTsKICAgIH0pOwogIH0KfQoKZnVuY3Rpb24gbWl4aW5NZXRob2QodHlwZSkgewogIHZhciBsaXN0ID0gW107CiAgdmFyIG1pbnhpbnMgPSB7CiAgICBmaWxlOiBjb25mR2xvYmFsLmZvcm1CdG5zID8gewogICAgICBzdWJtaXRGb3JtOiAic3VibWl0Rm9ybSgpIHtcbiAgICAgICAgdGhpcy4kcmVmc1snIi5jb25jYXQoY29uZkdsb2JhbC5mb3JtUmVmLCAiJ10udmFsaWRhdGUodmFsaWQgPT4ge1xuICAgICAgICAgIGlmKCF2YWxpZCkgcmV0dXJuXG4gICAgICAgICAgLy8gVE9ETyBcdTYzRDBcdTRFQTRcdTg4NjhcdTUzNTVcbiAgICAgICAgfSlcbiAgICAgIH0sIiksCiAgICAgIHJlc2V0Rm9ybTogInJlc2V0Rm9ybSgpIHtcbiAgICAgICAgdGhpcy4kcmVmc1snIi5jb25jYXQoY29uZkdsb2JhbC5mb3JtUmVmLCAiJ10ucmVzZXRGaWVsZHMoKVxuICAgICAgfSwiKQogICAgfSA6IG51bGwsCiAgICBkaWFsb2c6IHsKICAgICAgb25PcGVuOiAnb25PcGVuKCkge30sJywKICAgICAgb25DbG9zZTogIm9uQ2xvc2UoKSB7XG4gICAgICAgIHRoaXMuJHJlZnNbJyIuY29uY2F0KGNvbmZHbG9iYWwuZm9ybVJlZiwgIiddLnJlc2V0RmllbGRzKClcbiAgICAgIH0sIiksCiAgICAgIGNsb3NlOiAiY2xvc2UoKSB7XG4gICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTp2aXNpYmxlJywgZmFsc2UpXG4gICAgICB9LCIsCiAgICAgIGhhbmRsZUNvbmZpcm06ICJoYW5kbGVDb25maXJtKCkge1xuICAgICAgICB0aGlzLiRyZWZzWyciLmNvbmNhdChjb25mR2xvYmFsLmZvcm1SZWYsICInXS52YWxpZGF0ZSh2YWxpZCA9PiB7XG4gICAgICAgICAgaWYoIXZhbGlkKSByZXR1cm5cbiAgICAgICAgICB0aGlzLmNsb3NlKClcbiAgICAgICAgfSlcbiAgICAgIH0sIikKICAgIH0KICB9OwogIHZhciBtZXRob2RzID0gbWlueGluc1t0eXBlXTsKCiAgaWYgKG1ldGhvZHMpIHsKICAgIE9iamVjdC5rZXlzKG1ldGhvZHMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICBsaXN0LnB1c2gobWV0aG9kc1trZXldKTsKICAgIH0pOwogIH0KCiAgcmV0dXJuIGxpc3Q7Cn0KCmZ1bmN0aW9uIGJ1aWxkRGF0YShjb25mLCBkYXRhTGlzdCkgewogIGlmIChjb25mLnZNb2RlbCA9PT0gdW5kZWZpbmVkKSByZXR1cm47CiAgdmFyIGRlZmF1bHRWYWx1ZTsKCiAgaWYgKHR5cGVvZiBjb25mLmRlZmF1bHRWYWx1ZSA9PT0gJ3N0cmluZycgJiYgIWNvbmYubXVsdGlwbGUpIHsKICAgIGRlZmF1bHRWYWx1ZSA9ICInIi5jb25jYXQoY29uZi5kZWZhdWx0VmFsdWUsICInIik7CiAgfSBlbHNlIHsKICAgIGRlZmF1bHRWYWx1ZSA9ICIiLmNvbmNhdChKU09OLnN0cmluZ2lmeShjb25mLmRlZmF1bHRWYWx1ZSkpOwogIH0KCiAgZGF0YUxpc3QucHVzaCgiIi5jb25jYXQoY29uZi52TW9kZWwsICI6ICIpLmNvbmNhdChkZWZhdWx0VmFsdWUsICIsIikpOwp9CgpmdW5jdGlvbiBidWlsZFJ1bGVzKGNvbmYsIHJ1bGVMaXN0KSB7CiAgaWYgKGNvbmYudk1vZGVsID09PSB1bmRlZmluZWQpIHJldHVybjsKICB2YXIgcnVsZXMgPSBbXTsKCiAgaWYgKF9jb25maWcudHJpZ2dlcltjb25mLnRhZ10pIHsKICAgIGlmIChjb25mLnJlcXVpcmVkKSB7CiAgICAgIHZhciB0eXBlID0gKDAsIF91dGlsLmlzQXJyYXkpKGNvbmYuZGVmYXVsdFZhbHVlKSA/ICd0eXBlOiBcJ2FycmF5XCcsJyA6ICcnOwogICAgICB2YXIgbWVzc2FnZSA9ICgwLCBfdXRpbC5pc0FycmF5KShjb25mLmRlZmF1bHRWYWx1ZSkgPyAiXHU4QkY3XHU4MUYzXHU1QzExXHU5MDA5XHU2MkU5XHU0RTAwXHU0RTJBIi5jb25jYXQoY29uZi52TW9kZWwpIDogY29uZi5wbGFjZWhvbGRlcjsKICAgICAgaWYgKG1lc3NhZ2UgPT09IHVuZGVmaW5lZCkgbWVzc2FnZSA9ICIiLmNvbmNhdChjb25mLmxhYmVsLCAiXHU0RTBEXHU4MEZEXHU0RTNBXHU3QTdBIik7CiAgICAgIHJ1bGVzLnB1c2goInsgcmVxdWlyZWQ6IHRydWUsICIuY29uY2F0KHR5cGUsICIgbWVzc2FnZTogJyIpLmNvbmNhdChtZXNzYWdlLCAiJywgdHJpZ2dlcjogJyIpLmNvbmNhdChfY29uZmlnLnRyaWdnZXJbY29uZi50YWddLCAiJyB9IikpOwogICAgfQoKICAgIGlmIChjb25mLnJlZ0xpc3QgJiYgKDAsIF91dGlsLmlzQXJyYXkpKGNvbmYucmVnTGlzdCkpIHsKICAgICAgY29uZi5yZWdMaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBpZiAoaXRlbS5wYXR0ZXJuKSB7CiAgICAgICAgICBydWxlcy5wdXNoKCJ7IHBhdHRlcm46ICIuY29uY2F0KGV2YWwoaXRlbS5wYXR0ZXJuKSwgIiwgbWVzc2FnZTogJyIpLmNvbmNhdChpdGVtLm1lc3NhZ2UsICInLCB0cmlnZ2VyOiAnIikuY29uY2F0KF9jb25maWcudHJpZ2dlcltjb25mLnRhZ10sICInIH0iKSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KCiAgICBydWxlTGlzdC5wdXNoKCIiLmNvbmNhdChjb25mLnZNb2RlbCwgIjogWyIpLmNvbmNhdChydWxlcy5qb2luKCcsJyksICJdLCIpKTsKICB9Cn0KCmZ1bmN0aW9uIGJ1aWxkT3B0aW9ucyhjb25mLCBvcHRpb25zTGlzdCkgewogIGlmIChjb25mLnZNb2RlbCA9PT0gdW5kZWZpbmVkKSByZXR1cm47CgogIGlmIChjb25mLmRhdGFUeXBlID09PSAnZHluYW1pYycpIHsKICAgIGNvbmYub3B0aW9ucyA9IFtdOwogIH0KCiAgdmFyIHN0ciA9ICIiLmNvbmNhdChjb25mLnZNb2RlbCwgIk9wdGlvbnM6ICIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShjb25mLm9wdGlvbnMpLCAiLCIpOwogIG9wdGlvbnNMaXN0LnB1c2goc3RyKTsKfQoKZnVuY3Rpb24gYnVpbGRQcm9wcyhjb25mLCBwcm9wc0xpc3QpIHsKICBpZiAoY29uZi5kYXRhVHlwZSA9PT0gJ2R5bmFtaWMnKSB7CiAgICBjb25mLnZhbHVlS2V5ICE9PSAndmFsdWUnICYmIChjb25mLnByb3BzLnByb3BzLnZhbHVlID0gY29uZi52YWx1ZUtleSk7CiAgICBjb25mLmxhYmVsS2V5ICE9PSAnbGFiZWwnICYmIChjb25mLnByb3BzLnByb3BzLmxhYmVsID0gY29uZi5sYWJlbEtleSk7CiAgICBjb25mLmNoaWxkcmVuS2V5ICE9PSAnY2hpbGRyZW4nICYmIChjb25mLnByb3BzLnByb3BzLmNoaWxkcmVuID0gY29uZi5jaGlsZHJlbktleSk7CiAgfQoKICB2YXIgc3RyID0gIiIuY29uY2F0KGNvbmYudk1vZGVsLCAiUHJvcHM6ICIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShjb25mLnByb3BzLnByb3BzKSwgIiwiKTsKICBwcm9wc0xpc3QucHVzaChzdHIpOwp9CgpmdW5jdGlvbiBidWlsZEJlZm9yZVVwbG9hZChjb25mKSB7CiAgdmFyIHVuaXROdW0gPSB1bml0c1tjb25mLnNpemVVbml0XTsKICB2YXIgcmlnaHRTaXplQ29kZSA9ICcnOwogIHZhciBhY2NlcHRDb2RlID0gJyc7CiAgdmFyIHJldHVybkxpc3QgPSBbXTsKCiAgaWYgKGNvbmYuZmlsZVNpemUpIHsKICAgIHJpZ2h0U2l6ZUNvZGUgPSAibGV0IGlzUmlnaHRTaXplID0gZmlsZS5zaXplIC8gIi5jb25jYXQodW5pdE51bSwgIiA8ICIpLmNvbmNhdChjb25mLmZpbGVTaXplLCAiXG4gICAgaWYoIWlzUmlnaHRTaXplKXtcbiAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ1x1NjU4N1x1NEVGNlx1NTkyN1x1NUMwRlx1OEQ4NVx1OEZDNyAiKS5jb25jYXQoY29uZi5maWxlU2l6ZSkuY29uY2F0KGNvbmYuc2l6ZVVuaXQsICInKVxuICAgIH0iKTsKICAgIHJldHVybkxpc3QucHVzaCgnaXNSaWdodFNpemUnKTsKICB9CgogIGlmIChjb25mLmFjY2VwdCkgewogICAgYWNjZXB0Q29kZSA9ICJsZXQgaXNBY2NlcHQgPSBuZXcgUmVnRXhwKCciLmNvbmNhdChjb25mLmFjY2VwdCwgIicpLnRlc3QoZmlsZS50eXBlKVxuICAgIGlmKCFpc0FjY2VwdCl7XG4gICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCdcdTVFOTRcdThCRTVcdTkwMDlcdTYyRTkiKS5jb25jYXQoY29uZi5hY2NlcHQsICJcdTdDN0JcdTU3OEJcdTc2ODRcdTY1ODdcdTRFRjYnKVxuICAgIH0iKTsKICAgIHJldHVybkxpc3QucHVzaCgnaXNBY2NlcHQnKTsKICB9CgogIHZhciBzdHIgPSAiIi5jb25jYXQoY29uZi52TW9kZWwsICJCZWZvcmVVcGxvYWQoZmlsZSkge1xuICAgICIpLmNvbmNhdChyaWdodFNpemVDb2RlLCAiXG4gICAgIikuY29uY2F0KGFjY2VwdENvZGUsICJcbiAgICByZXR1cm4gIikuY29uY2F0KHJldHVybkxpc3Quam9pbignJiYnKSwgIlxuICB9LCIpOwogIHJldHVybiByZXR1cm5MaXN0Lmxlbmd0aCA/IHN0ciA6ICcnOwp9CgpmdW5jdGlvbiBidWlsZFN1Ym1pdFVwbG9hZChjb25mKSB7CiAgdmFyIHN0ciA9ICJzdWJtaXRVcGxvYWQoKSB7XG4gICAgdGhpcy4kcmVmc1snIi5jb25jYXQoY29uZi52TW9kZWwsICInXS5zdWJtaXQoKVxuICB9LCIpOwogIHJldHVybiBzdHI7Cn0KCmZ1bmN0aW9uIGJ1aWxkT3B0aW9uTWV0aG9kKG1ldGhvZE5hbWUsIG1vZGVsLCBtZXRob2RMaXN0KSB7CiAgdmFyIHN0ciA9ICIiLmNvbmNhdChtZXRob2ROYW1lLCAiKCkge1xuICAgIC8vIFRPRE8gXHU1M0QxXHU4RDc3XHU4QkY3XHU2QzQyXHU4M0I3XHU1M0Q2XHU2NTcwXHU2MzZFXG4gICAgdGhpcy4iKS5jb25jYXQobW9kZWwsICJcbiAgfSwiKTsKICBtZXRob2RMaXN0LnB1c2goc3RyKTsKfQoKZnVuY3Rpb24gYnVpbGRleHBvcnQoY29uZiwgdHlwZSwgZGF0YSwgcnVsZXMsIHNlbGVjdE9wdGlvbnMsIHVwbG9hZFZhciwgcHJvcHMsIG1ldGhvZHMpIHsKICB2YXIgc3RyID0gIiIuY29uY2F0KF9pbmRleC5leHBvcnREZWZhdWx0LCAie1xuICAiKS5jb25jYXQoaW5oZXJpdEF0dHJzW3R5cGVdLCAiXG4gIGNvbXBvbmVudHM6IHt9LFxuICBwcm9wczogW10sXG4gIGRhdGEgKCkge1xuICAgIHJldHVybiB7XG4gICAgICAiKS5jb25jYXQoY29uZi5mb3JtTW9kZWwsICI6IHtcbiAgICAgICAgIikuY29uY2F0KGRhdGEsICJcbiAgICAgIH0sXG4gICAgICAiKS5jb25jYXQoY29uZi5mb3JtUnVsZXMsICI6IHtcbiAgICAgICAgIikuY29uY2F0KHJ1bGVzLCAiXG4gICAgICB9LFxuICAgICAgIikuY29uY2F0KHVwbG9hZFZhciwgIlxuICAgICAgIikuY29uY2F0KHNlbGVjdE9wdGlvbnMsICJcbiAgICAgICIpLmNvbmNhdChwcm9wcywgIlxuICAgIH1cbiAgfSxcbiAgY29tcHV0ZWQ6IHt9LFxuICB3YXRjaDoge30sXG4gIGNyZWF0ZWQgKCkge30sXG4gIG1vdW50ZWQgKCkge30sXG4gIG1ldGhvZHM6IHtcbiAgICAiKS5jb25jYXQobWV0aG9kcywgIlxuICB9XG59Iik7CiAgcmV0dXJuIHN0cjsKfQ=="},{"version":3,"names":["units","KB","MB","GB","confGlobal","inheritAttrs","file","dialog","makeUpJs","conf","type","JSON","parse","stringify","dataList","ruleList","optionsList","propsList","methodList","mixinMethod","uploadVarList","fields","forEach","el","buildAttributes","script","buildexport","join","buildData","buildRules","options","length","buildOptions","dataType","model","vModel","titleCase","buildOptionMethod","props","buildProps","action","tag","push","buildBeforeUpload","buildSubmitUpload","children","el2","list","minxins","formBtns","submitForm","formRef","resetForm","onOpen","onClose","close","handleConfirm","methods","Object","keys","key","undefined","defaultValue","multiple","rules","trigger","required","isArray","message","placeholder","label","regList","item","pattern","eval","str","valueKey","value","labelKey","childrenKey","unitNum","sizeUnit","rightSizeCode","acceptCode","returnList","fileSize","accept","methodName","data","selectOptions","uploadVar","exportDefault","formModel","formRules"],"sources":["D:/work/proj/project_manage/project-ui/src/utils/generator/js.js"],"sourcesContent":["import { isArray } from 'util'\r\nimport { exportDefault, titleCase } from '@/utils/index'\r\nimport { trigger } from './config'\r\n\r\nconst units = {\r\n  KB: '1024',\r\n  MB: '1024 / 1024',\r\n  GB: '1024 / 1024 / 1024'\r\n}\r\nlet confGlobal\r\nconst inheritAttrs = {\r\n  file: '',\r\n  dialog: 'inheritAttrs: false,'\r\n}\r\n\r\n\r\nexport function makeUpJs(conf, type) {\r\n  confGlobal = conf = JSON.parse(JSON.stringify(conf))\r\n  const dataList = []\r\n  const ruleList = []\r\n  const optionsList = []\r\n  const propsList = []\r\n  const methodList = mixinMethod(type)\r\n  const uploadVarList = []\r\n\r\n  conf.fields.forEach(el => {\r\n    buildAttributes(el, dataList, ruleList, optionsList, methodList, propsList, uploadVarList)\r\n  })\r\n\r\n  const script = buildexport(\r\n    conf,\r\n    type,\r\n    dataList.join('\\n'),\r\n    ruleList.join('\\n'),\r\n    optionsList.join('\\n'),\r\n    uploadVarList.join('\\n'),\r\n    propsList.join('\\n'),\r\n    methodList.join('\\n')\r\n  )\r\n  confGlobal = null\r\n  return script\r\n}\r\n\r\nfunction buildAttributes(el, dataList, ruleList, optionsList, methodList, propsList, uploadVarList) {\r\n  buildData(el, dataList)\r\n  buildRules(el, ruleList)\r\n\r\n  if (el.options && el.options.length) {\r\n    buildOptions(el, optionsList)\r\n    if (el.dataType === 'dynamic') {\r\n      const model = `${el.vModel}Options`\r\n      const options = titleCase(model)\r\n      buildOptionMethod(`get${options}`, model, methodList)\r\n    }\r\n  }\r\n\r\n  if (el.props && el.props.props) {\r\n    buildProps(el, propsList)\r\n  }\r\n\r\n  if (el.action && el.tag === 'el-upload') {\r\n    uploadVarList.push(\r\n      `${el.vModel}Action: '${el.action}',\r\n      ${el.vModel}fileList: [],`\r\n    )\r\n    methodList.push(buildBeforeUpload(el))\r\n    if (!el['auto-upload']) {\r\n      methodList.push(buildSubmitUpload(el))\r\n    }\r\n  }\r\n\r\n  if (el.children) {\r\n    el.children.forEach(el2 => {\r\n      buildAttributes(el2, dataList, ruleList, optionsList, methodList, propsList, uploadVarList)\r\n    })\r\n  }\r\n}\r\n\r\nfunction mixinMethod(type) {\r\n  const list = []; const\r\n    minxins = {\r\n      file: confGlobal.formBtns ? {\r\n        submitForm: `submitForm() {\r\n        this.$refs['${confGlobal.formRef}'].validate(valid => {\r\n          if(!valid) return\r\n          // TODO 提交表单\r\n        })\r\n      },`,\r\n        resetForm: `resetForm() {\r\n        this.$refs['${confGlobal.formRef}'].resetFields()\r\n      },`\r\n      } : null,\r\n      dialog: {\r\n        onOpen: 'onOpen() {},',\r\n        onClose: `onClose() {\r\n        this.$refs['${confGlobal.formRef}'].resetFields()\r\n      },`,\r\n        close: `close() {\r\n        this.$emit('update:visible', false)\r\n      },`,\r\n        handleConfirm: `handleConfirm() {\r\n        this.$refs['${confGlobal.formRef}'].validate(valid => {\r\n          if(!valid) return\r\n          this.close()\r\n        })\r\n      },`\r\n      }\r\n    }\r\n\r\n  const methods = minxins[type]\r\n  if (methods) {\r\n    Object.keys(methods).forEach(key => {\r\n      list.push(methods[key])\r\n    })\r\n  }\r\n\r\n  return list\r\n}\r\n\r\nfunction buildData(conf, dataList) {\r\n  if (conf.vModel === undefined) return\r\n  let defaultValue\r\n  if (typeof (conf.defaultValue) === 'string' && !conf.multiple) {\r\n    defaultValue = `'${conf.defaultValue}'`\r\n  } else {\r\n    defaultValue = `${JSON.stringify(conf.defaultValue)}`\r\n  }\r\n  dataList.push(`${conf.vModel}: ${defaultValue},`)\r\n}\r\n\r\nfunction buildRules(conf, ruleList) {\r\n  if (conf.vModel === undefined) return\r\n  const rules = []\r\n  if (trigger[conf.tag]) {\r\n    if (conf.required) {\r\n      const type = isArray(conf.defaultValue) ? 'type: \\'array\\',' : ''\r\n      let message = isArray(conf.defaultValue) ? `请至少选择一个${conf.vModel}` : conf.placeholder\r\n      if (message === undefined) message = `${conf.label}不能为空`\r\n      rules.push(`{ required: true, ${type} message: '${message}', trigger: '${trigger[conf.tag]}' }`)\r\n    }\r\n    if (conf.regList && isArray(conf.regList)) {\r\n      conf.regList.forEach(item => {\r\n        if (item.pattern) {\r\n          rules.push(`{ pattern: ${eval(item.pattern)}, message: '${item.message}', trigger: '${trigger[conf.tag]}' }`)\r\n        }\r\n      })\r\n    }\r\n    ruleList.push(`${conf.vModel}: [${rules.join(',')}],`)\r\n  }\r\n}\r\n\r\nfunction buildOptions(conf, optionsList) {\r\n  if (conf.vModel === undefined) return\r\n  if (conf.dataType === 'dynamic') { conf.options = [] }\r\n  const str = `${conf.vModel}Options: ${JSON.stringify(conf.options)},`\r\n  optionsList.push(str)\r\n}\r\n\r\nfunction buildProps(conf, propsList) {\r\n  if (conf.dataType === 'dynamic') {\r\n    conf.valueKey !== 'value' && (conf.props.props.value = conf.valueKey)\r\n    conf.labelKey !== 'label' && (conf.props.props.label = conf.labelKey)\r\n    conf.childrenKey !== 'children' && (conf.props.props.children = conf.childrenKey)\r\n  }\r\n  const str = `${conf.vModel}Props: ${JSON.stringify(conf.props.props)},`\r\n  propsList.push(str)\r\n}\r\n\r\nfunction buildBeforeUpload(conf) {\r\n  const unitNum = units[conf.sizeUnit]; let rightSizeCode = ''; let acceptCode = ''; const\r\n    returnList = []\r\n  if (conf.fileSize) {\r\n    rightSizeCode = `let isRightSize = file.size / ${unitNum} < ${conf.fileSize}\r\n    if(!isRightSize){\r\n      this.$message.error('文件大小超过 ${conf.fileSize}${conf.sizeUnit}')\r\n    }`\r\n    returnList.push('isRightSize')\r\n  }\r\n  if (conf.accept) {\r\n    acceptCode = `let isAccept = new RegExp('${conf.accept}').test(file.type)\r\n    if(!isAccept){\r\n      this.$message.error('应该选择${conf.accept}类型的文件')\r\n    }`\r\n    returnList.push('isAccept')\r\n  }\r\n  const str = `${conf.vModel}BeforeUpload(file) {\r\n    ${rightSizeCode}\r\n    ${acceptCode}\r\n    return ${returnList.join('&&')}\r\n  },`\r\n  return returnList.length ? str : ''\r\n}\r\n\r\nfunction buildSubmitUpload(conf) {\r\n  const str = `submitUpload() {\r\n    this.$refs['${conf.vModel}'].submit()\r\n  },`\r\n  return str\r\n}\r\n\r\nfunction buildOptionMethod(methodName, model, methodList) {\r\n  const str = `${methodName}() {\r\n    // TODO 发起请求获取数据\r\n    this.${model}\r\n  },`\r\n  methodList.push(str)\r\n}\r\n\r\nfunction buildexport(conf, type, data, rules, selectOptions, uploadVar, props, methods) {\r\n  const str = `${exportDefault}{\r\n  ${inheritAttrs[type]}\r\n  components: {},\r\n  props: [],\r\n  data () {\r\n    return {\r\n      ${conf.formModel}: {\r\n        ${data}\r\n      },\r\n      ${conf.formRules}: {\r\n        ${rules}\r\n      },\r\n      ${uploadVar}\r\n      ${selectOptions}\r\n      ${props}\r\n    }\r\n  },\r\n  computed: {},\r\n  watch: {},\r\n  created () {},\r\n  mounted () {},\r\n  methods: {\r\n    ${methods}\r\n  }\r\n}`\r\n  return str\r\n}\r\n"],"mappings":"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"}]}