{"remainingRequest":"D:\\work\\proj\\project_manage\\project-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\work\\proj\\project_manage\\project-ui\\src\\views\\traffic-decision\\components\\scollDiv.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\work\\proj\\project_manage\\project-ui\\src\\views\\traffic-decision\\components\\scollDiv.vue","mtime":1663479653289},{"path":"D:\\work\\proj\\project_manage\\project-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1663230084016},{"path":"D:\\work\\proj\\project_manage\\project-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1663230086097},{"path":"D:\\work\\proj\\project_manage\\project-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1663230084016},{"path":"D:\\work\\proj\\project_manage\\project-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1663230087832}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdsZWZ0UmlnaHRTd2lwZXJTY3JvbGwnLA0KICBwcm9wczogew0KICAgIHN3aXBlckxpc3Q6IHsNCiAgICAgIHR5cGU6IE9iamVjdCwNCiAgICAgIGRlZmF1bHQ6ICgpID0+IHsNCiAgICAgICAgcmV0dXJuIHt9Ow0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgc2hvd1JpZ2h0SWNvbjogZmFsc2UsIC8vIOaYr+WQpuaYvuekuuWPs+eureWktA0KICAgICAgc3dpcGVyU2Nyb2xsV2lkdGg6IDAsIC8vIOebkuWtkOeahOWuveW6pg0KICAgICAgc3dpcGVyU2Nyb2xsQ29udGVudFdpZHRoOiAwLCAvLyDlhoXlrrnnmoTlrr3luqYNCiAgICAgIG1heENsaWNrTnVtOiAwLCAvLyDmnIDlpKfngrnlh7vmrKHmlbANCiAgICAgIGxhc3RMZWZ0OiAwLCAvLyDkuIrmrKHmu5Hliqjot53nprsNCiAgICAgIGNsaWNrTnVtOiAwLCAvLyDngrnlh7vmrKHmlbANCiAgICAgIGNoaWxkcmVuTGlzdDogW10gLy8g5Lyg6L+b5p2l55qE5a2Q5YWD57SgDQogICAgfQ0KICB9LA0KICBjb21wdXRlZDogew0KICAgIHNob3dMZWZ0SWNvbigpIHsNCiAgICAgIHJldHVybiB0aGlzLmNsaWNrTnVtID4gMA0KICAgIH0NCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICAvLyDojrflj5YgSFRNTENvbGxlY3Rpb24g6L2s5Li6IOaVsOe7hA0KICAgIHRoaXMuY2hpbGRyZW5MaXN0ID0gWy4uLnRoaXMuJHJlZnMuc3dpcGVyU2Nyb2xsQ29udGVudC5jaGlsZHJlbl07DQogICAgLy8g55uS5a2Q55qE5a695bqmDQogICAgdGhpcy5zd2lwZXJTY3JvbGxXaWR0aCA9IHRoaXMuJHJlZnMuc3dpcGVyU2Nyb2xsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoOw0KICAgIC8vIOWGheWuueeahOWuveW6pg0KICAgIHRoaXMuc3dpcGVyU2Nyb2xsQ29udGVudFdpZHRoID0gdGhpcy4kcmVmcy5zd2lwZXJTY3JvbGxDb250ZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoOw0KICAgIC8vIOavlOi+g+ebkuWtkOeahOWuveW6pizot5/lhoXlrrnnmoTlrr3luqbvvJrliKTmlq3mmK/lkKbpnIDopoHlsZXnpLrlj7PovrnnmoTmjInpkq4NCiAgICBjb25zb2xlLmxvZyh0aGlzLnN3aXBlclNjcm9sbFdpZHRoKyAnKycgK3RoaXMuc3dpcGVyU2Nyb2xsQ29udGVudFdpZHRoKQ0KICAgIGlmKHRoaXMuc3dpcGVyU2Nyb2xsV2lkdGggPCB0aGlzLnN3aXBlclNjcm9sbENvbnRlbnRXaWR0aCkgew0KICAgICAgdGhpcy5zaG93UmlnaHRJY29uID0gdHJ1ZTsNCiAgICAgICBkZWJ1Z2dlcg0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8vIOeCueWHu+WPs+eureWktO+8iOW3puS+p+a7muWKqO+8iQ0KICAgIGhhbmRsZVJpZ2h0Q2xpY2soKSB7DQogICAgICAvLyDlpoLmnpzngrnlh7vmrKHmlbDlsI/kuo7mlbDnu4Tplb/luqYtMeaXtu+8jOaJp+ihjOW3pua7keWKqOaViOaenOOAgg0KICAgICAgaWYgKHRoaXMuY2xpY2tOdW0gPCB0aGlzLmNoaWxkcmVuTGlzdC5sZW5ndGggLSAxKSB7DQogICAgICAgIC8vIOiOt+WPluW9k+WJjeWFg+e0oOWuveW6pg0KICAgICAgICBsZXQgd2lkdGggPSB0aGlzLmNoaWxkcmVuTGlzdFt0aGlzLmNsaWNrTnVtXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDsNCiAgICAgICAgY29uc29sZS5sb2codGhpcy5jaGlsZHJlbkxpc3RbdGhpcy5jbGlja051bV0sIHRoaXMuY2hpbGRyZW5MaXN0W3RoaXMuY2xpY2tOdW1dLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTsNCiAgICAgICAgLy8g6I635Y+W5pyA5ZCO5LiA5Liq5YWD57Sg6Led56a75bem5L6n55qE6Led56a7DQogICAgICAgIGxldCBsYXN0SXRlbU9mZnNldExlZnQgPSB0aGlzLmNoaWxkcmVuTGlzdFt0aGlzLmNoaWxkcmVuTGlzdC5sZW5ndGggLSAxXS5vZmZzZXRMZWZ0Ow0KICAgICAgICAvLyDojrflj5bmnIDlkI7kuIDkuKrlhYPntKDlrr3luqYNCiAgICAgICAgbGV0IGxhc3RXaWR0aCA9IHRoaXMuY2hpbGRyZW5MaXN0W3RoaXMuY2hpbGRyZW5MaXN0Lmxlbmd0aCAtIDFdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoOw0KICAgICAgICBjb25zb2xlLmxvZygnbGFzdEl0ZW1PZmZzZXRMZWZ0LS0+JywgbGFzdEl0ZW1PZmZzZXRMZWZ0LCB0aGlzLmNoaWxkcmVuTGlzdFt0aGlzLmNoaWxkcmVuTGlzdC5sZW5ndGggLSAxXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7DQogICAgICAgIC8vIOiOt+WPluWPr+inhuWMuuWfn+WuveW6pg0KICAgICAgICBjb25zdCBsb29rV2lkdGggPSB0aGlzLiRyZWZzLnN3aXBlclNjcm9sbC5jbGllbnRXaWR0aDsNCiAgICAgICAgY29uc29sZS5sb2coJ+iOt+WPluWPr+inhuWMuuWfn+WuveW6pi0tPmxvb2tXaWR0aCcsIGxvb2tXaWR0aCk7DQogICAgICAgIC8vIOWmguaenOacgOWQjuS4gOS4quWFg+e0oOi3neemu+W3puS+p+eahOi3neemuyvoh6rouqvnmoTlrr3luqblpKfkuo7lj6/op4bot53nprvvvIzooajnpLrmnIDlkI7kuIDkuKrlhYPntKDmsqHmnInlh7rnjrDvvIzmiafooYzmu5rliqjmlYjmnpwNCiAgICAgICAgaWYgKGxhc3RJdGVtT2Zmc2V0TGVmdCArIGxhc3RXaWR0aCA+IGxvb2tXaWR0aCkgew0KICAgICAgICAgIC8vIOa7muWKqOi3neemu++8iOWFg+e0oOeahG1hZ2luLWxlZnTlgLzvvIkgPSDotJ/nmoTlroPoh6rlt7HnmoTplb/luqYgKyDkuIrkuIDmrKHmu5HliqjnmoTot53nprsNCiAgICAgICAgICB0aGlzLiRyZWZzLnN3aXBlclNjcm9sbENvbnRlbnQuc3R5bGUubWFyZ2luTGVmdCA9IGAkey13aWR0aCArIHRoaXMubGFzdExlZnR9cHhgOw0KICAgICAgICAgIHRoaXMubGFzdExlZnQgPSAtd2lkdGggKyB0aGlzLmxhc3RMZWZ0Ow0KICAgICAgICAgIC8vIOeCueWHu+asoeaVsCsxDQogICAgICAgICAgdGhpcy5jbGlja051bSsrOw0KICAgICAgICAgIC8vIOiusOW9leWIsOacgOWQjuS4gOS4quWFg+e0oOWHuueOsOWcqOWPr+inhuWMuuWfn+aXtu+8jOeCueWHu+asoeaVsOeahOacgOWkp+WAvOOAgueUqOS6juWQjumdoueCueWHu+W3puS+p+eureWktOaXtuWIpOaWreWPs+S+p+eureWktOeahOaYvuekug0KICAgICAgICAgIHRoaXMubWF4Q2xpY2tOdW0gPSB0aGlzLmNsaWNrTnVtOw0KICAgICAgICB9DQogICAgICAgIC8vIOWmguaenOacgOWQjuS4gOS4quWFg+e0oOi3neemu+W3puS+p+eahOi3neemu+Wwj+S6juS6juWPr+inhui3neemu++8jOmcgOimgemakOiXj+WPs+S+p+eureWktA0KICAgICAgICBsZXQgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICAvLyDph43mlrDvvJrojrflj5bmnIDlkI7kuIDkuKrlhYPntKDot53nprvlt6bkvqfnmoTot53nprsNCiAgICAgICAgICBsZXQgbGFzdEl0ZW1PZmZzZXRMZWZ0MiA9IHRoaXMuY2hpbGRyZW5MaXN0W3RoaXMuY2hpbGRyZW5MaXN0Lmxlbmd0aCAtIDFdLm9mZnNldExlZnQ7DQogICAgICAgICAgY29uc29sZS5sb2coJ2xhc3RJdGVtT2Zmc2V0TGVmdDIt5paw55qELT4nLCBsYXN0SXRlbU9mZnNldExlZnQyKTsNCiAgICAgICAgICBpZihsYXN0SXRlbU9mZnNldExlZnQyICsgbGFzdFdpZHRoIDw9IGxvb2tXaWR0aCkgew0KICAgICAgICAgICAgdGhpcy5zaG93UmlnaHRJY29uID0gZmFsc2U7DQogICAgICAgICAgfQ0KICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7DQogICAgICAgIH0sIDIwMCk7DQogICAgICB9DQogICAgfSwNCiAgICAvLyDngrnlh7vlt6bnrq3lpLTvvIjlj7Pkvqfmu5rliqjvvIkNCiAgICBoYW5kbGVMZWZ0Q2xpY2soKSB7DQogICAgICAvLyDlvZPngrnlh7vmrKHmlbDlpKfkuo4w5pe25omN6Kem5Y+R77yM6L+Z5qC35b2T54K55Ye75qyh5pWwY2xpY2tOdW3nrYnkuo4x55qE5Yiw5pe25YCZ77yMY2xpY2tOdW0tLeetieS6jjAu5qC55o2u6K6h566X5bGe5oCn55qE5Yik5pat5Lya6ZqQ6JeP5o6J5bem566t5aS0DQogICAgICBpZiAodGhpcy5jbGlja051bSA+IDApIHsNCiAgICAgICAgLy8g6I635Y+W5b2T5YmN5YWD57Sg5a695bqmDQogICAgICAgIGxldCB3aWR0aCA9IHRoaXMuY2hpbGRyZW5MaXN0W3RoaXMuY2xpY2tOdW0gLSAxXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDsNCiAgICAgICAgLy8g5YWs56S677ya5rua5Yqo6Led56a777yI5YWD57Sg55qEbWFnaW4tbGVmdOWAvO+8iSA9IOWug+iHquW3seeahOmVv+W6piArIOS4iuS4gOasoea7keWKqOeahOi3neemuw0KICAgICAgICB0aGlzLiRyZWZzLnN3aXBlclNjcm9sbENvbnRlbnQuc3R5bGUubWFyZ2luTGVmdCA9IGAke3RoaXMubGFzdExlZnQgKyB3aWR0aH1weGANCiAgICAgICAgdGhpcy5sYXN0TGVmdCA9IHdpZHRoICsgdGhpcy5sYXN0TGVmdDsNCiAgICAgICAgLy8g54K55Ye75qyh5pWwLTENCiAgICAgICAgdGhpcy5jbGlja051bS0tOw0KICAgICAgICAvLyDlpoLmnpzngrnlh7vmrKHmlbDlsI/kuo7mnIDlpKfngrnlh7vmrKHmlbDvvIzor7TmmI7mnIDlkI7kuIDkuKrlhYPntKDlt7Lnu4/kuI3lnKjlj6/mmK/ljLrln5/lhoXkuobvvIzmmL7npLrlj7Pnrq3lpLQNCiAgICAgICAgaWYgKHRoaXMuY2xpY2tOdW0gPCB0aGlzLm1heENsaWNrTnVtKSB7DQogICAgICAgICAgdGhpcy5zaG93UmlnaHRJY29uID0gdHJ1ZTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["scollDiv.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"scollDiv.vue","sourceRoot":"src/views/traffic-decision/components","sourcesContent":["<template>\r\n<!-- 文本超出，左右按钮滚动 -->\r\n<div ref=\"swiperScroll\" class=\"left-right-swiper-scroll-box\">\r\n  <!-- 左边按钮 -->\r\n  <div v-show=\"showLeftIcon\" @click=\"handleLeftClick\" class=\"scroll-icon left-icon\">\r\n    <i ></i>\r\n  </div>\r\n  <!-- 中间滚动区域 -->\r\n  <div ref=\"swiperScrollContent\" class=\"swiper-scroll-content\">\r\n    <slot></slot>\r\n  </div>\r\n  <!-- 右边按钮 -->\r\n  <div v-show=\"showRightIcon\" @click=\"handleRightClick\" class=\"scroll-icon right-icon\">\r\n    <i ></i>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'leftRightSwiperScroll',\r\n  props: {\r\n    swiperList: {\r\n      type: Object,\r\n      default: () => {\r\n        return {};\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      showRightIcon: false, // 是否显示右箭头\r\n      swiperScrollWidth: 0, // 盒子的宽度\r\n      swiperScrollContentWidth: 0, // 内容的宽度\r\n      maxClickNum: 0, // 最大点击次数\r\n      lastLeft: 0, // 上次滑动距离\r\n      clickNum: 0, // 点击次数\r\n      childrenList: [] // 传进来的子元素\r\n    }\r\n  },\r\n  computed: {\r\n    showLeftIcon() {\r\n      return this.clickNum > 0\r\n    }\r\n  },\r\n  mounted() {\r\n    // 获取 HTMLCollection 转为 数组\r\n    this.childrenList = [...this.$refs.swiperScrollContent.children];\r\n    // 盒子的宽度\r\n    this.swiperScrollWidth = this.$refs.swiperScroll.getBoundingClientRect().width;\r\n    // 内容的宽度\r\n    this.swiperScrollContentWidth = this.$refs.swiperScrollContent.getBoundingClientRect().width;\r\n    // 比较盒子的宽度,跟内容的宽度：判断是否需要展示右边的按钮\r\n    console.log(this.swiperScrollWidth+ '+' +this.swiperScrollContentWidth)\r\n    if(this.swiperScrollWidth < this.swiperScrollContentWidth) {\r\n      this.showRightIcon = true;\r\n       debugger\r\n    }\r\n  },\r\n  methods: {\r\n    // 点击右箭头（左侧滚动）\r\n    handleRightClick() {\r\n      // 如果点击次数小于数组长度-1时，执行左滑动效果。\r\n      if (this.clickNum < this.childrenList.length - 1) {\r\n        // 获取当前元素宽度\r\n        let width = this.childrenList[this.clickNum].getBoundingClientRect().width;\r\n        console.log(this.childrenList[this.clickNum], this.childrenList[this.clickNum].getBoundingClientRect());\r\n        // 获取最后一个元素距离左侧的距离\r\n        let lastItemOffsetLeft = this.childrenList[this.childrenList.length - 1].offsetLeft;\r\n        // 获取最后一个元素宽度\r\n        let lastWidth = this.childrenList[this.childrenList.length - 1].getBoundingClientRect().width;\r\n        console.log('lastItemOffsetLeft-->', lastItemOffsetLeft, this.childrenList[this.childrenList.length - 1].getBoundingClientRect());\r\n        // 获取可视区域宽度\r\n        const lookWidth = this.$refs.swiperScroll.clientWidth;\r\n        console.log('获取可视区域宽度-->lookWidth', lookWidth);\r\n        // 如果最后一个元素距离左侧的距离+自身的宽度大于可视距离，表示最后一个元素没有出现，执行滚动效果\r\n        if (lastItemOffsetLeft + lastWidth > lookWidth) {\r\n          // 滚动距离（元素的magin-left值） = 负的它自己的长度 + 上一次滑动的距离\r\n          this.$refs.swiperScrollContent.style.marginLeft = `${-width + this.lastLeft}px`;\r\n          this.lastLeft = -width + this.lastLeft;\r\n          // 点击次数+1\r\n          this.clickNum++;\r\n          // 记录到最后一个元素出现在可视区域时，点击次数的最大值。用于后面点击左侧箭头时判断右侧箭头的显示\r\n          this.maxClickNum = this.clickNum;\r\n        }\r\n        // 如果最后一个元素距离左侧的距离小于于可视距离，需要隐藏右侧箭头\r\n        let timer = setTimeout(() => {\r\n          // 重新：获取最后一个元素距离左侧的距离\r\n          let lastItemOffsetLeft2 = this.childrenList[this.childrenList.length - 1].offsetLeft;\r\n          console.log('lastItemOffsetLeft2-新的->', lastItemOffsetLeft2);\r\n          if(lastItemOffsetLeft2 + lastWidth <= lookWidth) {\r\n            this.showRightIcon = false;\r\n          }\r\n          clearTimeout(timer);\r\n        }, 200);\r\n      }\r\n    },\r\n    // 点击左箭头（右侧滚动）\r\n    handleLeftClick() {\r\n      // 当点击次数大于0时才触发，这样当点击次数clickNum等于1的到时候，clickNum--等于0.根据计算属性的判断会隐藏掉左箭头\r\n      if (this.clickNum > 0) {\r\n        // 获取当前元素宽度\r\n        let width = this.childrenList[this.clickNum - 1].getBoundingClientRect().width;\r\n        // 公示：滚动距离（元素的magin-left值） = 它自己的长度 + 上一次滑动的距离\r\n        this.$refs.swiperScrollContent.style.marginLeft = `${this.lastLeft + width}px`\r\n        this.lastLeft = width + this.lastLeft;\r\n        // 点击次数-1\r\n        this.clickNum--;\r\n        // 如果点击次数小于最大点击次数，说明最后一个元素已经不在可是区域内了，显示右箭头\r\n        if (this.clickNum < this.maxClickNum) {\r\n          this.showRightIcon = true;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='scss' scoped>\r\n.left-right-swiper-scroll-box {\r\n  position: relative;\r\n  width: 100%;\r\n  overflow: hidden;\r\n  transition: all 0.3s;\r\n  .scroll-icon {\r\n    position: absolute;\r\n    top: 0;\r\n    width: 0.4375rem;\r\n    height: 0.4375rem;\r\n    text-align: center;\r\n    z-index: 9;\r\n    cursor: pointer;\r\n    border: 1px solid rgb(102, 166, 255);\r\n    background: rgb(102, 166, 255,0.2);\r\n    border-radius: 50%;\r\n    i {\r\n      position: absolute;\r\n      top: 0;\r\n      width: 0.3125rem;\r\n      height: 0.3125rem;\r\n    }\r\n    &.left-icon {\r\n      i {\r\n        left: 0.0375rem;\r\n        top: 0.0375rem;\r\n        background:  url(\"~@/assets/images/left_.svg\") 0 0 no-repeat;\r\n         background-size: 100%;\r\n      }\r\n    }\r\n    &.right-icon {\r\n        right:0;\r\n       \r\n      i {\r\n        right: 0.0375rem;\r\n        top: 0.0375rem;\r\n        background: url(\"~@/assets/images/right_.svg\") 0 0 no-repeat;\r\n         background-size: 100%;\r\n      }\r\n    }\r\n  }   \r\n  .swiper-scroll-content {\r\n    transition: all 0.3s;\r\n    display: inline-block;\r\n    white-space: nowrap;\r\n  }\r\n}\r\n</style>\r\n"]}]}