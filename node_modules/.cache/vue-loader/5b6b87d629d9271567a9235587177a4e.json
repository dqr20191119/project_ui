{"remainingRequest":"D:\\work\\proj\\project_manage\\project-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\work\\proj\\project_manage\\project-ui\\src\\views\\config\\bannerDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\work\\proj\\project_manage\\project-ui\\src\\views\\config\\bannerDetail.vue","mtime":1663479653275},{"path":"D:\\work\\proj\\project_manage\\project-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1663230084016},{"path":"D:\\work\\proj\\project_manage\\project-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1663230086097},{"path":"D:\\work\\proj\\project_manage\\project-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1663230084016},{"path":"D:\\work\\proj\\project_manage\\project-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1663230087832}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBsaXN0SW5mbywgZ2V0SW5mbywgZGVsSW5mbywgYWRkSW5mbywgdXBkYXRlSW5mbywgdXBsb2FkIH0gZnJvbSAiQC9hcGkvY29uZmlnL2Jhbm5lciI7DQppbXBvcnQgeyBWdWVDcm9wcGVyIH0gZnJvbSAidnVlLWNyb3BwZXIiOw0KaW1wb3J0IHN0b3JlIGZyb20gIkAvc3RvcmUiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJJbmZvIiwNCiAgY29tcG9uZW50czogeyBWdWVDcm9wcGVyIH0sDQogIGRhdGEgKCkgew0KICAgIHJldHVybiB7DQogICAgICAvLyDpga7nvanlsYINCiAgICAgIGxvYWRpbmc6IHRydWUsDQogICAgICAvLyDpgInkuK3mlbDnu4QNCiAgICAgIGlkczogW10sDQogICAgICAvLyDpnZ7ljZXkuKrnpoHnlKgNCiAgICAgIHNpbmdsZTogdHJ1ZSwNCiAgICAgIC8vIOmdnuWkmuS4quemgeeUqA0KICAgICAgbXVsdGlwbGU6IHRydWUsDQogICAgICAvLyDmmL7npLrmkJzntKLmnaHku7YNCiAgICAgIHNob3dTZWFyY2g6IHRydWUsDQogICAgICAvLyDmgLvmnaHmlbANCiAgICAgIHRvdGFsOiAwLA0KICAgICAgYWN0aW9uOiBwcm9jZXNzLmVudi5WVUVfQVBQX0JBU0VfQVBJICsgIi9jb25maWcvYmFubmVyL3VwbG9hZCIsDQogICAgICAvLyDova7mkq3nu4Tku7booajmoLzmlbDmja4NCiAgICAgIGluZm9MaXN0OiBbXSwNCiAgICAgIC8vIGZpbGVMaXN0OiBbeyBuYW1lOiAnZm9vZC5qcGVnJywgdXJsOiAnaHR0cHM6Ly9mdXNzMTAuZWxlbWVjZG4uY29tLzMvNjMvNGU3ZjNhMTU0MjliZmRhOTliY2U0MmExOGNkZDFqcGVnLmpwZWc/aW1hZ2VNb2dyMi90aHVtYm5haWwvMzYweDM2MC9mb3JtYXQvd2VicC9xdWFsaXR5LzEwMCcgfSwgeyBuYW1lOiAnZm9vZDIuanBlZycsIHVybDogJ2h0dHBzOi8vZnVzczEwLmVsZW1lY2RuLmNvbS8zLzYzLzRlN2YzYTE1NDI5YmZkYTk5YmNlNDJhMThjZGQxanBlZy5qcGVnP2ltYWdlTW9ncjIvdGh1bWJuYWlsLzM2MHgzNjAvZm9ybWF0L3dlYnAvcXVhbGl0eS8xMDAnIH1dLA0KICAgICAgZmlsZXM6IFtdLA0KICAgICAgLy8g5by55Ye65bGC5qCH6aKYDQogICAgICB0aXRsZTogIiIsDQogICAgICAvLyDmmK/lkKbmmL7npLrlvLnlh7rlsYINCiAgICAgIG9wZW46IGZhbHNlLA0KICAgICAgLy8g5p+l6K+i5Y+C5pWwDQogICAgICBvcHRpb25zOiB7DQogICAgICAgIGltZzogbnVsbCwgLy/oo4Hliarlm77niYfnmoTlnLDlnYANCiAgICAgICAgYXV0b0Nyb3BXaWR0aDogNDk1LCAvLyDpu5jorqTnlJ/miJDmiKrlm77moYblrr3luqYNCiAgICAgICAgYXV0b0Nyb3BIZWlnaHQ6IDI3MCwgLy8g6buY6K6k55Sf5oiQ5oiq5Zu+5qGG6auY5bqmDQogICAgICAgIGZpeGVkTnVtYmVyOiBbMS44MzMzMywxXSwNCiAgICAgICAgb3JpZ2luYWw6dHJ1ZQ0KICAgICAgfSwNCiAgICAgIGJhbm5lcldpZHRoOiAnJywNCiAgICAgIGJhbm5lckhlaWdodDogJycsDQogICAgICBwcmV2aWV3czoge30sDQoNCiAgICAgIC8vIOihqOWNleWPguaVsA0KICAgICAgZm9ybToge30sDQogICAgICAvLyDooajljZXmoKHpqowNCiAgICAgIHJ1bGVzOiB7DQogICAgICAgIGNvbXBvbmVudElkOiBbDQogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIue7hOS7tklE5LiN6IO95Li656m6IiwgdHJpZ2dlcjogImJsdXIiIH0NCiAgICAgICAgXSwNCiAgICAgICAgb3JkZXJOdW06IFsNCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi5pi+56S66aG65bqP5LiN6IO95Li656m6IiwgdHJpZ2dlcjogImJsdXIiIH0NCiAgICAgICAgXSwNCg0KICAgICAgfQ0KICAgIH07DQogIH0sDQogIGNyZWF0ZWQgKCkgew0KICAgIHRoaXMuZ2V0TGlzdCgpOw0KICB9LA0KICBtZXRob2RzOiB7DQoNCiAgICBodHRwUmVxdWVzdCAob3B0aW9uKSB7DQogICAgICB0aGlzLmZpbGVzID0gW107DQogICAgICB0aGlzLmZpbGVzLnB1c2gob3B0aW9uKQ0KICAgIH0sDQoNCiAgICAvLyDlkJHlt6bml4vovawNCiAgICByb3RhdGVMZWZ0ICgpIHsNCiAgICAgIHRoaXMuJHJlZnMuY3JvcHBlci5yb3RhdGVMZWZ0KCk7DQogICAgfSwNCiAgICAvLyDlkJHlj7Pml4vovawNCiAgICByb3RhdGVSaWdodCAoKSB7DQogICAgICB0aGlzLiRyZWZzLmNyb3BwZXIucm90YXRlUmlnaHQoKTsNCiAgICB9LA0KICAgIC8vIOWbvueJh+e8qeaUvg0KICAgIGNoYW5nZVNjYWxlIChudW0pIHsNCiAgICAgIG51bSA9IG51bSB8fCAxOw0KICAgICAgdGhpcy4kcmVmcy5jcm9wcGVyLmNoYW5nZVNjYWxlKG51bSk7DQogICAgfSwNCg0KICAgIC8vIOS4iuS8oOmihOWkhOeQhg0KICAgIGJlZm9yZVVwbG9hZCAoZmlsZSkgew0KICAgICAgaWYgKGZpbGUudHlwZS5pbmRleE9mKCJpbWFnZS8iKSA9PSAtMSkgew0KICAgICAgICB0aGlzLiRtb2RhbC5tc2dFcnJvcigi5paH5Lu25qC85byP6ZSZ6K+v77yM6K+35LiK5Lyg5Zu+54mH57G75Z6LLOWmgu+8mkpQR++8jFBOR+WQjue8gOeahOaWh+S7tuOAgiIpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsNCiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7DQogICAgICAgIHJlYWRlci5vbmxvYWQgPSAoKSA9PiB7DQogICAgICAgICAgdGhpcy5vcHRpb25zLmltZyA9IHJlYWRlci5yZXN1bHQ7DQogICAgICAgIH07DQogICAgICB9DQogICAgfSwNCg0KICAgIC8vIOWunuaXtumihOiniA0KICAgIHJlYWxUaW1lIChkYXRhKSB7DQogICAgICB0aGlzLnByZXZpZXdzID0gZGF0YTsNCiAgICB9LA0KDQoNCg0KDQoNCg0KICAgIC8qKiDmn6Xor6Lova7mkq3nu4Tku7bliJfooaggKi8NCiAgICBnZXRMaXN0ICgpIHsNCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7DQogICAgICBsaXN0SW5mbyh0aGlzLnF1ZXJ5UGFyYW1zKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgdGhpcy5pbmZvTGlzdCA9IHJlc3BvbnNlLnJvd3M7DQogICAgICAgIHRoaXMudG90YWwgPSByZXNwb25zZS50b3RhbDsNCiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7DQogICAgICB9KTsNCiAgICB9LA0KICAgIC8vIOWPlua2iOaMiemSrg0KICAgIGNhbmNlbCAoKSB7DQogICAgICB0aGlzLm9wZW4gPSBmYWxzZTsNCiAgICAgIHRoaXMucmVzZXQoKTsNCiAgICB9LA0KICAgIC8vIOihqOWNlemHjee9rg0KICAgIHJlc2V0ICgpIHsNCiAgICAgIC8v5riF56m65LiK5Lyg5o6n5Lu25paH5Lu25L+h5oGvDQogICAgICBsZXQgdXBsb2FkQmFubmVyID0gdGhpcy4kcmVmcy51cGxvYWRCYW5uZXI7DQogICAgICBpZiAodXBsb2FkQmFubmVyKSB7DQogICAgICAgIHRoaXMuJHJlZnMudXBsb2FkQmFubmVyLmNsZWFyRmlsZXMoKTsNCiAgICAgIH0NCiAgICAgIHRoaXMuZmlsZXMgPSBbXTsNCg0KICAgICAgdGhpcy5vcHRpb25zLmltZyA9IG51bGw7DQogICAgICB0aGlzLmZvcm0gPSB7DQogICAgICAgIGlkOiBudWxsLA0KICAgICAgICBjb21wb25lbnRJZDogbnVsbCwNCiAgICAgICAgZmlsZVBhdGg6IG51bGwsDQogICAgICAgIG9yZGVyTnVtOiAxLA0KICAgICAgICBjcmVhdGVCeTogbnVsbCwNCiAgICAgICAgY3JlYXRlVGltZTogbnVsbCwNCiAgICAgICAgdXBkYXRlQnk6IG51bGwsDQogICAgICAgIHVwZGF0ZVRpbWU6IG51bGwsDQogICAgICAgIGRlbEZsYWc6IG51bGwNCiAgICAgIH07DQogICAgICB0aGlzLnJlc2V0Rm9ybSgiZm9ybSIpOw0KICAgIH0sDQoNCiAgICAvLyDlpJrpgInmoYbpgInkuK3mlbDmja4NCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2UgKHNlbGVjdGlvbikgew0KICAgICAgdGhpcy5pZHMgPSBzZWxlY3Rpb24ubWFwKGl0ZW0gPT4gaXRlbS5pZCkNCiAgICAgIHRoaXMuc2luZ2xlID0gc2VsZWN0aW9uLmxlbmd0aCAhPT0gMQ0KICAgICAgdGhpcy5tdWx0aXBsZSA9ICFzZWxlY3Rpb24ubGVuZ3RoDQogICAgfSwNCiAgICAvKiog5paw5aKe5oyJ6ZKu5pON5L2cICovDQogICAgaGFuZGxlQWRkICgpIHsNCiAgICAgIHRoaXMucmVzZXQoKTsNCiAgICAgIHRoaXMub3BlbiA9IHRydWU7DQogICAgICB0aGlzLnRpdGxlID0gIua3u+WKoOi9ruaSree7hOS7tiI7DQogICAgfSwNCg0KICAgIGJhc2U2NFRvQmxvYiAoYmFzZTY0KSB7DQogICAgICBsZXQgcGFydHMgPSBiYXNlNjQuc3BsaXQoIjtiYXNlNjQsIik7DQogICAgICBsZXQgY29udGVudFR5cGUgPSBwYXJ0c1swXS5zcGxpdCgiOiIpWzFdOw0KICAgICAgbGV0IHJhdyA9IHdpbmRvdy5hdG9iKHBhcnRzWzFdKTsNCiAgICAgIGxldCByYXdMZW5ndGggPSByYXcubGVuZ3RoOw0KICAgICAgbGV0IHVJbnQ4QXJyYXkgPSBuZXcgVWludDhBcnJheShyYXdMZW5ndGgpOw0KICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYXdMZW5ndGg7IGkgKz0gMSkgew0KICAgICAgICB1SW50OEFycmF5W2ldID0gcmF3LmNoYXJDb2RlQXQoaSk7DQogICAgICB9DQogICAgICByZXR1cm4gbmV3IEJsb2IoW3VJbnQ4QXJyYXldLCB7IHR5cGU6IGNvbnRlbnRUeXBlIH0pOw0KICAgIH0sDQoNCiAgICAvKiog5L+u5pS55oyJ6ZKu5pON5L2cICovDQogICAgaGFuZGxlVXBkYXRlIChyb3csIF90aGlzKSB7DQogICAgICBjb25zb2xlLmxvZyhfdGhpcyk7DQogICAgICBfdGhpcy5yZXNldCgpOw0KICAgICAgY29uc3QgaWQgPSByb3cuaWQgfHwgX3RoaXMuaWRzDQogICAgICBnZXRJbmZvKGlkKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgX3RoaXMuZm9ybSA9IHJlc3BvbnNlLmRhdGE7DQogICAgICAgIF90aGlzLm9wZW4gPSB0cnVlOw0KICAgICAgICBfdGhpcy50aXRsZSA9ICLkv67mlLnova7mkq3nu4Tku7YiOw0KICAgICAgICBsZXQgZmlsZUJhc2U2NCA9IHJlc3BvbnNlLmRhdGEuZmlsZUJhc2U2NDsNCiAgICAgICAgaWYgKGZpbGVCYXNlNjQpIHsNCiAgICAgICAgICBfdGhpcy5vcHRpb25zLmltZyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoX3RoaXMuYmFzZTY0VG9CbG9iKGZpbGVCYXNlNjQpKQ0KICAgICAgICB9DQogICAgICAgIC8vdGhpcy5maWxlcy5wdXNoKG9wdGlvbikNCg0KICAgICAgfSk7DQogICAgfSwNCiAgICAvKiog5o+Q5Lqk5oyJ6ZKuICovDQogICAgc3VibWl0Rm9ybSAoKSB7DQogICAgICB0aGlzLiRyZWZzWyJmb3JtIl0udmFsaWRhdGUodmFsaWQgPT4gew0KICAgICAgICBpZiAodmFsaWQpIHsNCiAgICAgICAgICBsZXQgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsNCiAgICAgICAgICB0aGlzLiRyZWZzLmNyb3BwZXIuZ2V0Q3JvcEJsb2IoZGF0YSA9PiB7DQogICAgICAgICAgICBpZiAoIWRhdGEpIHsNCiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi6K+35LiK5Lyg5paH5Lu2Iik7DQogICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgiZmlsZSIsIGRhdGEpOw0KICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJjb21wb25lbnRJZCIsIHRoaXMuZm9ybS5jb21wb25lbnRJZCkNCiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgib3JkZXJOdW0iLCB0aGlzLmZvcm0ub3JkZXJOdW0pDQogICAgICAgICAgICBpZiAodGhpcy5mb3JtLmlkICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJpZCIsIHRoaXMuZm9ybS5pZCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICB1cGxvYWQoZm9ybURhdGEpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2UuZGF0YSkgew0KICAgICAgICAgICAgICAgIHRoaXMuJG1vZGFsLm1zZ1N1Y2Nlc3MoIuaTjeS9nOaIkOWKnyIpOw0KICAgICAgICAgICAgICAgIHRoaXMub3BlbiA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIHRoaXMuJHBhcmVudC5nZXRMaXN0KCk7DQogICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgfSkNCg0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICAgIC8qKiDliKDpmaTmjInpkq7mk43kvZwgKi8NCiAgICBoYW5kbGVEZWxldGUgKHJvdykgew0KICAgICAgY29uc3QgaWRzID0gcm93LmlkIHx8IHRoaXMuaWRzOw0KICAgICAgdGhpcy4kbW9kYWwuY29uZmlybSgn5piv5ZCm56Gu6K6k5Yig6Zmk6L2u5pKt57uE5Lu257yW5Y+35Li6IicgKyBpZHMgKyAnIueahOaVsOaNrumhue+8nycpLnRoZW4oZnVuY3Rpb24gKCkgew0KICAgICAgICByZXR1cm4gZGVsSW5mbyhpZHMpOw0KICAgICAgfSkudGhlbigoKSA9PiB7DQogICAgICAgIHRoaXMuZ2V0TGlzdCgpOw0KICAgICAgICB0aGlzLiRtb2RhbC5tc2dTdWNjZXNzKCLliKDpmaTmiJDlip8iKTsNCiAgICAgIH0pLmNhdGNoKCgpID0+IHsgfSk7DQogICAgfSwNCg0KICAgIC8vIOWFs+mXreeql+WPow0KICAgIGNsb3NlRGlhbG9nICgpIHsNCiAgICAgIHRoaXMub3B0aW9ucy5pbWcgPSBudWxsDQogICAgICB0aGlzLm9wZW4gPSBmYWxzZTsNCiAgICB9DQogIH0NCn07DQo="},{"version":3,"sources":["bannerDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgHA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"bannerDetail.vue","sourceRoot":"src/views/config","sourcesContent":["<template>\r\n  <!-- 添加或修改轮播组件对话框 -->\r\n  <el-dialog\r\n    :title=\"title\"\r\n    :visible.sync=\"open\"\r\n    width=\"1480px\"\r\n    append-to-body\r\n    @close=\"closeDialog\"\r\n  >\r\n    <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"80px\">\r\n      <el-row :gutter=\"20\">\r\n        <el-col\r\n          :xs=\"24\"\r\n          :md=\"12\"\r\n          :style=\"{ height: '720px', width:'1320px'}\"\r\n        >\r\n          <vue-cropper\r\n            ref=\"cropper\"\r\n            :img=\"options.img\"\r\n            :info=\"false\"\r\n            :autoCropWidth=\"options.autoCropWidth\"\r\n            :autoCropHeight=\"options.autoCropHeight\"\r\n            :fixedNumber=\"options.fixedNumber\"\r\n            :outputSize=\"1\"\r\n            :autoCrop=\"true\"\r\n            :fixed=\"true\"\r\n            :fixedBox=\"true\"\r\n            :infoTrue=\"true\"\r\n            @realTime=\"realTime\"\r\n          />\r\n        </el-col>\r\n        <el-col\r\n          :xs=\"24\"\r\n          :md=\"12\"\r\n          :style=\"{ height: '720px', width:'1320px'}\"\r\n        >\r\n          <div\r\n            class=\"banner-upload-preview\"\r\n          >\r\n            <img :src=\"previews.url\" :style=\"previews.img\" />\r\n          </div>\r\n        </el-col>\r\n      </el-row>\r\n      <br />\r\n      <el-row>\r\n        <el-col :lg=\"2\" :md=\"2\">\r\n          <el-upload\r\n            ref=\"uploadBanner\"\r\n            :http-request=\"httpRequest\"\r\n            accept=\"image/jpeg,image/gif,image/png\"\r\n            :file-lis=\"files\"\r\n            action=\"#\"\r\n            :show-file-list=\"false\"\r\n            :before-upload=\"beforeUpload\"\r\n          >\r\n            <el-button size=\"small\">\r\n              选择\r\n              <i class=\"el-icon-upload el-icon--right\"></i>\r\n            </el-button>\r\n          </el-upload>\r\n        </el-col>\r\n\r\n        <el-col :lg=\"{ span: 1, offset: 1 }\" :md=\"2\">\r\n          <el-button\r\n            icon=\"el-icon-plus\"\r\n            size=\"small\"\r\n            @click=\"changeScale(1)\"\r\n          ></el-button>\r\n        </el-col>\r\n        <el-col :lg=\"{ span: 1, offset: 1 }\" :md=\"2\">\r\n          <el-button\r\n            icon=\"el-icon-minus\"\r\n            size=\"small\"\r\n            @click=\"changeScale(-1)\"\r\n          ></el-button>\r\n        </el-col>\r\n        <el-col :lg=\"{ span: 1, offset: 1 }\" :md=\"2\">\r\n          <el-button\r\n            icon=\"el-icon-refresh-left\"\r\n            size=\"small\"\r\n            @click=\"rotateLeft()\"\r\n          ></el-button>\r\n        </el-col>\r\n        <el-col :lg=\"{ span: 1, offset: 1 }\" :md=\"2\">\r\n          <el-button\r\n            icon=\"el-icon-refresh-right\"\r\n            size=\"small\"\r\n            @click=\"rotateRight()\"\r\n          ></el-button>\r\n        </el-col>\r\n      </el-row>\r\n      <br />\r\n      <el-row>\r\n        <el-col :xs=\"24\" :md=\"12\">\r\n          <el-form-item label=\"显示顺序\" prop=\"orderNum\">\r\n            <el-input-number\r\n              v-model=\"form.orderNum\"\r\n              :min=\"1\"\r\n              style=\"width: 280px\"\r\n            />\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form>\r\n    <div slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button type=\"primary\" @click=\"submitForm\">确 定</el-button>\r\n      <el-button @click=\"cancel\">取 消</el-button>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { listInfo, getInfo, delInfo, addInfo, updateInfo, upload } from \"@/api/config/banner\";\r\nimport { VueCropper } from \"vue-cropper\";\r\nimport store from \"@/store\";\r\n\r\nexport default {\r\n  name: \"Info\",\r\n  components: { VueCropper },\r\n  data () {\r\n    return {\r\n      // 遮罩层\r\n      loading: true,\r\n      // 选中数组\r\n      ids: [],\r\n      // 非单个禁用\r\n      single: true,\r\n      // 非多个禁用\r\n      multiple: true,\r\n      // 显示搜索条件\r\n      showSearch: true,\r\n      // 总条数\r\n      total: 0,\r\n      action: process.env.VUE_APP_BASE_API + \"/config/banner/upload\",\r\n      // 轮播组件表格数据\r\n      infoList: [],\r\n      // fileList: [{ name: 'food.jpeg', url: 'https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100' }, { name: 'food2.jpeg', url: 'https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100' }],\r\n      files: [],\r\n      // 弹出层标题\r\n      title: \"\",\r\n      // 是否显示弹出层\r\n      open: false,\r\n      // 查询参数\r\n      options: {\r\n        img: null, //裁剪图片的地址\r\n        autoCropWidth: 495, // 默认生成截图框宽度\r\n        autoCropHeight: 270, // 默认生成截图框高度\r\n        fixedNumber: [1.83333,1],\r\n        original:true\r\n      },\r\n      bannerWidth: '',\r\n      bannerHeight: '',\r\n      previews: {},\r\n\r\n      // 表单参数\r\n      form: {},\r\n      // 表单校验\r\n      rules: {\r\n        componentId: [\r\n          { required: true, message: \"组件ID不能为空\", trigger: \"blur\" }\r\n        ],\r\n        orderNum: [\r\n          { required: true, message: \"显示顺序不能为空\", trigger: \"blur\" }\r\n        ],\r\n\r\n      }\r\n    };\r\n  },\r\n  created () {\r\n    this.getList();\r\n  },\r\n  methods: {\r\n\r\n    httpRequest (option) {\r\n      this.files = [];\r\n      this.files.push(option)\r\n    },\r\n\r\n    // 向左旋转\r\n    rotateLeft () {\r\n      this.$refs.cropper.rotateLeft();\r\n    },\r\n    // 向右旋转\r\n    rotateRight () {\r\n      this.$refs.cropper.rotateRight();\r\n    },\r\n    // 图片缩放\r\n    changeScale (num) {\r\n      num = num || 1;\r\n      this.$refs.cropper.changeScale(num);\r\n    },\r\n\r\n    // 上传预处理\r\n    beforeUpload (file) {\r\n      if (file.type.indexOf(\"image/\") == -1) {\r\n        this.$modal.msgError(\"文件格式错误，请上传图片类型,如：JPG，PNG后缀的文件。\");\r\n      } else {\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onload = () => {\r\n          this.options.img = reader.result;\r\n        };\r\n      }\r\n    },\r\n\r\n    // 实时预览\r\n    realTime (data) {\r\n      this.previews = data;\r\n    },\r\n\r\n\r\n\r\n\r\n\r\n\r\n    /** 查询轮播组件列表 */\r\n    getList () {\r\n      this.loading = true;\r\n      listInfo(this.queryParams).then(response => {\r\n        this.infoList = response.rows;\r\n        this.total = response.total;\r\n        this.loading = false;\r\n      });\r\n    },\r\n    // 取消按钮\r\n    cancel () {\r\n      this.open = false;\r\n      this.reset();\r\n    },\r\n    // 表单重置\r\n    reset () {\r\n      //清空上传控件文件信息\r\n      let uploadBanner = this.$refs.uploadBanner;\r\n      if (uploadBanner) {\r\n        this.$refs.uploadBanner.clearFiles();\r\n      }\r\n      this.files = [];\r\n\r\n      this.options.img = null;\r\n      this.form = {\r\n        id: null,\r\n        componentId: null,\r\n        filePath: null,\r\n        orderNum: 1,\r\n        createBy: null,\r\n        createTime: null,\r\n        updateBy: null,\r\n        updateTime: null,\r\n        delFlag: null\r\n      };\r\n      this.resetForm(\"form\");\r\n    },\r\n\r\n    // 多选框选中数据\r\n    handleSelectionChange (selection) {\r\n      this.ids = selection.map(item => item.id)\r\n      this.single = selection.length !== 1\r\n      this.multiple = !selection.length\r\n    },\r\n    /** 新增按钮操作 */\r\n    handleAdd () {\r\n      this.reset();\r\n      this.open = true;\r\n      this.title = \"添加轮播组件\";\r\n    },\r\n\r\n    base64ToBlob (base64) {\r\n      let parts = base64.split(\";base64,\");\r\n      let contentType = parts[0].split(\":\")[1];\r\n      let raw = window.atob(parts[1]);\r\n      let rawLength = raw.length;\r\n      let uInt8Array = new Uint8Array(rawLength);\r\n      for (let i = 0; i < rawLength; i += 1) {\r\n        uInt8Array[i] = raw.charCodeAt(i);\r\n      }\r\n      return new Blob([uInt8Array], { type: contentType });\r\n    },\r\n\r\n    /** 修改按钮操作 */\r\n    handleUpdate (row, _this) {\r\n      console.log(_this);\r\n      _this.reset();\r\n      const id = row.id || _this.ids\r\n      getInfo(id).then(response => {\r\n        _this.form = response.data;\r\n        _this.open = true;\r\n        _this.title = \"修改轮播组件\";\r\n        let fileBase64 = response.data.fileBase64;\r\n        if (fileBase64) {\r\n          _this.options.img = URL.createObjectURL(_this.base64ToBlob(fileBase64))\r\n        }\r\n        //this.files.push(option)\r\n\r\n      });\r\n    },\r\n    /** 提交按钮 */\r\n    submitForm () {\r\n      this.$refs[\"form\"].validate(valid => {\r\n        if (valid) {\r\n          let formData = new FormData();\r\n          this.$refs.cropper.getCropBlob(data => {\r\n            if (!data) {\r\n              this.$message.error(\"请上传文件\");\r\n              return;\r\n            }\r\n            formData.append(\"file\", data);\r\n            formData.append(\"componentId\", this.form.componentId)\r\n            formData.append(\"orderNum\", this.form.orderNum)\r\n            if (this.form.id != null) {\r\n              formData.append(\"id\", this.form.id);\r\n            }\r\n            upload(formData).then(response => {\r\n              if (response && response.data) {\r\n                this.$modal.msgSuccess(\"操作成功\");\r\n                this.open = false;\r\n                this.$parent.getList();\r\n              }\r\n\r\n            });\r\n          })\r\n\r\n        }\r\n      });\r\n    },\r\n    /** 删除按钮操作 */\r\n    handleDelete (row) {\r\n      const ids = row.id || this.ids;\r\n      this.$modal.confirm('是否确认删除轮播组件编号为\"' + ids + '\"的数据项？').then(function () {\r\n        return delInfo(ids);\r\n      }).then(() => {\r\n        this.getList();\r\n        this.$modal.msgSuccess(\"删除成功\");\r\n      }).catch(() => { });\r\n    },\r\n\r\n    // 关闭窗口\r\n    closeDialog () {\r\n      this.options.img = null\r\n      this.open = false;\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.banner-upload-preview {\r\n  height: 100%;\r\n  box-shadow: 0 0 4px #ccc;\r\n  overflow: hidden;\r\n\r\n}\r\n</style>\r\n"]}]}